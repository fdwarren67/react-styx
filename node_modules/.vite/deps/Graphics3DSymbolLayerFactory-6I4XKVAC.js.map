{
  "version": 3,
  "sources": ["../../@arcgis/core/views/3d/layers/graphics/polygonUtils.js", "../../@arcgis/core/views/3d/support/renderInfoUtils/polygon.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DExtrudeSymbolLayer.js", "../../@arcgis/core/views/3d/webgl-engine/effects/focusArea/FocusAreaColorTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/effects/focusArea/FocusAreaColorNode.js", "../../@arcgis/core/views/3d/webgl-engine/effects/focusArea/FocusAreaMaskTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/effects/focusArea/FocusAreaMaskNode.js", "../../@arcgis/core/views/FocusAreas.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DDrapedGraphicLayer.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DIconSymbolLayer.js", "../../@arcgis/core/views/3d/layers/graphics/lineUtils.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/LineMarkerTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/materials/LineMarkerMaterial.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DLineSymbolLayer.js", "../../@arcgis/core/views/3d/layers/graphics/meshAutoFastUpdateConstants.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DMeshObject3DGraphicLayer.js", "../../@arcgis/core/views/3d/layers/graphics/MeshFastUpdateProcessor.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/NativeLineTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/NativeLineTechniqueConfiguration.js", "../../@arcgis/core/views/3d/webgl-engine/materials/NativeLineMaterial.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DMeshFillSymbolLayer.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DLodInstanceGraphicLayer.js", "../../@arcgis/core/views/3d/layers/graphics/lodResourceUtils.js", "../../@arcgis/core/views/3d/layers/graphics/webStyleUtils.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DObjectSymbolLayer.js", "../../@arcgis/core/views/3d/webgl-engine/lib/Path.js", "../../@arcgis/core/views/3d/webgl-engine/lib/PathBuilder.js", "../../@arcgis/core/views/3d/webgl-engine/lib/PathCapBuilder.js", "../../@arcgis/core/views/3d/webgl-engine/lib/PathExtruder.js", "../../@arcgis/core/views/3d/webgl-engine/lib/PathGeometry.js", "../../@arcgis/core/views/3d/webgl-engine/lib/PathGeometryData.js", "../../@arcgis/core/views/3d/webgl-engine/lib/pathGeometryUtils.js", "../../@arcgis/core/views/3d/webgl-engine/lib/PathProfile.js", "../../@arcgis/core/core/libs/gl-matrix-2/math/mat2.js", "../../@arcgis/core/core/libs/gl-matrix-2/factories/mat2f64.js", "../../@arcgis/core/views/3d/webgl-engine/lib/PathVertex.js", "../../@arcgis/core/views/3d/webgl-engine/materials/PathTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/materials/PathTechniqueConfiguration.js", "../../@arcgis/core/views/3d/webgl-engine/materials/PathMaterial.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DPathSymbolLayer.js", "../../@arcgis/core/views/3d/layers/support/uvUtils.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/PatternTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/PatternTechniqueConfiguration.js", "../../@arcgis/core/views/3d/webgl-engine/materials/PatternMaterial.js", "../../@arcgis/core/views/3d/layers/support/patternUtils.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DPolygonFillSymbolLayer.js", "../../@arcgis/core/views/3d/layers/graphics/LabelParameters.js", "../../@arcgis/core/views/3d/webgl-engine/lib/TextRenderParameters.js", "../../@arcgis/core/views/3d/webgl-engine/lib/TextTextureAtlas.js", "../../@arcgis/core/views/3d/webgl-engine/lib/TextTextureFactory.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DTextSymbolLayer.js", "../../@arcgis/core/views/3d/webgl-engine/materials/WaterTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/materials/WaterGLMaterial.js", "../../@arcgis/core/views/3d/webgl-engine/materials/WaterTechniqueConfiguration.js", "../../@arcgis/core/views/3d/webgl-engine/materials/WaterMaterial.js", "../../@arcgis/core/views/3d/webgl-engine/materials/internal/waterMaterialUtils.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DWaterSymbolLayer.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DSymbolLayerFactory.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{e as t}from\"../../../../chunks/earcut.js\";import e from\"../../../../geometry/Extent.js\";import r from\"../../../../geometry/Polygon.js\";import{Axis as i}from\"../../../../geometry/support/Axis.js\";import{getZeroIndexArray as o}from\"../../../../geometry/support/Indices.js\";import{leastSignificantAxis as n}from\"../../../../geometry/support/polygonUtils.js\";import{Attribute as a}from\"../../webgl-engine/lib/Attribute.js\";import{ContentObjectType as s}from\"../../webgl-engine/lib/ContentObjectType.js\";import{Geometry as u}from\"../../webgl-engine/lib/Geometry.js\";import{VertexAttribute as c}from\"../../webgl-engine/lib/VertexAttribute.js\";function p(e,r,o){const a=(r.length>0?r[0]:e.length/3)-1,s=n(e,a,o);if(s!==i.Z){e=e.slice();for(let t=0;t<e.length;t+=3)e[t+s]=e[t+2]}return t(e,r,3)}function l(t){const e=[[c.POSITION,new a(t.attributeData.position,t.indices,3,!0)]],r=o(t.indices.length);return null!=t.attributeData.colorFeature?e.push([c.COLORFEATUREATTRIBUTE,new a([t.attributeData.colorFeature],r,1,!0)]):t.attributeData.color&&e.push([c.COLOR,new a(t.attributeData.color,r,4,!0)]),t.attributeData.uvMapSpace&&e.push([c.UVMAPSPACE,new a(t.attributeData.uvMapSpace,t.indices,4,!0)]),t.attributeData.boundingRect&&e.push([c.BOUNDINGRECT,new a(t.attributeData.boundingRect,t.indices,9,!0)]),new u(t.material,e,t.mapPositions,s.Mesh,t.attributeData.objectAndLayerIdColor)}function m(t,e=null){const r=[[c.POSITION,new a(t.attributeData.position,t.indices,3,!0)],[c.UV0,new a(t.attributeData.uv0,t.indices,2,!0)]];return new u(t.material,r,t.mapPositions,s.Mesh,e)}function b(t){switch(t.type){case\"extent\":if(t instanceof e)return r.fromExtent(t);break;case\"polygon\":return t}return null}class g{constructor(t,e,r){this.renderData=t,this.layerUid=e,this.graphicUid=r,this.outGeometries=new Array}}export{g as PolygonCreationDataBase,l as createColorGeometry,p as createIndices3D,m as createWaterGeometry,b as geometryAsPolygon};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{projectBuffer as o}from\"../../../../geometry/projection/projectBuffer.js\";import{newDoubleArray as t,doubleSubArray as n}from\"../../../../geometry/support/DoubleArray.js\";import{ringsToTriangulationInfo as s,CounterClockwiseMode as i}from\"../../../../geometry/support/triangulationUtils.js\";import{applyPerVertexElevationAlignment as e}from\"../../layers/graphics/elevationAlignmentUtils.js\";import{drapedZ as r}from\"../../terrain/OverlayRenderer.js\";function p(o,n,r,p){const c=s(o.rings,!!o.hasZ&&\"on-the-ground\"!==p.mode,i.CCW_IS_HOLE,o.spatialReference),a=t(c.position.length),h=e(c.position,o.spatialReference,0,a,0,c.position,0,c.position.length/3,n,r,p),m=null!=h;return new g(c.position,a,u(c.polygons,c.position,a),l(c.outlines,c.position,a),m,h)}function c(t,n){const e=s(t.rings,!1,i.CCW_IS_HOLE),p=o(e.position,t.spatialReference,0,e.position,n,0);for(let o=2;o<e.position.length;o+=3)e.position[o]=r;return{position:e.position,polygons:u(e.polygons,e.position),outlines:l(e.outlines,e.position),projectionSuccess:p}}function l(o,t,s=null){return o.filter((({count:o})=>o>1)).map((({index:o,count:i})=>{const e=3*o,r=3*i;return null!=s?new h(o,i,n(t,e,r),n(s,e,r)):new a(o,i,n(t,e,r))}))}function u(o,t,s=null){const i=new Array;for(const{index:e,count:r,holeIndices:p,pathLengths:c}of o){if(r<=1)continue;const o=3*e,l=3*r,u=p.map((o=>o-e)),a=null!=s?new m(e,r,n(t,3*e,3*r),n(s,o,l),u,c):new f(e,r,n(t,3*e,3*r),u,c);i.push(a)}return i}class a{constructor(o,t,n){this.index=o,this.count=t,this.position=n}}class h extends a{constructor(o,t,n,s){super(o,t,n),this.mapPositions=s}}class m extends h{constructor(o,t,n,s,i,e){super(o,t,n,s),this.holeIndices=i,this.pathLengths=e}}class f extends a{constructor(o,t,n,s,i){super(o,t,n),this.holeIndices=s,this.pathLengths=i}}class g{constructor(o,t,n,s,i,e){this.position=o,this.mapPositions=t,this.polygons=n,this.outlines=s,this.projectionSuccess=i,this.sampledElevation=e}}export{g as PolygonRenderInfo,m as PolygonVertexData,f as PolygonVertexDataDraped,p as geometryToRenderInfo,c as geometryToRenderInfoDraped};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import t from\"../../../../core/Error.js\";import{clone as e}from\"../../../../core/lang.js\";import{getMetersPerVerticalUnitForSR as r}from\"../../../../core/unitUtils.js\";import{e as s}from\"../../../../chunks/earcut.js\";import{normalFromMat4 as o}from\"../../../../core/libs/gl-matrix-2/math/mat3.js\";import{create as i}from\"../../../../core/libs/gl-matrix-2/factories/mat3f64.js\";import{invert as n,invertOrIdentity as a}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as l}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{F as c,c as m,n as p,i as h,d as g,e as d,t as u,a as f}from\"../../../../chunks/vec32.js\";import{fromArray as y,clone as b,ZEROS as _,create as x}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{computeTranslationToOriginAndRotation as S}from\"../../../../geometry/projection/computeTranslationToOriginAndRotation.js\";import{create as j,fromBuffer as P,intersectsClippingArea as E}from\"../../../../geometry/support/aaBoundingBox.js\";import{newDoubleArray as w}from\"../../../../geometry/support/DoubleArray.js\";import{newIndexArray as O,getZeroIndexArray as v}from\"../../../../geometry/support/Indices.js\";import{t as C}from\"../../../../chunks/vec3.js\";import{makeVertexCandidate as M,makeEdgeCandidate as I}from\"../../../../layers/graphics/data/SnappingCandidate.js\";import{getDriverAxisSizeValue as A}from\"../../../../renderers/support/renderingInfoUtils.js\";import{ViewingMode as L}from\"../../../ViewingMode.js\";import{needsElevationUpdates3D as z,SampleElevationInfo as B}from\"./elevationAlignmentUtils.js\";import{Object3DEdgeState as D,Graphics3DObject3DGraphicLayer as R}from\"./Graphics3DObject3DGraphicLayer.js\";import{Graphics3DSymbolLayer as T}from\"./Graphics3DSymbolLayer.js\";import{validateSymbolLayerSize as U,computeCentroid as G}from\"./graphicUtils.js\";import{ApplyRendererDiffResult as N}from\"./interfaces.js\";import{geometryAsPolygon as V}from\"./polygonUtils.js\";import{createMaterial as F}from\"../support/edgeUtils.js\";import{debugFlags as k}from\"../../support/debugFlags.js\";import{SamplePosition as H}from\"../../support/ElevationProvider.js\";import{geometryToRenderInfo as W}from\"../../support/renderInfoUtils/polygon.js\";import{NormalType as q}from\"../../webgl-engine/core/shaderLibrary/attributes/NormalAttribute.glsl.js\";import{Attribute as Z}from\"../../webgl-engine/lib/Attribute.js\";import{CullFaceOptions as J}from\"../../webgl-engine/lib/basicInterfaces.js\";import{ContentObjectType as K}from\"../../webgl-engine/lib/ContentObjectType.js\";import{Geometry as Q}from\"../../webgl-engine/lib/Geometry.js\";import{isGeometryWithMapPositions as X}from\"../../webgl-engine/lib/GeometryWithMapPositions.js\";import{compressNormals as Y,compressNormal as $}from\"../../webgl-engine/lib/Normals.js\";import{Object3D as tt}from\"../../webgl-engine/lib/Object3D.js\";import{VertexAttribute as et}from\"../../webgl-engine/lib/VertexAttribute.js\";import{DefaultMaterial as rt}from\"../../webgl-engine/materials/DefaultMaterial.js\";const st=[\"polygon\",\"extent\"];class ot extends T{constructor(t,e,r,s){super(t,e,r,s),this.ensureDrapedStatus(!1)}async doLoad(){if(!this._drivenProperties.size){const e=U(this._getSymbolSize());if(e)throw new t(\"graphics3dextrudesymbollayer:invalid-size\",e)}const e=this.symbolLayer?.material?.color,r=this._getCombinedOpacityAndColor(e),s=y(r),o=r[3],i=o<1||this.needsDrivenTransparentPass,n=this.symbolLayer?.material?.emissiveFactor,a=n?c(b(n)):_,l={usePBR:this._context.physicalBasedRenderingEnabled,isSchematic:!0,diffuse:s,ambient:s,opacity:o,transparent:i,cullFace:i?J.None:J.Back,hasVertexColors:!0,hasSlicePlane:this._context.slicePlaneEnabled,castShadows:this.symbolLayer.castShadows,emissiveFactor:a,offsetTransparentBackfaces:!0,normalType:q.Compressed};this._materials[It.Main]=new rt(l,this._context),this._materials[It.Bottom]=new rt({...l,cullFace:J.Back},this._context),this._context.stage.addMany(this._materials)}destroy(){super.destroy(),this._context.stage.removeMany(this._materials),this._materials.length=0}createGraphics3DGraphic(t){const e=t.graphic;if(!this._validateGeometry(e.geometry,st,this.symbolLayer.type))return null;const r=this._getVertexOpacityAndColor(t.renderingInfo,255),s=this.setGraphicElevationContext(e);return this._createAs3DShape(e,t.renderingInfo,r,s,e.uid)}layerOpacityChanged(t,e){const r=this.symbolLayer?.material?.color,s=this._getCombinedOpacity(r),o=s<1||this.needsDrivenTransparentPass;this._materials[It.Main]?.setParameters({opacity:s,transparent:o}),this._materials[It.Bottom]?.setParameters({opacity:s,transparent:o});const i=this._getLayerOpacity();t.forEach((t=>e(t)?.layerOpacityChanged(i,this._context.isAsync)))}layerElevationInfoChanged(t,e){return this.updateGraphics3DGraphicElevationInfo(t,e,z)}slicePlaneEnabledChanged(t,e){return this._materials[It.Main]?.setParameters({hasSlicePlane:this._context.slicePlaneEnabled}),this._materials[It.Bottom]?.setParameters({hasSlicePlane:this._context.slicePlaneEnabled}),t.forEach((t=>{const r=e(t);null!=r&&r.slicePlaneEnabledChanged(this._context.slicePlaneEnabled,this._context.isAsync)})),!0}physicalBasedRenderingChanged(){const t={usePBR:this._context.physicalBasedRenderingEnabled,isSchematic:!0};return this._materials[It.Main]?.setParameters(t),this._materials[It.Bottom]?.setParameters(t),!0}_getExtrusionSize(t){let e;return e=t.size&&this._drivenProperties.size?A(t.size,2)??0:this._getSymbolSize(),e/=this._context.renderCoordsHelper.unitInMeters,e}applyRendererDiff(t,e){return this._drivenPropertiesChanged(e)?N.RecreateSymbol:N.RecreateGraphics}async queryForSnapping(t,s,o,i){const n=this._getExtrusionSize(o)*this._context.renderCoordsHelper.unitInMeters/r(s),{objectId:a,target:l}=t,c=e(l);switch(c.z=(c.z??0)+n,t.type){case\"edge\":{const{start:r,end:s}=t,o=e(r),i=e(s);return o.z=(o.z??0)+n,i.z=(i.z??0)+n,[I(a,c,1/0,o,i)]}case\"vertex\":return[M(a,c,1/0),I(a,l,1/0,l,c)];default:return[]}}_getSymbolSize(){return this.symbolLayer.size??1}_createAs3DShape(t,e,r,a,c){const m=V(t.geometry);if(null==m)return null;if(0===m.rings.length||!m.rings.some((t=>t.length>0)))return this._logGeometryValidationWarnings(m.rings,\"rings\",\"ExtrudeSymbol3DLayer\"),null;const p=W(m,this._context.elevationProvider,this._context.renderCoordsHelper,a);this._logGeometryCreationWarnings(p,m.rings,\"rings\",\"ExtrudeSymbol3DLayer\");const h=G(m);if(null==h)return null;const g=new Array,d=new Array,u=j(),f=l(),y=x(),b=this._context.renderCoordsHelper.viewingMode===L.Global;b||this._context.renderCoordsHelper.worldUpAtPosition(null,y),S(m.spatialReference,[h.x,h.y,0],f,this._context.renderCoordsHelper.spatialReference);const _=l();n(_,f);const v=i();o(v,_);const{polygons:M,mapPositions:I,position:A}=p,B=new Map,T=this._materials[It.Main];for(const o of M){const t=o.count;if(this._context.clippingExtent&&(P(o.mapPositions,u),!E(u,this._context.clippingExtent)))continue;const i=s(o.mapPositions,o.holeIndices,3);if(0===i.length)continue;const n=i.length,a=6*t,l=O(a+n),m=O(n),p=w(3*a),h=w(3*a),x=w(3*a),S=w(a);nt(A,I,i,o,p,x,h,S,l,m,this._getExtrusionSize(e),y,b),C(p,p,_);const j=this._context.stage.renderView.getObjectAndLayerIdColor({graphicUid:c,layerUid:this._context.layer.uid}),v=new At(p,x,Y(h),S),M=it(T,l,l.length-m.length,v,r,j),L=t,z=t,D=2*o.count,R=new Lt(L,z,D,n/3);_t(M,R,f),B.set(M,R),g.push(M,it(this._materials[It.Bottom],m,0,v,r,j)),d.push(v.heights)}if(0===g.length)return null;const U=new tt({geometries:g,layerUid:this._context.layer.uid,graphicUid:c,isElevationSource:!0});U.transformation=f;const N=F(this.symbolLayer,{opacity:this._getLayerOpacity()}),k=N?new D(this._materials[It.Main],N,this._context.slicePlaneEnabled):null,H=new R(this,U,g,null,null,((t,e,r,s,o)=>bt(t,e,r,s,o,d,B)),a,k);return H.alignedSampledElevation=p.sampledElevation,H.needsElevationUpdates=z(a.mode),H}}function it(t,e,r,s,o,i){const n=v(e.length),a=[[et.POSITION,new Z(s.positions,e,3,!0)],[et.NORMALCOMPRESSED,new Z(s.normals,e,2,!0)],[et.COLOR,new Z(o,n,4,!0)]];return new Q(t,a,s.elevation,K.Mesh,i,r)}function nt(t,e,r,s,o,i,n,a,l,c,m,p,h){{const g=r.length/3,d=2*s.count;at(t,e,s.index,s.count,r,0,g,o,i,n,a,l,c,d,m,p,h)}{let t=0,e=2*s.count,r=0;const c=s.pathLengths[0];mt(o,i,a,n,t,c,s.count,e,l,r,m),e+=4*c,r+=2*c,t+=c;for(let p=1;p<s.pathLengths.length;++p){const c=s.pathLengths[p];mt(o,i,a,n,t,c,s.count,e,l,r,m),e+=4*c,r+=2*c,t+=c}}}function at(t,e,r,s,o,i,n,a,l,c,h,g,d,u,f,y,b){m(St,y);{const o=f>0?1:-1;let i=3*r,n=0,m=3*n,g=s,d=3*g;for(let r=0;r<s;++r){const r=t[i],s=t[i+1],u=t[i+2];b&&(St[0]=r,St[1]=s,St[2]=u,p(St,St)),a[m+0]=r,a[m+1]=s,a[m+2]=u;const y=e[i+0],_=e[i+1],x=e[i+2];l[m+0]=y,l[m+1]=_,l[m+2]=x,c[m+0]=-o*St[0],c[m+1]=-o*St[1],c[m+2]=-o*St[2],h[n]=0,a[d+0]=r+f*St[0],a[d+1]=s+f*St[1],a[d+2]=u+f*St[2],l[d+0]=y,l[d+1]=_,l[d+2]=x,h[g]=f,m+=3,d+=3,i+=3,n+=1,g+=1}}{let t=3*i,e=0,r=3*u;const a=f<0?Et:Pt,l=f<0?Pt:Et;for(let i=0;i<n;++i)d[e]=o[t+a[0]],d[e+1]=o[t+a[1]],d[e+2]=o[t+a[2]],g[r]=o[t+l[0]]+s,g[r+1]=o[t+l[1]]+s,g[r+2]=o[t+l[2]]+s,e+=3,r+=3,t+=3}}function lt(t,e,r,s,o,i,n){s[i]=s[n],n*=3,t[i*=3]=t[n],t[i+1]=t[n+1],t[i+2]=t[n+2],e[i]=e[n],e[i+1]=e[n+1],e[i+2]=e[n+2],r[i]=o[0],r[i+1]=o[1],r[i+2]=o[2]}const ct=x();function mt(t,e,r,s,o,i,n,a,l,c,m){let p=o,h=o+1,g=o+n,d=o+n+1,u=a,f=a+1,y=a+2*i,b=a+2*i+1;m<0&&(p=o+n+1,d=o);let _=3*c;for(let x=0;x<i;++x)x===i-1&&(h=o,m>0?d=o+n:p=o+n),ft(t,p,h,g,ct),lt(t,e,s,r,ct,u,p),lt(t,e,s,r,ct,f,h),lt(t,e,s,r,ct,y,g),lt(t,e,s,r,ct,b,d),l[_]=u,l[_+1]=y,l[_+2]=b,l[_+3]=u,l[_+4]=b,l[_+5]=f,_+=6,p++,h++,g++,d++,u+=2,f+=2,y+=2,b+=2}const pt=x(),ht=x(),gt=x(),dt=x(),ut=x();function ft(t,e,r,s,o){e*=3,r*=3,s*=3,h(pt,t[e++],t[e++],t[e++]),h(ht,t[r++],t[r++],t[r++]),h(gt,t[s++],t[s++],t[s++]),g(dt,ht,pt),g(ut,gt,pt),d(o,ut,dt),p(o,o)}const yt=x();function bt(t,e,r,s,o,i,n){const c=t.stageObject,m=c.geometries,p=m.length,g=\"absolute-height\"!==e.mode;let d=0;const f=c.transformation,y=a(l(),f);for(let a=0;a<p;a+=2){const t=m[a];if(!X(t))continue;const e=t.getMutableAttribute(et.POSITION).data,l=i[a/2],p=new H(t.mapPositions),b=e.length/3;let _=!1,x=0;{let t=0;for(let i=0;i<b;i++){yt[0]=e[t],yt[1]=e[t+1],yt[2]=e[t+2],s(p,jt),g&&(x+=jt.sampledElevation),k.TESTS_DISABLE_OPTIMIZATIONS?(h(xt,p.array[p.offset],p.array[p.offset+1],jt.z+l[t/3]),null!=r&&o.toRenderCoords(xt,r,xt),u(xt,xt,y)):(h(xt,e[t],e[t+1],e[t+2]),u(xt,xt,f),o.setAltitude(xt,jt.z+l[t/3]),u(xt,xt,y)),e[t]=xt[0],e[t+1]=xt[1],e[t+2]=xt[2];const i=wt/o.unitInMeters;(Math.abs(yt[0]-e[t])>=i||Math.abs(yt[1]-e[t+1])>=i||Math.abs(yt[2]-e[t+2])>=i)&&(_=!0),p.offset+=3,t+=3}}if(_){const e=n.get(t);e&&_t(t,e,f),c.geometryVertexAttributeUpdated(m[a],et.NORMALCOMPRESSED),t.invalidateBoundingInfo(),c.geometryVertexAttributeUpdated(m[a],et.POSITION),m[a+1].invalidateBoundingInfo(),c.geometryVertexAttributeUpdated(m[a+1],et.POSITION)}d+=x/b}return d/p}function _t(t,e,r){const s=t.getMutableAttribute(et.POSITION),o=t.getMutableAttribute(et.NORMALCOMPRESSED).data,{topVertexStart:i,topVertexCount:n,topFaceStart:a,topFaceCount:l}=e,c=s.data,m=n,g=t.attributes.get(et.POSITION).indices,y=a+l,b=i+n,_=w(3*m);for(let p=0;p<m;++p){const t=3*p;_[t+0]=0,_[t+1]=0,_[t+2]=0}const x=Ot,S=vt,j=Ct,P=Mt,E=St;for(let w=a;w<y;++w){const t=3*w;for(let e=0;e<3;++e){const s=g[t+e];P[e]=s;const o=3*s;h(xt,c[o+0],c[o+1],c[o+2]),u(x[e],xt,r)}f(S,x[1],x[0]),f(j,x[2],x[0]),d(E,S,j),p(E,E);for(let e=0;e<3;++e){const t=3*(P[e]-i);_[t+0]+=E[0],_[t+1]+=E[1],_[t+2]+=E[2]}}for(let p=i;p<b;++p){const t=3*(p-i),e=_[t+0],r=_[t+1],s=_[t+2],n=Math.sqrt(e*e+r*r+s*s);$(o,p,e/n,r/n,s/n)}}const xt=x(),St=x(),jt=new B,Pt=[0,2,1],Et=[0,1,2],wt=.01,Ot=[x(),x(),x()],vt=x(),Ct=x(),Mt=[0,0,0];var It;!function(t){t[t.Main=0]=\"Main\",t[t.Bottom=1]=\"Bottom\"}(It||(It={}));class At{constructor(t,e,r,s){this.positions=t,this.elevation=e,this.normals=r,this.heights=s}}class Lt{constructor(t,e,r,s){this.topVertexStart=t,this.topVertexCount=e,this.topFaceStart=r,this.topFaceCount=s}}export{ot as Graphics3DExtrudeSymbolLayer,nt as extrudePolygon};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../../core/shaderTechnique/ShaderTechnique.js\";import{a as o}from\"../../../../../chunks/FocusAreaColor.glsl.js\";import{makePipelineState as s,defaultColorWrite as i}from\"../../../../webgl/renderState.js\";class a extends r{constructor(r,s){super(r,s,new e(o,(()=>import(\"../../shaders/FocusAreaColor.glsl.js\"))))}initializePipeline(){return s({colorWrite:i})}}export{a as FocusAreaColorTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import{property as r}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/RandomLCG.js\";import{subclass as s}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{RenderCategory as o,InternalRenderCategory as t}from\"../../../webgl.js\";import i from\"../../../webgl/RenderNode.js\";import{FocusAreaColorTechnique as c}from\"./FocusAreaColorTechnique.js\";import{F as a}from\"../../../../../chunks/FocusAreaColor.glsl.js\";let n=class extends i{constructor(e){super({...e,view:e.focusAreas.view}),this.consumes={required:[o.COMPOSITE,t.FOCUSAREA]},this.produces=o.COMPOSITE,this._passParameters=new a}precompile(){this.techniques.precompile(c)}render(e){const r=this.techniques.get(c),s=e.find((({name:e})=>e===o.COMPOSITE));if(!r.compiled)return this.requestRender(),s;const i=this.bindParameters,a=i.camera,n=a.fullViewport[2],p=a.fullViewport[3],m=e.find((({name:e})=>e===t.FOCUSAREA)),h=this.fboCache.acquire(n,p,this.produces),d=this.renderingContext;return d.gl.clear(d.gl.STENCIL_BUFFER_BIT),d.bindFramebuffer(h.fbo),this._passParameters.color=s.getTexture(),this._passParameters.focusArea=m.getTexture(),this._passParameters.effect=u[this.focusAreas.style],d.bindTechnique(r,i,this._passParameters),d.screen.draw(),h.attachDepth(s.getAttachment(this.gl.DEPTH_STENCIL_ATTACHMENT)),h}};var p;e([r()],n.prototype,\"consumes\",void 0),e([r()],n.prototype,\"produces\",void 0),e([r({constructOnly:!0})],n.prototype,\"focusAreas\",void 0),n=e([s(\"esri.views.3d.webgl-engine.effects.focusArea.FocusAreaColorNode\")],n),function(e){e[e.NONE=0]=\"NONE\",e[e.BRIGHT=1]=\"BRIGHT\",e[e.DARK=2]=\"DARK\"}(p||(p={}));const u={none:p.NONE,bright:p.BRIGHT,dark:p.DARK};export{n as FocusAreaColorNode};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../../core/shaderTechnique/ShaderTechnique.js\";import{a as s}from\"../../../../../chunks/FocusAreaMask.glsl.js\";import{CompareFunction as o}from\"../../../../webgl/enums.js\";import{makePipelineState as t,defaultColorWrite as a}from\"../../../../webgl/renderState.js\";class i extends r{constructor(r,o){super(r,o,new e(s,(()=>import(\"../../shaders/FocusAreaMask.glsl.js\"))))}initializePipeline(){return t({colorWrite:a,depthTest:{func:o.LEQUAL}})}}export{i as FocusAreaMaskTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import{property as t}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/RandomLCG.js\";import{subclass as s}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{InternalRenderCategory as r,RenderCategory as o}from\"../../../webgl.js\";import{ColorFormat as i}from\"../../../webgl/formats.js\";import n from\"../../../webgl/RenderNode.js\";import{FocusAreaMaskTechnique as a}from\"./FocusAreaMaskTechnique.js\";import{Default3D as c}from\"../../lib/DefaultVertexAttributeLocations.js\";import{Pos3 as h}from\"../../lib/DefaultVertexBufferLayouts.js\";import{VertexArrayObject as p}from\"../../lib/VertexArrayObject.js\";import{F as l}from\"../../../../../chunks/FocusAreaMask.glsl.js\";import{BufferObject as u}from\"../../../../webgl/BufferObject.js\";import{FramebufferBit as m,Face as d,StencilOperation as g,CompareFunction as f,PrimitiveType as A,Usage as E}from\"../../../../webgl/enums.js\";import{noParameters as _}from\"../../../../webgl/NoParameters.js\";let b=class extends n{constructor(e){super({...e,view:e.focusAreas.view}),this.consumes={required:[r.FOCUSAREA,o.TRANSPARENT]},this.produces=r.FOCUSAREA,this._vaos=new Array,this._counts=new Array,this._origins=new Array,this._maskParameters=new l}initialize(){this.updateGeometries()}destroy(){this._vaos.forEach((e=>e.dispose())),this._vaos.length=this._counts.length=this._origins.length=0}precompile(){this.techniques.precompile(a)}render(e){const t=this.techniques.get(a),s=this.bindParameters,n=s.camera,c=n.fullViewport[2],h=n.fullViewport[3],p=this.fboCache.acquire(c,h,r.FOCUSAREA,i.RGBA);if(!t.compiled||!this._vaos)return this.requestRender(),p;const l=e.find((({name:e})=>e===o.TRANSPARENT)),u=this.renderingContext;p.attachDepth(l.getAttachment(this.gl.DEPTH_STENCIL_ATTACHMENT)),u.bindFramebuffer(p.fbo),u.clear(m.COLOR|m.STENCIL),u.setViewport(0,0,c,h),u.gl.clearStencil(0),u.gl.clear(u.gl.STENCIL_BUFFER_BIT),u.setClearStencil(0);const E=u.bindTechnique(t,s);u.setFaceCullingEnabled(!1),u.setStencilTestEnabled(!0),u.setStencilOpSeparate(d.FRONT,g.KEEP,g.INCR_WRAP,g.KEEP),u.setStencilOpSeparate(d.BACK,g.KEEP,g.DECR_WRAP,g.KEEP),u.setDepthWriteEnabled(!1);for(let r=0;r<this._vaos.length;r++){const e=this._vaos[r],t=this._counts[r];this._maskParameters.origin=this._origins[r],E.bindDraw(s,_,this._maskParameters),u.bindVAO(e),u.setStencilWriteMask(255),u.setStencilFunction(f.ALWAYS,0,255),u.setColorMask(!1,!1,!1,!1),u.drawArrays(A.TRIANGLES,0,t),u.setStencilWriteMask(0),u.setStencilFunction(f.NOTEQUAL,0,255),u.setColorMask(!0,!0,!0,!0),u.drawArrays(A.TRIANGLES,0,t)}return p}updateGeometries(){if(!this.view._stage)return;this._vaos.forEach((e=>e.dispose())),this._vaos.length=this._counts.length=this._origins.length=0;const e=this.focusAreas.geometries;for(const t of e){const e=new Array,s=t.indicesBottom;for(let n=0;n<s.length;n++)e.push(t.positions[3*(s[n]-1)]),e.push(t.positions[3*(s[n]-1)+1]),e.push(t.positions[3*(s[n]-1)+2]);const r=t.indicesExtruded;for(let n=0;n<r.length;n++)e.push(t.positions[3*r[n]]),e.push(t.positions[3*r[n]+1]),e.push(t.positions[3*r[n]+2]);const o=new Float32Array(e),i=new p(this.renderingContext,c,new Map([[\"geometry\",h]]),new Map([[\"geometry\",u.createVertex(this.renderingContext,E.STATIC_DRAW,o)]]));this._vaos.push(i),this._counts.push(s.length+r.length),this._origins.push(t.origin)}this.requestRender()}};e([t()],b.prototype,\"consumes\",void 0),e([t()],b.prototype,\"produces\",void 0),e([t({constructOnly:!0})],b.prototype,\"focusAreas\",void 0),b=e([s(\"esri.views.3d.webgl-engine.effects.focusArea.FocusAreaMaskNode\")],b);class w{constructor(e,t,s,r,o,i){this.positions=e,this.indicesBottom=t,this.indicesExtruded=s,this.height=r,this.origin=o,this.color=i}}var R;!function(e){e[e.NONE=0]=\"NONE\",e[e.BRIGHT=1]=\"BRIGHT\",e[e.DARK=2]=\"DARK\"}(R||(R={}));export{R as FocusAreaEffect,w as FocusAreaGeometry,b as FocusAreaMaskNode};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import o from\"../core/Accessor.js\";import s from\"../core/Collection.js\";import{destroyMaybe as r}from\"../core/maybe.js\";import{watch as t,syncAndInitial as i}from\"../core/reactiveUtils.js\";import{property as a}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/RandomLCG.js\";import{subclass as n}from\"../core/accessorSupport/decorators/subclass.js\";import{e as c}from\"../chunks/earcut.js\";import{create as m}from\"../core/libs/gl-matrix-2/factories/mat4f64.js\";import{n as d}from\"../chunks/vec32.js\";import{create as p}from\"../core/libs/gl-matrix-2/factories/vec3f64.js\";import l from\"../geometry/Point.js\";import{computeTranslationToOriginAndRotation as h}from\"../geometry/projection/computeTranslationToOriginAndRotation.js\";import{newDoubleArray as u}from\"../geometry/support/DoubleArray.js\";import{newIndexArray as f}from\"../geometry/support/Indices.js\";import{t as g}from\"../chunks/vec3.js\";import{ViewingMode as y}from\"./ViewingMode.js\";import{ElevationContext as v}from\"./3d/layers/graphics/ElevationContext.js\";import{extrudePolygon as j}from\"./3d/layers/graphics/Graphics3DExtrudeSymbolLayer.js\";import{computeCentroid as _}from\"./3d/layers/graphics/graphicUtils.js\";import{geometryToRenderInfo as w}from\"./3d/support/renderInfoUtils/polygon.js\";import{FocusAreaColorNode as A}from\"./3d/webgl-engine/effects/focusArea/FocusAreaColorNode.js\";import{FocusAreaGeometry as b,FocusAreaMaskNode as R}from\"./3d/webgl-engine/effects/focusArea/FocusAreaMaskNode.js\";const G=0,N=5e6,k=.42,x=.32;function C(e,o){if(e){if(\"bright\"===o){const o=(e[0]+e[1]+e[2])/3;return[o*x+(1-x),o*x+(1-x),o*x+(1-x),e[3]*x]}return\"dark\"===o?[e[0]*k,e[1]*k,e[2]*k,e[3]*k]:e}}let F=class extends o{constructor(e){super(e),this.style=\"dark\",this.geometries=new Array,this._areas=new s,this._elevationContext=new v}initialize(){this.addHandles([t((()=>this.style),(()=>this._updateRenderNodes()),i)]),this.addHandles([t((()=>this.activePolygons),(()=>this._updateFocusAreaGeometries()),i)])}get activePolygons(){const e=new s;for(const o of this.areas)if(o.enabled)for(const s of o.geometries)e.push(s);return e}add(e){this.areas.add(e),this._updateFocusAreaGeometries()}addMany(e){this.areas.addMany(e),this._updateFocusAreaGeometries()}remove(e){this.areas.remove(e),this._updateFocusAreaGeometries()}removeMany(e){this.areas.removeMany(e),this._updateFocusAreaGeometries()}removeAll(){this.areas.removeAll(),this._updateFocusAreaGeometries()}containsGeometry(e){let o=!0;const s=new l(e);return o=this.areas.some((e=>!!e.enabled&&(!!e?.geometries.length&&e.geometries.some((e=>e.contains(s)))))),o}get areas(){return this._areas}_updateFocusAreaGeometries(){this._extrudePolygons(),this._updateRenderNodes()}_extrudePolygons(){if(!this.view.renderCoordsHelper)return;this.geometries.length=0;const e=N-G,o=p(),s=this.view.renderCoordsHelper.viewingMode===y.Global,r=m(),t=m();s||this.view.renderCoordsHelper.worldUpAtPosition([0,0,0],o);for(const i of this.areas)if(i.enabled)for(const a of i.geometries){const n=_(a);if(null==n)continue;h(a.spatialReference,[n.x,n.y,0],r,this.view.renderCoordsHelper.spatialReference);const m=d(P,[r[12]-G*o[0],r[13]-G*o[1],r[14]-G*o[2]]);t[12]=-r[12],t[13]=-r[13],t[14]=-r[14];const p=w(a,this.view.elevationProvider,this.view.renderCoordsHelper,this._elevationContext),{polygons:l,mapPositions:y,position:v}=p;for(const a of l){const n=a.count,d=c(a.mapPositions,a.holeIndices,3);if(0===d.length)continue;const p=d.length,l=6*n,h=f(l+p),_=f(p),w=u(3*l),A=u(3*l),R=u(3*l),N=u(l);j(v,y,d,a,w,R,A,N,h,_,e,o,s),g(w,w,t);const k=new b(w,_,h,e,[r[12]+G*m[0],r[13]+G*m[1],r[14]+G*m[2]],i.outline?.color);this.geometries.push(k)}}this._maskRenderNode?.updateGeometries()}_updateRenderNodes(){this.view._stage&&(\"none\"===this.style||0===this.geometries.length?(this._maskRenderNode=r(this._maskRenderNode),this._colorRenderNode=r(this._colorRenderNode)):(this._maskRenderNode??=new R({focusAreas:this}),this._colorRenderNode??=new A({focusAreas:this})))}};e([a()],F.prototype,\"activePolygons\",null),e([a()],F.prototype,\"style\",void 0),e([a()],F.prototype,\"geometries\",void 0),e([a({constructOnly:!0})],F.prototype,\"view\",void 0),e([a()],F.prototype,\"_areas\",void 0),F=e([n(\"esri.views.FocusAreas\")],F);const P=p();export{F as FocusAreas,C as focusAreaHUDColor};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{i as e}from\"../../../../chunks/vec32.js\";import{create as t}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{create as i,empty as r,expandWithRect as s,center as o,set as d,toRect as n}from\"../../../../geometry/support/aaBoundingBox.js\";import{create as a}from\"../../../../geometry/support/aaBoundingRect.js\";import{demResolutionForBoundingBox as h}from\"./graphicUtils.js\";import{Object3DState as c}from\"../../webgl-engine/lib/basicInterfaces.js\";import{DirtyOperation as g,DirtyState as m}from\"../../webgl-engine/lib/ModelDirtyTypes.js\";class l{constructor(e,t,i,r){this.graphics3DSymbolLayer=e,this.renderGeometries=t,this.boundingBox=i,this._drapeSourceRenderer=r,this.type=\"draped\",this.stage=null,this._visible=!1,this._addedToStage=!1,this.isElevationSource=!1}initialize(e){this.stage=e.stage}setVisibility(e){if(null!=this.stage&&this._visible!==e){if(this._visible=e,e&&!this._addedToStage)return this._addedToStage=!0,void this._drapeSourceRenderer.addGeometries(this.renderGeometries,g.ADD);if(e||this._addedToStage){for(const e of this.renderGeometries)e.visible=this._visible;this._drapeSourceRenderer.modifyGeometries(this.renderGeometries,m.VISIBILITY)}}}destroy(){this.stage&&this._addedToStage&&this._drapeSourceRenderer.removeGeometries(this.renderGeometries,g.REMOVE),this._addedToStage=!1,this._visible=!1,this.stage=null}getCenterObjectSpace(i=t()){return e(i,0,0,0)}getBoundingBoxObjectSpace(e=i()){return r(e)}addObjectState(e){e.stateType===c.Highlight&&(this.renderGeometries.forEach((t=>{const i=t.geometry.allocateIdAndHighlight(e.highlightName);e.addRenderGeometry(t,i,this)})),this._addedToStage&&this._drapeSourceRenderer.modifyGeometries(this.renderGeometries,m.HIGHLIGHT))}removeObjectState(e){this.renderGeometries.forEach((t=>e.removeByObject(t)))}updateHighlights(e){}removeRenderGeometryObjectState(e,t){t.channel===c.Highlight&&(e.geometry.removeHighlight(t),this._addedToStage&&this._drapeSourceRenderer.modifyGeometries([e],m.HIGHLIGHT))}computeAttachmentOrigin(e){for(const t of this.renderGeometries)t.geometry.computeAttachmentOrigin(f)&&(e.draped.origin[0]+=f[0],e.draped.origin[1]+=f[1],e.draped.num++)}async getProjectedBoundingBox(e,t,i,d,n){r(n);for(let r=0;r<this.renderGeometries.length;r++){const t=this.renderGeometries[r];this._getRenderGeometryProjectedBoundingRect(t,e,u,i),s(n,u)}if(t){let e;o(n,f);const i=h(n,t.service.spatialReference,t);try{e=await t.service.queryElevation(f[0],f[1],d,i,\"ground\")}catch(a){}null!=e&&(n[2]=Math.min(n[2],e),n[5]=Math.max(n[5],e))}return n}_getRenderGeometryProjectedBoundingRect(e,t,i,r){if(this.boundingBox)d(p,this.boundingBox);else{const t=e.boundingSphere,i=t[3];p[0]=t[0]-i,p[1]=t[1]-i,p[2]=t[2]-i,p[3]=t[0]+i,p[4]=t[1]+i,p[5]=t[2]+i}return t(p,0,2),this.calculateRelativeScreenBounds&&r.push({location:o(p),screenSpaceBoundingRect:this.calculateRelativeScreenBounds()}),n(p,i)}}const u=a(),p=i(),f=t();export{l as Graphics3DDrapedGraphicLayer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../../../Color.js\";import{result as t,createTask as r}from\"../../../../core/asyncUtils.js\";import i from\"../../../../core/Error.js\";import has from\"../../../../core/has.js\";import{clone as s}from\"../../../../core/lang.js\";import{abortMaybe as o,releaseMaybe as a}from\"../../../../core/maybe.js\";import{throwIfAbortError as n,throwIfAborted as l}from\"../../../../core/promiseUtils.js\";import{pt2px as c,px2pt as h}from\"../../../../core/screenUtils.js\";import{numericHash as u}from\"../../../../core/string.js\";import{dataComponents as m}from\"../../../../core/urlUtils.js\";import{fromValues as d,create as p}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{create as _,fromValues as f}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{fromValues as y}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{projectPointToVector as g}from\"../../../../geometry/projection/projectPointToVector.js\";import{containsPoint as x}from\"../../../../geometry/support/aaBoundingBox.js\";import{createRendererExpression as b}from\"../../../../support/arcadeOnDemand.js\";import{CIMSymbolHelper as v}from\"../../../../symbols/cim/CIMSymbolHelper.js\";import{evaluateValueOrFunction as S}from\"../../../../symbols/cim/utils.js\";import{scaleCIMSymbol as P}from\"../../../../symbols/support/cimSymbolUtils.js\";import{defaultPrimitive as R}from\"../../../../symbols/support/IconSymbol3DLayerResource.js\";import{Symbol3DAnchorPosition2D as w}from\"../../../../symbols/support/Symbol3DAnchorPosition2D.js\";import{getIconHref as C}from\"../../../../symbols/support/utils.js\";import{focusAreaHUDColor as z}from\"../../../FocusAreas.js\";import{transparentUnit as O}from\"./constants.js\";import{perObjectElevationAligner as j}from\"./ElevationAligners.js\";import{SymbolUpdateType as M,elevationModeChangeUpdateType as I,needsElevationUpdates2D as T}from\"./elevationAlignmentUtils.js\";import{Graphics3DDrapedGraphicLayer as E}from\"./Graphics3DDrapedGraphicLayer.js\";import{Graphics3DObject3DGraphicLayer as D}from\"./Graphics3DObject3DGraphicLayer.js\";import{Graphics3DSymbolLayer as F}from\"./Graphics3DSymbolLayer.js\";import{validateSymbolLayerSize as A}from\"./graphicUtils.js\";import{ApplyRendererDiffResult as U}from\"./interfaces.js\";import{namedAnchorToHUDMaterialAnchorPos as L}from\"./placementUtils.js\";import{placePointOnGeometry as G,updateStageObjectGeometry as V,getLocalOriginForPoint as H,extendPointGraphicElevationContext as k,createStageObject as B}from\"./pointUtils.js\";import{initFastSymbolUpdatesState as N,updateFastSymbolUpdatesState as $,evaluateModelTransformScale as W,ConvertOptions as q}from\"../support/FastSymbolUpdates.js\";import{createTexture as J,requiresHalfTexelOffset as Z,defaultBoundingBox as K,defaultSymbolSizeRatio as Q,defaultTexSize as X}from\"../../support/engineContent/sdfPrimitives.js\";import{drapedZ as Y}from\"../../terrain/OverlayRenderer.js\";import{createPointGeometry as ee}from\"../../webgl-engine/lib/GeometryUtil.js\";import{RenderGeometry as te}from\"../../webgl-engine/lib/RenderGeometry.js\";import{Texture as re}from\"../../webgl-engine/lib/Texture.js\";import{HUDMaterial as ie}from\"../../webgl-engine/materials/HUDMaterial.js\";const se=f(0,0,1),oe=16,ae=1.5,ne=[X*Q,X*Q];class le extends F{getCachedSize(){return{size:this._getIconSize()}}constructor(e,t,r,i){super(e,t,r,i),this._cimData=null,this._overrideHelperClass=null,this._arcadeInfo=null,this._cimSymbolMaterials=new Map,this._cimSymbolTextures=new Map,this._cimMaterialParametersInfo=null,this._cimScaleFactorOrFunction=null,this._size=null,this._symbolTextureRatio=1,this._outlineSize=0,this._textureHandle=null,this._patchTask=null,this._elevationOptions={supportsOffsetAdjustment:!0,supportsOnTheGround:!0}}async doLoad(e){this._validateOrThrow();const t=this._prepareMaterialParameters(),r=this._getPrimitive();if(null!=r)this._prepareResourcesPrimitive(t,r);else{const r=C(this.symbolLayer),i=ue(r);null!=i?await this._prepareResourcesCIM(t,JSON.parse(i),e):await this._prepareResourcesHref(t,r,e)}}_validateOrThrow(){if(this._drivenProperties.size)return;const e=A(this._getIconSize());if(e)throw new i(\"graphics3diconsymbollayer:invalid-size\",e)}_getIconSize(){const e=this.symbolLayer,t=Math.round(null!=e.size?c(e.size):oe);return this._drivenProperties.size?Math.max(t,64):t}_generateTextureCIM(e){const t=this._overrideHelperClass;let r=this._cimData;if(t&&r&&r.symbol||this.logger.error(\"Can't create texture, CIM data is undefined\"),r.primitiveOverrides){r=s(r);const i=r.primitiveOverrides;t.evaluateOverrides(i,e,this._arcadeInfo.geometryType,null,null),t.applyOverrides(r.symbol,i)}const i=u(JSON.stringify(r));let o=this._cimSymbolTextures.get(i);if(o)return o;const a=this._context.sharedResources.cimSymbolRasterizer,n=this._context.renderer&&\"dictionary\"===this._context.renderer.type?this._context.renderer.fieldMap:null;n&&t.applyDictionaryTextOverrides(r.symbol,e,n,null);const l=null!=this._cimScaleFactorOrFunction?S(this._cimScaleFactorOrFunction,e):1;1!==l&&r.symbol&&P(r.symbol,l,!0);const c=v.getEnvelope(r,null,a.resourceManager);if(c?.width&&c.height){const e=c.x+c.width/2,t=c.y+c.height/2,i=a.rasterize({type:\"cim\",data:r},c.width,c.height,e,t,1,\"esriGeometryPoint\",0,null,this._context.graphicsCoreOwner.view.state.rasterPixelRatio),s=new w({x:-c.x/c.width-.5,y:(c.height+c.y)/c.height-.5});this._cimMaterialParametersInfo.anchorPosition=me(\"relative\",s),o=new re(i,{width:i?.width??1,height:i?.height??1,reloadable:!0})}else o=new re(new ImageData(1,1),{width:1,height:1,reloadable:!0});return this._cimSymbolTextures.set(i,o),this._context.stage.add(o),o}_prepareMaterialParameters(){const e={anchorPosition:me(this.symbolLayer.anchor,this.symbolLayer.anchorPosition),rotation:this.symbolLayer.angle},t=this.symbol;if(ce(t)){const{screenLength:r,minWorldLength:i,maxWorldLength:s}=t.verticalOffset;e.verticalOffset={screenLength:c(r),minWorldLength:i||0,maxWorldLength:null!=s?s:1/0}}this._context.screenSizePerspectiveEnabled&&(e.screenSizePerspective=this._context.sharedResources.screenSizePerspectiveSettings),(0!==e.rotation||this._drivenProperties.rotation)&&(e.hasRotation=!0);const r=!!has(\"enable-feature:non-occluded-hud\");return e.occlusionTest=!r,e.occludedFragmentFade=r,e.horizonCullingEnabled=r&&this._context.spherical,e.hasSlicePlane=this._context.slicePlaneEnabled,e}_prepareResourcesPrimitive(e,t){const r=this._getOutlineSize();if(he(t)&&0===r)throw new Error(\"Nothing to render\");if(this._outlineSize=r,e.color=this._getFillColor(),e.outlineColor=this._getOutlineColor(),e.outlineSize=this._outlineSize,null!=this._context.sharedResources.textures){const r=this._context.sharedResources.textures.fromData(`${t}-icon`,(()=>J(t)));this._textureHandle=r,e.textureId=r.texture.id}e.textureIsSignedDistanceField=!0,e.sampleSignedDistanceFieldTexelCenter=Z(t),e.distanceFieldBoundingBox=K;const i=this._getIconSize();this._size=[i,i],this._symbolTextureRatio=1/Q,this._createMaterialAndAddToStage(e,this._context.stage)}async _prepareResourcesHref(e,r,s){this._outlineSize=this._getOutlineSize(),e.color=this._getFillColor(),e.outlineColor=this._getOutlineColor(),e.outlineSize=this._outlineSize,e.textureIsSignedDistanceField=!1;const o=this._getIconSize(),a=o*this._context.graphicsCoreOwner.view.state.rasterPixelRatio;if(null!=this._context.sharedResources.textures){const l=await t(this._context.sharedResources.textures.fromUrl(r,a,{signal:s}));if(!1===l.ok){n(l.error);throw new i(\"graphics3diconsymbollayer:request-failed\",`Failed to load (Request for icon resource failed: ${r})`)}this._textureHandle=l.value;const c=l.value.texture;this._size=de(c,o),e.textureId=c.id}this._createMaterialAndAddToStage(e,this._context.stage)}async _prepareResourcesCIM(e,t,r){const{OverrideHelper:i}=await import(\"../../../../symbols/cim/OverrideHelper.js\");if(this._overrideHelperClass=i,this._cimData=t,!this._context.sharedResources.cimSymbolRasterizer){const e=(await import(\"../../../../symbols/cim/CIMSymbolRasterizer.js\")).CIMSymbolRasterizer;l(r),this._context.sharedResources.cimSymbolRasterizer||(this._context.sharedResources.cimSymbolRasterizer=new e(this._context.renderCoordsHelper.spatialReference))}const s=this._context.sharedResources.cimSymbolRasterizer,o=[],a=t,n=a?.symbol;v.fetchResources(n,s.resourceManager,o,r),v.fetchFonts(n,s.resourceManager,o);const c=this._context.layer.fields?this._context.layer.fields.map((e=>e.toJSON())):[],h=this._context.renderCoordsHelper.spatialReference;if(this._arcadeInfo={spatialReference:h,fields:c,geometryType:\"esriGeometryPoint\"},a?.primitiveOverrides&&o.push(i.createRenderExpressions(a.primitiveOverrides,this._arcadeInfo)),o.length>0&&(await Promise.all(o),l(r)),this._context.renderer&&\"dictionary\"===this._context.renderer.type&&this._context.renderer.scaleExpression){const e=this._context.renderer;if(e.scaleExpression){const t=e.scaleExpression,r=await b(t,this._context.layer.spatialReference,c),{default:i}=await import(\"../../../2d/arcade/callExpressionWithFeature.js\");this._cimScaleFactorOrFunction=(e,t,s)=>{const o=i(r,e,{$view:s},\"esriGeometryPoint\",t);return null!==o?o:1}}}l(r),this._cimMaterialParametersInfo=e,this._cimMaterialParametersInfo.color=this._getFillColor(),this._cimMaterialParametersInfo.outlineColor=[0,0,0,0],this._cimMaterialParametersInfo.outlineSize=0,this._cimMaterialParametersInfo.textureIsSignedDistanceField=!1}_getPrimitive(){return this.symbolLayer.resource?.href?null:this.symbolLayer.resource?.primitive??R}_getOutlineSize(){let e=0;const t=this.symbolLayer;if(null!=t.outline?.size)return Math.max(c(t.outline.size),0);return e=he(this._getPrimitive())?ae:0,Math.max(e,0)}_getOutlineColor(){const t=this._getLayerOpacity(),r=this.symbolLayer,i=r?.outline?.color;if(null!=i){const r=e.toUnitRGB(i),s=i.a*t;return[r[0],r[1],r[2],s]}return[0,0,0,0]}_getFillColor(){if(he(this._getPrimitive()))return O;const e=null==this._getPrimitive(),t=this.symbolLayer?.material?.color;return this._getCombinedOpacityAndColor(t,{hasIntrinsicColor:e})}_createMaterialAndAddToStage(e,t){const r=this._context.spherical;if(this._cimData){this._fastUpdates=null;let i=e.textureId?this._cimSymbolMaterials.get(e.textureId):null;return i||(i=new ie(e,r),this._cimSymbolMaterials.set(e.textureId??0,i),t.add(i)),i}if(this._fastUpdates=N(this._context.renderer,this._fastVisualVariableConvertOptions()),this._fastUpdates&&(e={...e,...this._fastUpdates.materialParameters}),this._materials[0]=new ie(e,r),t.add(this._materials[0]),this._context.graphicsCoreOwner.view.focusAreas.activePolygons.length>0){e.isFocused=!1;const i=this._context.stage.view.focusAreas.style;e.color=z(e.color,i),e.outlineColor=z(e.outlineColor,i),this._materials[1]=new ie(e,r),t.add(this._materials[1])}return this._materials[0]}_setDrapingDependentMaterialParameters(){this.draped&&(this._forEachMaterial((e=>{e.setParameters({verticalOffset:null,screenSizePerspective:null,occlusionTest:!1,hasSlicePlane:!1,shaderPolygonOffset:0,draped:this.draped})})),this.layerOpacityChanged())}destroy(){super.destroy(),this._patchTask=o(this._patchTask),this._forEachMaterial((e=>this._context.stage.remove(e))),this._materials.length=0,this._cimSymbolMaterials.clear(),this._cimSymbolTextures.forEach((e=>this._context.stage.remove(e))),this._cimSymbolTextures.clear(),this._textureHandle=a(this._textureHandle)}_getScaleFactor(e,t){if(this._drivenProperties.size&&e.size){const r=Array.from(e.size);for(let e=0;e<3;e++){const t=r[e];t&&\"symbol-value\"!==t&&\"proportional\"!==t&&(r[e]=c(t))}if(\"symbol-value\"===r[0])return 1;if(isFinite(+r[0]))return+r[0]/t;if(isFinite(+r[2]))return+r[2]/t}return 1}_getDrivenRotation(e){return this._drivenProperties.rotation?e.heading??0:0}createGraphics3DGraphic(e){const t=e.graphic;if(!this._validateGeometry(t.geometry))return null;let r,i=[0,0];const s=G(t.geometry);if(null==s)return this.logger.warn(`unsupported geometry type for text symbol: ${t.geometry.type}`),null;const o=this._context.stage.view.focusAreas.containsGeometry(s);if(this._cimData){if(!this._cimData.symbol)return null;const e=this._generateTextureCIM(t),s={textureId:e.id,isFocused:o,...this._cimMaterialParametersInfo};r=this._createMaterialAndAddToStage(s,this._context.stage);const a=this._context.graphicsCoreOwner.view.state.rasterPixelRatio;i=[e.parameters.width/a,e.parameters.height/a]}else i=this._size,r=o||1===this._materials.length?this._materials[0]:this._materials[1];if(null==s)return this.logger.warn(`unsupported geometry type for icon symbol: ${t.geometry.type}`),null;const a=e.renderingInfo,n=this._getVertexOpacityAndColor(a),l=this._getDrivenRotation(a);let c=1;if(!this._fastUpdates?.visualVariables.size){const e=i[0]>i[1]?i[0]:i[1];c=this._getScaleFactor(a,e)}c*=this._symbolTextureRatio;const h=d(i[0]*c,i[1]*c),u=this.setGraphicElevationContext(t);return this.ensureDrapedStatus(\"on-the-ground\"===u.mode)&&this._setDrapingDependentMaterialParameters(),this.draped?this._createAsOverlay(t,s,r,n,l,h,e.layer.uid):this._createAs3DShape(t,s,r,n,l,h,u,t.uid)}layerOpacityChanged(){const e=this._getFillColor(),t=this._getOutlineColor();this._forEachMaterial((r=>{r.setParameters({color:e}),r.setParameters({outlineColor:t})}))}updateGeometry(e,t){if(this.draped||!this._validateGeometry(t))return!1;const{elevationContext:r,stageObject:i}=e;if(r.mode!==this.getGeometryElevationMode(t))return!1;const s=G(t);if(!s)return!1;const o=V(i,this._context,s,r);if(null==o)return!1;const a=H(this._context,s);return i.geometries[0].localOrigin===a&&(e.alignedSampledElevation=o,k(e,s,this._context.elevationProvider),!0)}layerElevationInfoChanged(e,t,r){const i=this._elevationContext.mode,s=I(le.elevationModeChangeTypes,r,i);if(s!==M.UPDATE)return s;const o=T(i)||\"absolute-height\"===i;return this.updateGraphics3DGraphicElevationInfo(e,t,(()=>o))}slicePlaneEnabledChanged(){return this.draped||this._forEachMaterial((e=>{e.setParameters({hasSlicePlane:this._context.slicePlaneEnabled})})),!0}physicalBasedRenderingChanged(){return!0}get pixelRatioChanged(){return null!=this._getPrimitive()}applyRendererDiff(e,t){for(const r in e.diff){if(\"visualVariables\"!==r)return U.RecreateSymbol;if(!$(this._fastUpdates,t,this._fastVisualVariableConvertOptions()))return U.RecreateSymbol;this._materials[0]?.setParameters(this._fastUpdates.materialParameters)}return U.FastUpdate}updateFocus(e,t){t.forEach((t=>{const r=this._context.stage.view.focusAreas.containsGeometry(t.graphic.geometry);t.layers.forEach((i=>{if(i?.graphics3DSymbolLayer===this){i.stageObject.geometries.some((e=>e.material.parameters.isFocused!==r))&&e(t)}}))}))}prepareSymbolLayerPatch(e){if(this._patchTask?.abort(),\"partial\"!==e.diff.type)return;const t=e.diff.diff;this._preparePatchResource(e,t),this._preparePatchRotation(e,t)}_preparePatchResource(e,s){if(!s.resource||\"partial\"!==s.resource.type)return;const c=s.resource.diff;if(\"complete\"!==c?.href?.type)return;const h=c.href.newValue,{textures:u}=this._context.sharedResources;if(null==h||null==u||null!=ue(h))return;const m=this._getIconSize(),d=m*this._context.graphicsCoreOwner.view.state.pixelRatio;e.symbolLayerStatePatches.push((()=>{this._patchTask=o(this._patchTask),this._patchTask=r((e=>this._context.schedule((async(e,r)=>{const s=await t(u.fromUrl(h,d,{signal:r}));l(r);const o=!s.ok;if(o&&n(s.error),this._textureHandle=a(this._textureHandle),this._patchTask=null,o){this._forEachMaterial((e=>{e.visible=!1,e.setParameters({textureId:null})}));const e=`Failed to load (Request for icon resource failed: ${h})`;return void this.logger.error(new i(\"graphics3diconsymbollayer:request-failed\",e))}this._textureHandle=s.value;const c=s.value.texture;this._size=de(c,m),this._forEachMaterial((e=>{e.setParameters({textureId:c.id}),e.visible=!0}))}),e)))})),delete c.href}_preparePatchRotation(e,t){if(!t.angle||\"complete\"!==t.angle.type)return;const r=t.angle.newValue??0,i=0!==r||this._drivenProperties.rotation;e.symbolLayerStatePatches.push((()=>{this._forEachMaterial((e=>e.setParameters({rotation:r,hasRotation:i})))})),delete t.angle}_defaultElevationInfoNoZ(){return pe}_createAs3DShape(e,t,r,i,s,o,a,n){const l=this.getFastUpdateAttrValues(e),c=this._context.layer.uid,h=this._context.stage.renderView.getObjectAndLayerIdColor({graphicUid:n,layerUid:c}),u=ee(r,{normal:se,color:i,rotation:s,size:o,centerOffsetAndDistance:_e,featureAttribute:l,objectAndLayerIdColor:h}),m=B(this._context,t,u,a,n);if(null==m)return null;const d=new D(this,m.object,[u],null,null,j,a);return d.alignedSampledElevation=m.sampledElevation,d.needsElevationUpdates=T(a.mode)||\"absolute-height\"===a.mode,d.getScreenSize=this._createScreenSizeGetter(o,l),d.calculateRelativeScreenBounds=e=>r.calculateRelativeScreenBounds(d.getScreenSize(),1,e),k(d,t,this._context.elevationProvider),d}_createAsOverlay(e,t,r,i,s,o,a){r.renderPriority=this._renderPriority;const n=_();g(t,n,this._context.overlaySR),n[2]=Y;const l=this._context.clippingExtent;if(null!=l&&!x(l,n))return null;const c=this.getFastUpdateAttrValues(e),h=this._context.stage.renderView.getObjectAndLayerIdColor({graphicUid:e.uid,layerUid:this._context.layer.uid}),u=ee(r,{normal:se,position:n,color:i,rotation:s,size:o,featureAttribute:c,objectAndLayerIdColor:h}),m=new te(u,{layerUid:a,graphicUid:e.uid}),d=new E(this,[m],null,this._context.drapeSourceRenderer);return d.getScreenSize=this._createScreenSizeGetter(o,c),d.calculateRelativeScreenBounds=e=>r.calculateRelativeScreenBounds(d.getScreenSize(),1,e),d}_createScreenSizeGetter(e,t){const r=this._outlineSize+2;if(this._fastUpdates&&t){const i=e[0]/this._symbolTextureRatio,s=e[1]/this._symbolTextureRatio;return(e=p())=>{const[o,a]=W(fe,this._fastUpdates.materialParameters,t);return e[0]=o*i+r,e[1]=a*s+r,e}}const i=e[0]/this._symbolTextureRatio+r,s=e[1]/this._symbolTextureRatio+r;return(e=p())=>(e[0]=i,e[1]=s,e)}_fastVisualVariableConvertOptions(){const e=Math.max(this._size[0],this._size[1]),t=f(e,e,e),r=h(1),i=e*r,s=f(i,i,i);return new q({size:!0,color:!0,rotation:!0,opacity:!1},t,s,r)}_forEachMaterial(e){this._materials.forEach(e),this._cimSymbolMaterials.forEach(e)}test(){return{...super.test(),material:this._materials[0]}}}function ce(e){return e&&\"point-3d\"===e.type&&e.hasVisibleVerticalOffset()}function he(e){return null!=e&&(\"cross\"===e||\"x\"===e)}function ue(e){const t=m(e);return\"application/json\"===t?.mediaType?t.data:void 0}function me(e,t){return\"relative\"===e?d((t.x||0)+.5,.5-(t.y||0)):e in L?L[e]:L.center}function de({parameters:e},t){const r=(e.width??1)/(e.height??1);return r>1?[t,Math.round(t/r)]:[Math.round(t*r),t]}le.PRIMITIVE_SIZE=ne,le.elevationModeChangeTypes={definedChanged:M.UPDATE,staysOnTheGround:M.NONE,onTheGroundChanged:M.RECREATE};const pe={mode:\"relative-to-ground\",offset:0},_e=y(0,0,0,1),fe=_();export{le as Graphics3DIconSymbolLayer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{CapType as e}from\"../../webgl-engine/shaders/RibbonLineTechniqueConfiguration.js\";function n(n){switch(n){case\"butt\":return e.BUTT;case\"square\":return e.SQUARE;case\"round\":return e.ROUND;default:return null}}function r(e){return\"diamond\"===e?\"kite\":e}export{n as parseCapType,r as parseLineMarkerStyle};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{isColorOrColorEmission as e,ShaderOutput as i}from\"../core/shaderLibrary/ShaderOutput.js\";import{ReloadableShaderModule as t}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{blending as l,oitDepthTest as n,depthWrite as s,getDrawBuffers as o}from\"../lib/OrderIndependentTransparency.js\";import{RenderSlot as p}from\"../lib/RenderSlot.js\";import{stencilWriteMaskOn as c,stencilToolMaskBaseParams as u,stencilBaseAllZerosParams as a,depthCompareAlways as d,stencilToolTransparentOccluderParams as T,stencilWriteMaskOff as h,stencilToolMaskOccluderParams as m,depthCompareLess as P}from\"../lib/StencilUtils.js\";import{VertexAttribute as f}from\"../lib/VertexAttribute.js\";import{L as O}from\"../../../../chunks/LineMarker.glsl.js\";import{LineMarkerSpace as E}from\"./LineMarkerTechniqueConfiguration.js\";import{SpecialDrawBuffers as R}from\"../../../webgl/enums.js\";import{makePipelineState as _,defaultColorWrite as S,premultipliedAlphaToPremultipliedAlpha as A}from\"../../../webgl/renderState.js\";class W extends r{constructor(e,i){super(e,i,new t(O,(()=>import(\"./LineMarker.glsl.js\"))),b)}_makePipelineState(t,r){const{output:p,oitPass:d,space:T,hasOccludees:h}=t;return _({blending:e(p)?l(d):null,depthTest:T===E.Draped?null:{func:n(d)},depthWrite:s(t),drawBuffers:p===i.Depth?{buffers:[R.NONE]}:o(d,p),colorWrite:S,stencilWrite:h?c:null,stencilTest:h?r?u:a:null,polygonOffset:{factor:0,units:-10}})}initializePipeline(e){return e.occluder?(this._occluderPipelineTransparent=_({blending:A,depthTest:d,depthWrite:null,colorWrite:S,stencilWrite:null,stencilTest:T}),this._occluderPipelineOpaque=_({blending:A,depthTest:d,depthWrite:null,colorWrite:S,stencilWrite:h,stencilTest:m}),this._occluderPipelineMaskWrite=_({blending:null,depthTest:P,depthWrite:null,colorWrite:null,stencilWrite:c,stencilTest:u})):this._occluderPipelineTransparent=this._occluderPipelineOpaque=this._occluderPipelineMaskWrite=null,this._occludeePipelineState=this._makePipelineState(e,!0),this._makePipelineState(e,!1)}getPipeline(e,i){return e?this._occludeePipelineState:i===p.TRANSPARENT_OCCLUDER_MATERIAL?this._occluderPipelineTransparent??super.getPipeline():i===p.OCCLUDER_MATERIAL?this._occluderPipelineOpaque??super.getPipeline():this._occluderPipelineMaskWrite??super.getPipeline()}}const b=new Map([[f.POSITION,0],[f.PREVPOSITION,1],[f.UV0,2],[f.NORMAL,3],[f.COLOR,4],[f.COLORFEATUREATTRIBUTE,4],[f.SIZE,5],[f.SIZEFEATUREATTRIBUTE,5],[f.OPACITYFEATUREATTRIBUTE,6]]);export{W as LineMarkerTechnique,b as vertexAttributeLocations};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{i as e,I as t,t as r}from\"../../../../chunks/vec32.js\";import{create as i}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{newLayout as a}from\"../../support/buffer/InterleavedLayout.js\";import{ShaderOutput as s,isColor as n,isDepth as o,isColorHighlightOrDepth as h,isColorOrColorEmission as c}from\"../core/shaderLibrary/ShaderOutput.js\";import{GLTextureMaterial as p}from\"../lib/GLTextureMaterial.js\";import{Material as m,RenderOccludedFlag as l}from\"../lib/Material.js\";import{RenderSlot as u}from\"../lib/RenderSlot.js\";import{VertexAttribute as T}from\"../lib/VertexAttribute.js\";import{VisualVariablePassParameters as d}from\"./VisualVariablePassParameters.js\";import{vertexAttributeLocations as f,LineMarkerTechnique as A}from\"../shaders/LineMarkerTechnique.js\";import{LineMarkerTechniqueConfiguration as _,LineMarkerSpace as v,LineMarkerAnchor as E}from\"../shaders/LineMarkerTechniqueConfiguration.js\";import{CapType as g}from\"../shaders/RibbonLineTechniqueConfiguration.js\";import{alphaCutoff as O}from\"../../../../webscene/support/AlphaCutoff.js\";class S extends m{constructor(e){super(e,I),this._configuration=new _,this.vertexAttributeLocations=f,this.produces=new Map([[u.OPAQUE_MATERIAL,e=>e===s.Highlight||n(e)&&this.parameters.renderOccluded===l.OccludeAndTransparentStencil],[u.OPAQUE_MATERIAL_WITHOUT_NORMALS,e=>o(e)],[u.OCCLUDER_MATERIAL,e=>h(e)&&this.parameters.renderOccluded===l.OccludeAndTransparentStencil],[u.TRANSPARENT_OCCLUDER_MATERIAL,e=>h(e)&&this.parameters.renderOccluded===l.OccludeAndTransparentStencil],[u.TRANSPARENT_MATERIAL,e=>n(e)&&this.parameters.writeDepth],[u.TRANSPARENT_MATERIAL_WITHOUT_DEPTH,e=>n(e)&&!this.parameters.writeDepth],[u.DRAPED_MATERIAL,e=>c(e)||e===s.Highlight]]),this._layout=this.createLayout()}getConfiguration(e,t){return this._configuration.output=e,this._configuration.space=t.slot===u.DRAPED_MATERIAL?v.Draped:this.parameters.worldSpace?v.World:v.Screen,this._configuration.hideOnShortSegments=this.parameters.hideOnShortSegments,this._configuration.hasCap=this.parameters.cap!==g.BUTT,this._configuration.anchor=this.parameters.anchor,this._configuration.hasTip=this.parameters.hasTip,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.hasOccludees=t.hasOccludees,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.vvSize=!!this.parameters.vvSize,this._configuration.vvColor=!!this.parameters.vvColor,this._configuration.vvOpacity=!!this.parameters.vvOpacity,this._configuration.occluder=this.parameters.renderOccluded===l.OccludeAndTransparentStencil,this._configuration.oitPass=t.oitPass,this._configuration.terrainDepthTest=t.terrainDepthTest&&c(e),this._configuration.cullAboveTerrain=t.cullAboveTerrain,this._configuration}get visible(){return this.parameters.color[3]>=O}intersect(){}createLayout(){const e=a().vec3f(T.POSITION).vec3f(T.PREVPOSITION).vec2f(T.UV0);return this.parameters.worldSpace&&e.vec3f(T.NORMAL),this.parameters.vvSize?e.f32(T.SIZEFEATUREATTRIBUTE):e.f32(T.SIZE),this.parameters.vvColor?e.f32(T.COLORFEATUREATTRIBUTE):e.vec4f(T.COLOR),this.parameters.vvOpacity&&e.f32(T.OPACITYFEATUREATTRIBUTE),e}createBufferWriter(){return new P(this._layout,this.parameters)}createGLMaterial(e){return new R(e)}}class R extends p{constructor(){super(...arguments),this._markerPrimitive=null}dispose(){super.dispose(),this._markerTextures.release(this._markerPrimitive),this._markerPrimitive=null}beginSlot(e){const t=this._material.parameters.markerPrimitive;return t!==this._markerPrimitive&&(this._material.setParameters({markerTexture:this._markerTextures.swap(t,this._markerPrimitive)}),this._markerPrimitive=t),this._material.setParameters(this.textureBindParameters),this.getTechnique(A,e)}}class I extends d{constructor(){super(...arguments),this.width=0,this.color=[1,1,1,1],this.markerPrimitive=\"arrow\",this.placement=\"end\",this.cap=g.BUTT,this.anchor=E.Center,this.hasTip=!1,this.worldSpace=!1,this.hideOnShortSegments=!1,this.writeDepth=!0,this.hasSlicePlane=!1,this.vvFastUpdate=!1,this.markerTexture=null}}class P{constructor(e,t){this.vertexBufferLayout=e,this._parameters=t}elementCount(){return\"begin-end\"===this._parameters.placement?12:6}write(i,a,s,n,o,h){const c=s.get(T.POSITION).data,p=c.length/3;let m=[1,0,0];const l=s.get(T.NORMAL);this._parameters.worldSpace&&null!=l&&(m=l.data);let u=1,d=0;this._parameters.vvSize?d=s.get(T.SIZEFEATUREATTRIBUTE).data[0]:s.has(T.SIZE)&&(u=s.get(T.SIZE).data[0]);let f=[1,1,1,1],A=0;this._parameters.vvColor?A=s.get(T.COLORFEATUREATTRIBUTE).data[0]:s.has(T.COLOR)&&(f=s.get(T.COLOR).data);let _=0;this._parameters.vvOpacity&&(_=s.get(T.OPACITYFEATUREATTRIBUTE).data[0]);const v=new Float32Array(o.buffer);let E=h*(this.vertexBufferLayout.stride/4);const g=(e,t,r,i)=>{if(v[E++]=e[0],v[E++]=e[1],v[E++]=e[2],v[E++]=t[0],v[E++]=t[1],v[E++]=t[2],v[E++]=r[0],v[E++]=r[1],this._parameters.worldSpace&&(v[E++]=m[0],v[E++]=m[1],v[E++]=m[2]),this._parameters.vvSize?v[E++]=d:v[E++]=u,this._parameters.vvColor)v[E++]=A;else{const e=Math.min(4*i,f.length-4);v[E++]=f[e],v[E++]=f[e+1],v[E++]=f[e+2],v[E++]=f[e+3]}this._parameters.vvOpacity&&(v[E++]=_)};let O;!function(e){e[e.ASCENDING=1]=\"ASCENDING\",e[e.DESCENDING=-1]=\"DESCENDING\"}(O||(O={}));const S=(a,s)=>{const n=e(L,c[3*a],c[3*a+1],c[3*a+2]),o=C;let h=a+s;do{e(o,c[3*h],c[3*h+1],c[3*h+2]),h+=s}while(t(n,o)&&h>=0&&h<p);i&&(r(n,n,i),r(o,o,i)),g(n,o,[-1,-1],a),g(n,o,[1,-1],a),g(n,o,[1,1],a),g(n,o,[-1,-1],a),g(n,o,[1,1],a),g(n,o,[-1,1],a)},R=this._parameters.placement;\"begin\"!==R&&\"begin-end\"!==R||S(0,O.ASCENDING),\"end\"!==R&&\"begin-end\"!==R||S(p-1,O.DESCENDING)}}const L=i(),C=i();export{S as LineMarkerMaterial,I as Parameters};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Error.js\";import{px2pt as t,pt2px as r}from\"../../../../core/screenUtils.js\";import{fromValues as i,clone as a}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import s from\"../../../../geometry/Extent.js\";import n from\"../../../../geometry/Polygon.js\";import{create as o,fromBuffer as l,intersectsClippingArea as h,empty as m,expandWithAABB as p,expandWithBuffer as c}from\"../../../../geometry/support/aaBoundingBox.js\";import{getDriverAxisSizeValueAny as d}from\"../../../../renderers/support/renderingInfoUtils.js\";import{sharedGeometryElevationAligner as y}from\"./ElevationAligners.js\";import{SymbolUpdateType as u,elevationModeChangeUpdateType as _,needsElevationUpdates2D as g}from\"./elevationAlignmentUtils.js\";import{Graphics3DDrapedGraphicLayer as f}from\"./Graphics3DDrapedGraphicLayer.js\";import{Graphics3DObject3DGraphicLayer as b}from\"./Graphics3DObject3DGraphicLayer.js\";import{Graphics3DSymbolLayer as M}from\"./Graphics3DSymbolLayer.js\";import{ApplyRendererDiffResult as L}from\"./interfaces.js\";import{parseCapType as E,parseLineMarkerStyle as P}from\"./lineUtils.js\";import{initFastSymbolUpdatesState as v,updateFastSymbolUpdatesState as C,getAttributeValue as R,ConvertOptions as w}from\"../support/FastSymbolUpdates.js\";import{debugFlags as x}from\"../../support/debugFlags.js\";import{createGeometry as D}from\"../../support/engineContent/line.js\";import{geometryToRenderInfo as k,geometryToRenderInfoDraped as j}from\"../../support/renderInfoUtils/line.js\";import{Object3D as S}from\"../../webgl-engine/lib/Object3D.js\";import{RenderGeometry as A}from\"../../webgl-engine/lib/RenderGeometry.js\";import{LineMarkerMaterial as U}from\"../../webgl-engine/materials/LineMarkerMaterial.js\";import{getStipplePatternForLinePattern as z}from\"../../webgl-engine/materials/lineStippleUtils.js\";import{RibbonLineMaterial as W}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";const G=[\"polyline\",\"polygon\",\"extent\"],O=new w({size:!0,color:!0,rotation:!1,opacity:!0});class V extends M{constructor(e,t,r,i){super(e,t,r,i)}async doLoad(){if(this._fastUpdates=v(this._context.renderer,O),!this._drivenProperties.size){if((null!=this.symbolLayer.size?this.symbolLayer.size:t(1))<0)throw new e(\"graphics3dlinesymbollayer:invalid-size\",\"Symbol sizes may not be negative values\")}}_getMaterialParameters(e,t=!1){const r=this._getCombinedOpacityAndColor(t&&this._markerColor||this._materialColor);this._patternHidesLine&&!t&&(r[3]=0);const i={width:this._computeMaterialWidth(this.symbolLayer?.size),color:r,hasPolygonOffset:!0,join:this.symbolLayer.join||\"miter\",cap:E(this.symbolLayer.cap||\"butt\"),hasSlicePlane:this._context.slicePlaneEnabled,isClosed:e,stipplePattern:z(this.symbolLayer.pattern)};return this._fastUpdates?.visualVariables?{...i,...this._fastUpdates.materialParameters}:i}get _materialColor(){return this.symbolLayer.material?.color}get _markerColor(){return this.symbolLayer.marker?.color}get _lineMaterial(){return null==this._materials[H.Line]&&(this._materials[H.Line]=new W(this._getMaterialParameters(!1)),this._context.stage.add(this._materials[H.Line])),this._materials[H.Line]}get _ringMaterial(){return null==this._materials[H.Ring]&&(this._materials[H.Ring]=new W(this._getMaterialParameters(!0)),this._context.stage.add(this._materials[H.Ring])),this._materials[H.Ring]}get _wireframeLineMaterial(){return null==this._materials[H.LineWireframe]&&(this._materials[H.LineWireframe]=new W({...this._getMaterialParameters(!1),wireframe:!0}),this._context.stage.add(this._materials[H.LineWireframe])),this._materials[H.LineWireframe]}get _wireframeRingMaterial(){return null==this._materials[H.RingWireframe]&&(this._materials[H.RingWireframe]=new W({...this._getMaterialParameters(!0),wireframe:!0}),this._context.stage.add(this._materials[H.RingWireframe])),this._materials[H.RingWireframe]}get _markerMaterial(){return null==this._materials[H.Marker]&&null!=this.symbolLayer.marker&&(this._materials[H.Marker]=new U({...this._getMaterialParameters(!1,!0),placement:this.symbolLayer.marker.placement,markerPrimitive:P(this.symbolLayer.marker.style)}),this._context.stage.add(this._materials[H.Marker])),this._materials[H.Marker]}destroy(){super.destroy(),this._forEachMaterial((e=>this._context.stage.remove(e))),this._materials.length=0}_getDrivenSize(e){return this._drivenProperties.size&&e.size?r(d(e.size)):1}_getDrivenColor(e){const t=i(1,1,1,1);return this._drivenProperties.color&&e.color&&(t[0]=e.color[0],t[1]=e.color[1],t[2]=e.color[2],e.color.length>0&&(t[3]=e.color[3])),this._drivenProperties.opacity&&e.opacity&&(t[3]=e.opacity),t}createGraphics3DGraphic(e){const t=e.graphic;if(!this._validateGeometry(t.geometry,G,this.symbolLayer.type))return null;const r=this.setGraphicElevationContext(t);return this.ensureDrapedStatus(\"on-the-ground\"===r.mode),this.draped?this._createAsOverlay(e,this._context.layer.uid):this._createAs3DShape(e,r,t.uid)}applyRendererDiff(e,t){for(const r in e.diff){if(\"visualVariables\"!==r)return L.RecreateSymbol;{const e=this._fastUpdates;if(!C(e,t,O))return L.RecreateSymbol;this._forEachMaterial((t=>t?.setParameters(e.materialParameters)))}}return L.FastUpdate}prepareSymbolLayerPatch(e){if(\"partial\"!==e.diff.type)return;const t=e.diff.diff,r={};\"complete\"===t.size?.type&&(r.width=this._computeMaterialWidth(t.size.newValue),delete t.size),\"complete\"===t.cap?.type&&(r.cap=E(t.cap.newValue??\"butt\"),delete t.cap);const i=this._prepareMarkerPatch(e,t);this._prepareMaterialPatch(e,t,i),e.symbolLayerStatePatches.push((()=>this._forEachMaterial((e=>e?.setParameters(r)))))}layerOpacityChanged(){this._forEachMaterial(((e,t)=>this._updateMaterialLayerOpacity(e,t===H.Marker)))}_forEachMaterial(e){this._materials.forEach(e)}_updateMaterialLayerOpacity(e,t=!1){if(null==e)return;const r=e.parameters.color,a=this.symbolLayer?.material?.color,s=this._patternHidesLine&&!t?0:this._getCombinedOpacity(a),n=i(r[0],r[1],r[2],s);e.setParameters({color:n})}layerElevationInfoChanged(e,t,r){const i=this._elevationContext.mode,a=_(V.elevationModeChangeTypes,r,i);if(a!==u.UPDATE)return a;const s=g(i);return this.updateGraphics3DGraphicElevationInfo(e,t,(()=>s))}slicePlaneEnabledChanged(){const e={hasSlicePlane:this._context.slicePlaneEnabled};return this._forEachMaterial((t=>t?.setParameters(e))),!0}physicalBasedRenderingChanged(){return!0}_createAs3DShape(e,t,r){const i=I(e.graphic.geometry),a=\"polygon\"===i.type?i.rings:i.paths,s=new Array,n=o(),m=k(i,this._context.elevationProvider,this._context.renderCoordsHelper,t),p=\"polygon\"===i.type?\"rings\":\"paths\";this._logGeometryCreationWarnings(m,a,p,\"LineSymbol3DLayer\");for(let o=0;o<m.lines.length;o++){const t=m.lines[o],a=t.position,p=t.mapPositions;if(null!=this._context.clippingExtent&&(l(p,n),!h(n,this._context.clippingExtent)))continue;const c=this._createGeometry(\"polygon\"===i.type?this._ringMaterial:this._lineMaterial,e,a,p,i.type,F.ELEVATED,r);s.push(c),x.LINE_WIREFRAMES&&s.push(c.instantiate({material:\"polygon\"===i.type?this._wireframeRingMaterial:this._wireframeLineMaterial})),null!=this._markerMaterial&&s.push(c.instantiate({material:this._markerMaterial}))}if(0===s.length)return null;const c=new S({geometries:s,castShadow:!1,layerUid:this._context.layer.uid,graphicUid:r}),d=new b(this,c,s,null,null,y,t);return d.alignedSampledElevation=m.sampledElevation,d.needsElevationUpdates=g(t.mode),d}_createGeometry(e,t,r,i,a,s,n){const o=s===F.DRAPED?{spatialReference:this._context.overlaySR,renderCoordsHelper:this._context.renderCoordsHelper}:null,l=\"polygon\"===a,h=this._fastUpdates?.visualVariables.color,m=this._fastUpdates?.visualVariables.size,p=this._fastUpdates?.visualVariables.opacity,c=this._context.stage.renderView.getObjectAndLayerIdColor({graphicUid:n,layerUid:this._context.layer.uid}),d={position:r,size:m?null:this._getDrivenSize(t.renderingInfo),color:h?null:this._getDrivenColor(t.renderingInfo),sizeFeature:m?R(m.field,t.graphic):null,colorFeature:h?R(h.field,t.graphic):null,opacityFeature:p?R(p.field,t.graphic):null};return D(e,{overlayInfo:o,removeDuplicateStartEnd:l,mapPositions:i,attributeData:d},c)}_createAsOverlay(e,t){const r=e.graphic,i=I(r.geometry),a=\"polygon\"===i.type?i.rings:i.paths,s=\"polygon\"===i.type?this._ringMaterial:this._lineMaterial;s.renderPriority=this._renderPriority;const n=x.LINE_WIREFRAMES?\"polygon\"===i.type?this._wireframeRingMaterial:this._wireframeLineMaterial:null,d=this._markerMaterial;null!=n&&(n.renderPriority=this._renderPriority-.001),null!=d&&(d.renderPriority=this._renderPriority-.002);const y=new Array,u=o(),_=m(),g=j(i,this._context.overlaySR),b=\"polygon\"===i.type?\"rings\":\"paths\";this._logGeometryCreationWarnings(g,a,b,\"LineSymbol3DLayer\");for(const o of g.lines){if(l(o.position,u),!h(u,this._context.clippingExtent))continue;p(_,u);const a=a=>{const s=this._createGeometry(a,e,o.position,void 0,i.type,F.DRAPED,r.uid),n=new A(s,{layerUid:t,graphicUid:r.uid});y.push(n)};if(null!=d){a(d);const e=this.symbolLayer.marker.placement;\"begin\"!==e&&\"begin-end\"!==e||c(u,o.position,0,1),\"end\"!==e&&\"begin-end\"!==e||c(u,o.position,o.position.length-3,1)}a(s),x.LINE_WIREFRAMES&&a(n)}return new f(this,y,_,this._context.drapeSourceRenderer)}get _patternHidesLine(){const e=this.symbolLayer.pattern;return null!=e&&\"style\"===e.type&&\"none\"===e.style}_computeMaterialWidth(e){return e=e??t(1),this._drivenProperties.size?this._fastUpdates?.visualVariables.size?r(1):1:r(e)}_prepareMaterialPatch(e,t,r){const i=t.material;if(null==i)return void(r.changed&&r.useMaterialColor&&T(this._getCombinedOpacityAndColor(this._materialColor),this._materials[H.Marker],e));if(\"collection\"===i.type)return;const s=\"complete\"===i.type?i.newValue?.color:\"complete\"===i.diff.color?.type?i.diff.color.newValue:null,n=this._getCombinedOpacityAndColor(s);r.useMaterialColor&&T(a(n),this._materials[H.Marker],e),this._patternHidesLine&&(n[3]=0),T(n,this._materials[H.Line],e),delete t.material}_prepareMarkerPatch(e,t){const r=t.marker,i=this._markerMaterial;if(null==r||\"partial\"!==r.type||null==r.diff||null!=r.diff.placement||null!=r.diff.style&&\"complete\"!==r.diff.style.type||null!=r.diff.color&&\"complete\"!==r.diff.color.type||null==i)return{changed:!1,useMaterialColor:null==this._markerColor};const a=r.diff.color,s=null!=a,n=s?a.newValue:null,o=null==n&&null==this._markerColor;n&&T(this._getCombinedOpacityAndColor(n),i,e);const l=r.diff.style?.newValue;return l&&e.symbolLayerStatePatches.push((()=>i.setParameters({markerPrimitive:P(l)}))),delete t.marker,{changed:s,useMaterialColor:o}}}function I(e){switch(e.type){case\"extent\":if(e instanceof s)return n.fromExtent(e);break;case\"polygon\":case\"polyline\":return e}return null}function T(e,t,r){null!=t&&r.symbolLayerStatePatches.push((()=>t.setParameters({color:e})))}var F,H;V.elevationModeChangeTypes={definedChanged:u.RECREATE,staysOnTheGround:u.NONE,onTheGroundChanged:u.RECREATE},function(e){e[e.DRAPED=0]=\"DRAPED\",e[e.ELEVATED=1]=\"ELEVATED\"}(F||(F={})),function(e){e[e.Line=0]=\"Line\",e[e.Ring=1]=\"Ring\",e[e.LineWireframe=2]=\"LineWireframe\",e[e.RingWireframe=3]=\"RingWireframe\",e[e.Marker=4]=\"Marker\"}(H||(H={}));export{V as Graphics3DLineSymbolLayer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nconst e={disableDelayMs:2e3};export{e as meshAutoFastUpdateConstants};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{getTranslation as t,multiply as e,invert as a,copy as s,fromTranslation as r}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{IDENTITY as i,create as o}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{h as n}from\"../../../../chunks/vec32.js\";import{create as m}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{perObjectElevationAligner as l}from\"./ElevationAligners.js\";import{evaluateElevationInfoAtPoint as f}from\"./elevationAlignmentUtils.js\";import{setContextFeature as d}from\"./featureExpressionInfoUtils.js\";import{Graphics3DObject3DGraphicLayer as c}from\"./Graphics3DObject3DGraphicLayer.js\";import{meshAutoFastUpdateConstants as h}from\"./meshAutoFastUpdateConstants.js\";class p extends c{constructor(){super(...arguments),this.fastTransformUpdatesAllowed=!1,this._originalGeometries=[],this._fastTransformUpdatesEnabled=!1,this._autoDisableFastUpdatesTimeoutId=0}get fastTransformUpdatesEnabled(){return this._fastTransformUpdatesEnabled}destroy(){super.destroy(),this._cancelAutoDisableFastUpdates()}enableFastTransformUpdates(e,a){if(!this.fastTransformUpdatesAllowed||this._fastTransformUpdatesEnabled)return;this._cancelAutoDisableFastUpdates(),this._fastTransformUpdatesEnabled=!0;const{stageObject:s}=this,r=s.geometries.slice();s.removeAllGeometries();const i=t(g,s.transformation),o=a.getOrigin(i);for(const t of r){const a=e(t.material),r=t.instantiate({material:a});r.localOrigin=o,s.addGeometry(r)}this._originalGeometries=r}autoDisableFastTransformUpdates(t){this._cancelAutoDisableFastUpdates(),this._autoDisableFastUpdatesTimeoutId=setTimeout((()=>{this._autoDisableFastUpdatesTimeoutId=0,t()}),h.disableDelayMs)}updateAutoDisableFastTransformUpdates(t){this._autoDisableFastUpdatesTimeoutId&&this.autoDisableFastTransformUpdates(t)}_cancelAutoDisableFastUpdates(){clearTimeout(this._autoDisableFastUpdatesTimeoutId),this._autoDisableFastUpdatesTimeoutId=0}disableFastTransformUpdates(t){if(!this._fastTransformUpdatesEnabled)return;this._cancelAutoDisableFastUpdates(),this._fastTransformUpdatesEnabled=!1;const{stageObject:e}=this,a=e.geometries.map((e=>t(e.material)));e.removeAllGeometries();for(let s=0;s<this._originalGeometries.length;s++){const t=this._originalGeometries[s],r=a[s];r.setParameters({modelTransformation:null}),r===t.material?e.addGeometry(t):e.addGeometry(t.instantiate({material:r}))}this._originalGeometries.length=0}updateFastLocalOrigin(e,a,s){if(!this._fastTransformUpdatesEnabled)return;const{stageObject:r}=this;if(0===r.geometries.length)return;const o=r.geometries[0].localOrigin,n=t(g,e),m=s.getOrigin(n);if(m===o)return;const l=a?.localMatrix??i;r.shaderTransformation=null,r.transformation=e,r.geometries.forEach((t=>{t.transformation=l,t.localOrigin=m}))}updateTransform(t,s,r){const{stageObject:o}=this,n=s?.localMatrix??i;if(!this._fastTransformUpdatesEnabled)return o.shaderTransformation=null,o.transformation=t,o.geometries.forEach((t=>t.transformation=n)),void this._updateEdgeTransform(r);const m=o.transformation,l=o.geometries[0].transformation,f=t,d=n,c=e(u,m,l),h=e(T,f,d),p=e(_,h,a(_,l));o.shaderTransformation=p,this._setFastMaterialTransformation({matA:c,matB:h}),this._updateEdgeTransform(r)}alignWithElevation(t,a,r,i){if(!this._fastTransformUpdatesEnabled)return void super.alignWithElevation(t,a,r,i);null!=r&&d(this.elevationContext.featureExpressionInfoContext,r);const o=(e,s)=>f(e,t,this.elevationContext,a,s),{stageObject:n}=this;if(!n.geometries[0].material.parameters.modelTransformation)return;const m=n.transformation,c=n.geometries[0].transformation,h=e(u,m,c),p=n.effectiveTransformation,g=s(b,p);this.alignedSampledElevation=l(this,this.elevationContext,t.spatialReference,o,a,g),n.shaderTransformation=g;const _=n.geometries[0].transformation,U=e(T,g,_);this._setFastMaterialTransformation({matA:h,matB:U}),this._updateEdgeTransform(i)}_setFastMaterialTransformation({matA:t,matB:s}){const{stageObject:i}=this;if(0===i.geometries.length)return;const o=i.geometries[0].localOrigin,m=r(F,n(g,o.vec3,-1)),l=e(U,m,t),f=e(E,m,s),d=a(U,l),c=e(E,f,d);for(const e of i.geometries)e.material.setParameters({modelTransformation:c})}_updateEdgeTransform(t){const{stageObject:e,_stageLayer:a}=this;a.stage.renderer.withEdgeView((a=>{a.fastUpdateObject3DEdgesTransform(e)||this.resetEdgeObject(t)}))}}const g=m(),u=o(),T=o(),b=o(),_=o(),U=o(),E=o(),F=o();export{p as Graphics3DMeshObject3DGraphicLayer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{DefaultMaterial as a}from\"../../webgl-engine/materials/DefaultMaterial.js\";class r{constructor(){this._fastTransformOriginalMaterials=new Map,this._fastTransformClonedMaterials=new Map,this._graphicReferenceCount=0}enable(r,t,e){r.enableFastTransformUpdates((r=>{if(this._graphicReferenceCount<=1){if(this._fastTransformOriginalMaterials.has(r))return r;const a=t.byMaterial(r);return this._fastTransformOriginalMaterials.set(r,a),t.delete(r),r}const s=new a(r.parameters,e);return e.stage.add(s),this._fastTransformClonedMaterials.set(s,r),s}),e.localOriginFactory)}disable(a,r,t){const e=new Set,s=new Set;a.disableFastTransformUpdates((a=>{if(!this._fastTransformClonedMaterials.has(a)){const t=a,i=this._fastTransformOriginalMaterials.get(t);return r.has(i.uid)?(e.add(t),r.byUid(i.uid).material):(s.add(t),i.material)}const i=a,n=this._fastTransformClonedMaterials.get(i);return this._fastTransformClonedMaterials.delete(i),t.stage.remove(i),n}));for(const i of e)this._fastTransformOriginalMaterials.delete(i),t.stage.remove(i);for(const i of s){const a=this._fastTransformOriginalMaterials.get(i);this._fastTransformOriginalMaterials.delete(i),r.set(a.uid,a)}}onAddGraphic(){this._graphicReferenceCount++}onRemoveGraphic(a,r,t){this._graphicReferenceCount--,this.disable(a,r,t)}forEachMaterialInfo(a){this._fastTransformOriginalMaterials.forEach(a)}forEachClonedMaterial(a){this._fastTransformClonedMaterials.forEach(a)}destroy(a){a.removeMany(Array.from(this._fastTransformClonedMaterials.keys())),a.removeMany(Array.from(this._fastTransformOriginalMaterials.values(),(({material:a})=>a))),this._fastTransformClonedMaterials.clear(),this._fastTransformOriginalMaterials.clear()}}class t{constructor(){this._byUid=new Map,this._byMaterial=new Map}get materials(){return Array.from(this._byUid.values(),(a=>a.material))}byUid(a){return this._byUid.get(a)}byMaterial(a){return this._byMaterial.get(a)}set(a,r){this._byUid.set(a,r),this._byMaterial.set(r.material,r)}delete(a){const r=this._byMaterial.get(a)?.uid;r&&(this._byUid.delete(r),this._byMaterial.delete(a))}has(a){return this._byUid.has(a)}forEachMaterialInfo(a){this._byUid.forEach(a)}clear(){this._byUid.clear(),this._byMaterial.clear()}}export{t as MaterialInfoCache,r as MeshFastUpdateProcessor};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{isColorOrColorEmission as e}from\"../core/shaderLibrary/ShaderOutput.js\";import{ReloadableShaderModule as i}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{depthCompareLess as t,stencilWriteMaskOn as l,stencilToolMaskBaseParams as s,stencilBaseAllZerosParams as n}from\"../lib/StencilUtils.js\";import{N as o}from\"../../../../chunks/NativeLine.glsl.js\";import{PrimitiveType as u}from\"../../../webgl/enums.js\";import{makePipelineState as p,defaultColorWrite as c,defaultDepthWrite as a,premultipliedAlphaToPremultipliedAlpha as m}from\"../../../webgl/renderState.js\";class d extends r{constructor(e,r){super(e,r,new i(o,(()=>import(\"./NativeLine.glsl.js\")))),this.primitiveType=u.LINES}initializePipeline(i){const{hasOccludees:r,output:o,transparent:u}=i,d=(e,i=null,o=null)=>p({blending:i,depthTest:t,depthWrite:o,colorWrite:c,stencilWrite:r?l:null,stencilTest:r?e?s:n:null});return e(o)?(this._occludeePipeline=d(!0,u?m:null,a),d(!1,u?m:null,a)):d(!1)}getPipeline(e){return e?this._occludeePipeline:super.getPipeline()}}export{d as NativeLineTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{parameter as o}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{DefaultTechniqueConfiguration as r}from\"../materials/DefaultTechniqueConfiguration.js\";class s extends r{constructor(){super(...arguments),this.hasVertexColors=!1,this.transparent=!1,this.hasOccludees=!1}}e([o()],s.prototype,\"hasVertexColors\",void 0),e([o()],s.prototype,\"transparent\",void 0),e([o()],s.prototype,\"hasOccludees\",void 0);export{s as NativeLineTechniqueConfiguration};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Logger.js\";import{clamp as r}from\"../../../../core/mathUtils.js\";import{createRenderScreenPointArray3 as t}from\"../../../../core/screenUtils.js\";import{copy as o}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{i as s,d as i,f as a,h as n,g as c,c as m,l,j as f}from\"../../../../chunks/vec32.js\";import{create as u}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{ONES as p}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{PlaneIndex as h}from\"../../../../geometry/support/frustum.js\";import{create as g,distance2 as d,fromPoints as j,closestLineSegmentPoint as b}from\"../../../../geometry/support/lineSegment.js\";import{create as A,fromPoints as S,signedDistance as x,getNormal as L}from\"../../../../geometry/support/plane.js\";import{isColorHighlightOrOID as y}from\"../core/shaderLibrary/ShaderOutput.js\";import N from\"../lib/GLMaterial.js\";import{Material as R,MaterialParameters as v}from\"../lib/Material.js\";import{RenderSlot as E}from\"../lib/RenderSlot.js\";import{isTranslationMatrix as M}from\"../lib/Util.js\";import{VertexAttribute as T}from\"../lib/VertexAttribute.js\";import{DefaultBufferWriter as _}from\"./DefaultBufferWriter.js\";import{PositionColorLayout as w,PositionLayout as O}from\"./DefaultLayouts.js\";import{NativeLineTechnique as V}from\"../shaders/NativeLineTechnique.js\";import{NativeLineTechniqueConfiguration as C}from\"../shaders/NativeLineTechniqueConfiguration.js\";import{alphaCutoff as P}from\"../../../../webscene/support/AlphaCutoff.js\";class U extends R{constructor(e){super(e,q),this._configuration=new C,this.produces=new Map([[E.OPAQUE_MATERIAL,e=>y(e)]])}getConfiguration(e,r){return this._configuration.output=e,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.hasVertexColors=this.parameters.hasVertexColors,this._configuration.transparent=this.parameters.color[3]<1||this.parameters.width<1,this._configuration.hasOccludees=r.hasOccludees,this._configuration}get visible(){return this.parameters.color[3]>=P}intersect(r,t,u,p,g,A){if(!u.options.selectionMode||!r.visible)return;if(!M(t))return void e.getLogger(\"esri.views.3d.webgl-engine.materials.NativeLineMaterial\").error(\"intersection assumes a translation-only matrix\");const y=r.attributes.get(T.POSITION).data,N=u.camera,R=H;o(R,u.point);const v=2;s(J[0],R[0]-v,R[1]+v,0),s(J[1],R[0]+v,R[1]+v,0),s(J[2],R[0]+v,R[1]-v,0),s(J[3],R[0]-v,R[1]-v,0);for(let e=0;e<4;e++)if(!N.unprojectFromRenderScreen(J[e],K[e]))return;S(N.eye,K[0],K[1],Y),S(N.eye,K[1],K[2],$),S(N.eye,K[2],K[3],ee),S(N.eye,K[3],K[0],re);let E=Number.MAX_VALUE,_=0;for(let e=0;e<y.length-5;e+=3){if(B[0]=y[e]+t[12],B[1]=y[e+1]+t[13],B[2]=y[e+2]+t[14],D[0]=y[e+3]+t[12],D[1]=y[e+4]+t[13],D[2]=y[e+5]+t[14],x(Y,B)<0&&x(Y,D)<0||x($,B)<0&&x($,D)<0||x(ee,B)<0&&x(ee,D)<0||x(re,B)<0&&x(re,D)<0)continue;if(N.projectToRenderScreen(B,G),N.projectToRenderScreen(D,k),G[2]<0&&k[2]>0){i(W,B,D);const e=N.frustum,r=-x(e[h.NEAR],B)/a(W,L(e[h.NEAR]));n(W,W,r),c(B,B,W),N.projectToRenderScreen(B,G)}else if(G[2]>0&&k[2]<0){i(W,D,B);const e=N.frustum,r=-x(e[h.NEAR],D)/a(W,L(e[h.NEAR]));n(W,W,r),c(D,D,W),N.projectToRenderScreen(D,k)}else if(G[2]<0&&k[2]<0)continue;G[2]=0,k[2]=0;const r=d(j(G,k,Z),R);r<E&&(E=r,m(F,B),m(Q,D),_=e/3)}const w=u.rayBegin,O=u.rayEnd;if(E<v*v){let e=Number.MAX_VALUE;if(b(j(F,Q,Z),j(w,O,z),X)){i(X,X,w);const r=l(X);n(X,X,1/r),e=r/f(w,O)}A(e,X,_,!1)}}intersectDraped(e,t,o,s,i,a){if(!o.options.selectionMode)return;const n=e.attributes.get(T.POSITION).data,c=e.attributes.get(T.SIZE),m=c?c.data[0]:0,l=s[0],f=s[1],u=((m+1)/2+4)*e.screenToWorldRatio;let p=Number.MAX_VALUE,h=0;for(let g=0;g<n.length-5;g+=3){const e=n[g],t=n[g+1],o=l-e,s=f-t,i=n[g+3]-e,a=n[g+4]-t,c=r((i*o+a*s)/(i*i+a*a),0,1),m=i*c-o,u=a*c-s,d=m*m+u*u;d<p&&(p=d,h=g/3)}p<u*u&&i(a.dist,a.normal,h,!1)}createGLMaterial(e){return new I(e)}createBufferWriter(){const e=this.parameters.hasVertexColors?w:O;return new _(e)}}class I extends N{beginSlot(e){return this.getTechnique(V,e)}}class q extends v{constructor(){super(...arguments),this.color=p,this.hasVertexColors=!1,this.hasSlicePlane=!1,this.width=1}}const B=u(),D=u(),W=u(),X=u(),G=t(),k=t(),F=u(),Q=u(),Z=g(),z=g(),H=u(),J=[t(),t(),t(),t()],K=[u(),u(),u(),u()],Y=A(),$=A(),ee=A(),re=A();export{U as NativeLineMaterial,q as Parameters};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../../../Color.js\";import\"../../../../core/has.js\";import{deg2rad as t}from\"../../../../core/mathUtils.js\";import{releaseMaybe as r}from\"../../../../core/maybe.js\";import{isPromiseLike as o}from\"../../../../core/promiseUtils.js\";import{normalFromMat4 as a,fromMat4 as n}from\"../../../../core/libs/gl-matrix-2/math/mat3.js\";import{create as s}from\"../../../../core/libs/gl-matrix-2/factories/mat3f64.js\";import{fromTranslation as i,multiply as l,invert as c,getTranslation as u}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as m,IDENTITY as f,clone as p}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{ONES as h}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{i as d,g,h as x,t as _,q as T,n as b,b as y,f as v,d as w,e as M}from\"../../../../chunks/vec32.js\";import{ZEROS as R,ONES as j,create as P}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{ONES as C}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{canProjectWithoutEngine as A}from\"../../../../geometry/projection.js\";import{computeTranslationToOriginAndRotation as E}from\"../../../../geometry/projection/computeTranslationToOriginAndRotation.js\";import{projectBuffer as O}from\"../../../../geometry/projection/projectBuffer.js\";import{projectVectorToPoint as N}from\"../../../../geometry/projection/projectVectorToPoint.js\";import{create as I,fromBuffer as S,intersectsClippingArea as U}from\"../../../../geometry/support/aaBoundingBox.js\";import{newFloatArray as B}from\"../../../../geometry/support/FloatArray.js\";import{getZeroIndexArray as F,getContinuousIndexArray as D}from\"../../../../geometry/support/Indices.js\";import G from\"../../../../geometry/support/MeshComponent.js\";import V from\"../../../../geometry/support/MeshMaterialMetallicRoughness.js\";import L from\"../../../../geometry/support/MeshTextureTransform.js\";import{isRelativeVertexSpace as $,isAbsoluteVertexSpace as H}from\"../../../../geometry/support/meshVertexSpaceUtils.js\";import{equals as q,isPlateCarree as k}from\"../../../../geometry/support/spatialReferenceUtils.js\";import{t as z}from\"../../../../chunks/vec3.js\";import{transformNormal as W,transformVectorENUPlateCarree as Y,VectorType as J,transformVectorWMPlateCarree as K,projectNormalToPCPF as Q,transformTangent as X,projectTangentToPCPF as Z}from\"../../../../geometry/support/meshUtils/projection.js\";import{projectMeshVertexPositions as ee}from\"../../../../geometry/support/meshUtils/projectMeshVertexPositions.js\";import{makeDehydratedPoint as te}from\"../../../../layers/graphics/dehydratedPoint.js\";import{MeshTransformUpdateAction as re}from\"../../../../layers/graphics/sources/interfaces.js\";import{ViewingMode as oe}from\"../../../ViewingMode.js\";import{isEncodedMeshTexture as ae}from\"../../glTF/internal/resourceUtils.js\";import{getTransformMatrix as ne}from\"../../glTF/internal/TextureTransformUtils.js\";import{perObjectElevationAligner as se}from\"./ElevationAligners.js\";import{needsElevationUpdates3D as ie,evaluateElevationInfoAtPoint as le}from\"./elevationAlignmentUtils.js\";import{Graphics3DMeshObject3DGraphicLayer as ce}from\"./Graphics3DMeshObject3DGraphicLayer.js\";import{Object3DEdgeState as ue}from\"./Graphics3DObject3DGraphicLayer.js\";import{Graphics3DSymbolLayer as me}from\"./Graphics3DSymbolLayer.js\";import{MaterialInfoCache as fe,MeshFastUpdateProcessor as pe}from\"./MeshFastUpdateProcessor.js\";import{createMaterial as he}from\"../support/edgeUtils.js\";import{parseColorMixMode as de,encodeSymbolColor as ge}from\"../support/symbolColorUtils.js\";import{debugFlags as xe}from\"../../support/debugFlags.js\";import{Attribute as _e}from\"../../webgl-engine/lib/Attribute.js\";import{AlphaDiscardMode as Te,CullFaceOptions as be}from\"../../webgl-engine/lib/basicInterfaces.js\";import{ContentObjectType as ye}from\"../../webgl-engine/lib/ContentObjectType.js\";import{Geometry as ve}from\"../../webgl-engine/lib/Geometry.js\";import{Object3D as we}from\"../../webgl-engine/lib/Object3D.js\";import{Texture as Me}from\"../../webgl-engine/lib/Texture.js\";import{VertexAttribute as Re}from\"../../webgl-engine/lib/VertexAttribute.js\";import{DefaultMaterial as je}from\"../../webgl-engine/materials/DefaultMaterial.js\";import{NativeLineMaterial as Pe}from\"../../webgl-engine/materials/NativeLineMaterial.js\";import{useSchematicPBR as Ce,advancedMRRFactors as Ae,schematicMRRFactors as Ee}from\"../../webgl-engine/materials/pbrUtils.js\";import{TextureWrapMode as Oe}from\"../../../webgl/enums.js\";const Ne=[\"mesh\"];class Ie extends me{constructor(e,t,r,o){super(e,t,r,o),this._materialInfoCache=new fe,this._fastUpdateProcessor=new pe,this._textures=new Map,this.ensureDrapedStatus(!1)}async doLoad(){xe.DRAW_MESH_GEOMETRY_NORMALS&&(this._debugVertexNormalMaterial=new Pe({color:[1,0,1,1]}),this._debugTangentNormalMaterial=new Pe({color:[1,.5,0,1]}),this._debugFaceNormalMaterial=new Pe({color:[0,1,1,1]}))}destroy(){super.destroy(),this._textures.forEach((e=>e.unload())),this._context.stage.removeMany(this._materialInfoCache.materials),this._context.stage.removeMany(Array.from(this._textures.values())),this._materialInfoCache.clear(),this._textures.clear(),this._fastUpdateProcessor.destroy(this._context.stage)}get materials(){return this._materialInfoCache.materials}createGraphics3DGraphic(e){const t=e.graphic;if(!this._validateGeometry(t.geometry,Ne,\"fill on mesh-3d\"))return null;const r=this.setGraphicElevationContext(t),o=e.renderingInfo;return this._createAs3DShape(t,o,r,t.uid)}onRemoveGraphic(e){this._fastUpdateProcessor.onRemoveGraphic(e,this._materialInfoCache,this._context)}layerOpacityChanged(e,t){const r=this._getLayerOpacity();this._updateMaterialParameters((e=>{e.material.setParameters({layerOpacity:r});const t=e.material.parameters;this._setMaterialTransparentParameter(t,e),e.material.setParameters({transparent:t.transparent})})),e.forEach((e=>t(e)?.layerOpacityChanged(r,this._context.isAsync)))}layerElevationInfoChanged(e,t){return this.updateGraphics3DGraphicElevationInfo(e,t,ie)}slicePlaneEnabledChanged(e,t){return this._updateMaterialParameters((({material:e})=>{e.setParameters({hasSlicePlane:this._context.slicePlaneEnabled})})),e.forEach((e=>t(e)?.slicePlaneEnabledChanged(this._context.slicePlaneEnabled,this._context.isAsync))),!0}physicalBasedRenderingChanged(){const e=this._usePBR();return this._updateMaterialParameters((({material:t})=>t.setParameters({usePBR:e}))),!0}updateTransform(e,t,r,o){if(!e.fastTransformUpdatesAllowed)return!1;const a=e.fastTransformUpdatesEnabled;switch(o){case re.EnableFastUpdates:if(a)return!0;break;case re.DisableFastUpdates:if(!a)return!0;break;default:if(!a)return!!this.updateTransform(e,t,r,re.EnableFastUpdates)&&(e.autoDisableFastTransformUpdates((()=>this.updateTransform(e,t,r,re.DisableFastUpdates))),!0)}const n=this._context.renderCoordsHelper.spatialReference,s=at,{origin:i,transform:l}=r;if(!E(t,d(Ze,i.x,i.y,i.z??0),s,n))return!1;switch(o){case re.EnableFastUpdates:this._fastUpdateProcessor.enable(e,this._materialInfoCache,this._context);break;case re.DisableFastUpdates:this._fastUpdateProcessor.disable(e,this._materialInfoCache,this._context);break;case re.UpdateFastLocalOrigin:e.updateFastLocalOrigin(s,l,this._context.localOriginFactory)}const{elevationContext:c}=e;c.centerPointInElevationSR=this._getCenterPointInElevationSR(s);const{elevationProvider:u,renderCoordsHelper:m}=this._context,f=(e,t)=>le(e,u,c,m,t);return e.alignedSampledElevation=se(e,c,u.spatialReference,f,m,s),e.updateTransform(s,l,this._context.isAsync),e.updateAutoDisableFastTransformUpdates((()=>this.updateTransform(e,t,r,re.DisableFastUpdates))),!0}_requiresSymbolVertexColors(){return this._drivenProperties.color||this._drivenProperties.opacity}_materialPropertiesDefault(e,t){const r=this._requiresSymbolVertexColors(),o=!!e.vertexAttributes.color,a=!!e.vertexAttributes.tangent;return{hasSymbolVertexColors:r,hasVertexColors:o,hasVertexTangents:a,uid:`vc:${o},vt:${a},vct${t},svc:${r}`}}_materialProperties(e,t,r){const o=this._materialPropertiesDefault(e,r);if(!t.material)return o;const{color:a,colorTexture:n,colorTextureTransform:s,normalTexture:i,normalTextureTransform:l,doubleSided:c,alphaCutoff:u,alphaMode:m}=t.material,f=Ye(a),p=Ye(n),h=Je(s),d=Ye(i),g=Je(l);if(o.color=a,o.colorTexture=n,o.normalTexture=i,o.uid=`${o.uid},cmuid:${f},ctmuid:${p},cttuid:${h},ntmuid:${d},nttuid:${g},ds:${c},ac:${u},am:${m}`,t.material instanceof V){const{metallic:e,roughness:r,metallicRoughnessTexture:a,metallicRoughnessTextureTransform:n,emissiveColor:i,emissiveTexture:c,emissiveTextureTransform:u,occlusionTexture:m,occlusionTextureTransform:f}=t.material,p=Ye(a),h=Je(n),d=Ye(i),g=Ye(c),x=Je(u),_=Ye(m),T=Je(f);o.metallic=e,o.roughness=r,o.metallicRoughnessTexture=a,o.emissiveColor=i,o.emissiveTexture=c,o.occlusionTexture=m,o.colorTextureTransform=$e(s),o.normalTextureTransform=$e(l),o.emissiveTextureTransform=$e(u),o.occlusionTextureTransform=$e(f),o.metallicRoughnessTextureTransform=$e(n),o.uid=`${o.uid},mrm:${e},mrr:${r},mrt:${p},mrtt:${h},emuid:${d},etmuid:${g},ett:${x},otmuid:${_},ott:${T}`}return o}_getInternalTexture(e,t=Te.Opaque){const a=We(e);if(!a)return null;const n=`${e.contentHash}/${t}`;let s=this._textures.get(n);if(s){const e=this._context.stage.renderView.textures;let t=null;const a=e.acquire(s.id);return null==a||o(a)||(s.events.on(\"unloaded\",(()=>t=r(t))),t=a),s}let i=null;const l=this._context.stage.renderView.renderingContext.parameters.maxMaxAnisotropy,c={wrap:He(e.wrap),noUnpackFlip:!0,maxAnisotropy:l,mipmap:l>1};return ae(a)?(i=a.data,c.preMultiplyAlpha=!1,c.encoding=a.encoding):(i=a,c.preMultiplyAlpha=t!==Te.Opaque,c.downsampleUncompressed=this._context.graphicsCoreOwner.view.qualitySettings.graphics3D.uncompressedTextureDownsamplingEnabled),s=new Me(i,c),this._textures.set(n,s),s.load(this._context.stage.renderView.renderingContext),this._context.stage.add(s),s.events.on(\"unloaded\",(()=>{this._textures.delete(n)})),s}_setInternalMaterialTextureParameters(t,r){if(null!=t.colorTexture){const e=this._getInternalTexture(t.colorTexture,r.textureAlphaMode);e?(r.textureId=e.id,r.textureAlphaPremultiplied=!!e.parameters.preMultiplyAlpha):r.textureId=void 0}t.normalTexture&&(r.normalTextureId=this._getInternalTexture(t.normalTexture)?.id),t.emissiveColor&&(r.emissiveFactor=e.toUnitRGB(t.emissiveColor)),t.emissiveTexture&&(r.emissiveTextureId=this._getInternalTexture(t.emissiveTexture)?.id),t.occlusionTexture&&(r.occlusionTextureId=this._getInternalTexture(t.occlusionTexture)?.id),t.metallicRoughnessTexture&&(r.metallicRoughnessTextureId=this._getInternalTexture(t.metallicRoughnessTexture)?.id)}_setInternalMaterialParameters(e,t){null!=e.color&&ze(e.color,t),this._setInternalMaterialTextureParameters(e,t),t.colorTextureTransformMatrix=ne(e.colorTextureTransform),t.normalTextureTransformMatrix=ne(e.normalTextureTransform);const r=null!=e.normalTextureTransform?.scale?e.normalTextureTransform?.scale:h;t.scale=[r[0],r[1]],t.occlusionTextureTransformMatrix=ne(e.occlusionTextureTransform),t.emissiveTextureTransformMatrix=ne(e.emissiveTextureTransform),t.metallicRoughnessTextureTransformMatrix=ne(e.metallicRoughnessTextureTransform)}_setExternalMaterialParameters(t,r=this.symbolLayer?.material?.color){const o=this._drivenProperties.color;let a=this.symbolLayer.material?.colorMixMode??null;if(o)t.externalColor=C;else{const o=r??null;o?t.externalColor=e.toUnitRGBA(o):(a=null,t.externalColor=C)}a&&(t.colorMixMode=a),t.castShadows=!!this.symbolLayer.castShadows}_getOrCreateMaterial(t,r){const o=r.material?.color,a=r.material?.colorTexture,n=r.material?.alphaMode,s=\"blend\"===n,i=!(\"opaque\"===n)&&(ke(t)||null!=o&&o.a<1||a?.transparent||s),l=this._materialProperties(t,r,i),c=this._materialInfoCache.byUid(l.uid);if(c)return this._setInternalMaterialTextureParameters(l,c.material.parameters),c.material;const u={uid:l.uid,material:null,isComponentTransparent:i,alphaMode:r.material?r.material.alphaMode:\"opaque\"},m=Ce({normalTexture:l.normalTexture,metallicRoughnessTexture:l.metallicRoughnessTexture,metallicFactor:l.metallic,roughnessFactor:l.roughness,emissiveTexture:l.emissiveTexture,emissiveFactor:e.toUnitRGB(l.emissiveColor),occlusionTexture:l.occlusionTexture}),f={usePBR:this._usePBR(),isSchematic:m,hasVertexColors:l.hasVertexColors,hasSymbolColors:l.hasSymbolVertexColors,hasVertexTangents:l.hasVertexTangents,ambient:R,diffuse:j,opacity:1,doubleSided:!0,doubleSidedType:\"winding-order\",cullFace:be.None,layerOpacity:this._getLayerOpacity(),hasSlicePlane:this._context.slicePlaneEnabled};f.mrrFactors=m?Ee:[l.metallic,l.roughness,Ae[2]],r.material&&(f.doubleSided=r.material.doubleSided,f.cullFace=r.material.doubleSided?be.None:be.Back,f.textureAlphaCutoff=r.material.alphaCutoff),this._setExternalMaterialParameters(f),this._setMaterialTransparentParameter(f,u),this._setInternalMaterialParameters(l,f);const p=new je(f,this._context);return u.material=p,this._materialInfoCache.set(l.uid,u),this._context.stage.add(p),p}prepareSymbolLayerPatch(e){if(\"partial\"!==e.diff.type)return;const t=e.diff.diff;this._preparePatchColor(e,t)}_preparePatchColor(e,t){if(!t.material||\"partial\"!==t.material.type)return;const r=t.material.diff;if(!r.color||\"complete\"!==r.color.type||null==r.color.newValue||null==r.color.oldValue)return;const o=r.color.newValue;delete r.color,e.symbolLayerStatePatches.push((()=>{this._updateMaterialParameters((e=>{const t=e.material.parameters;this._setExternalMaterialParameters(t,o),this._setMaterialTransparentParameter(t,e),e.material.setParameters({externalColor:t.externalColor,transparent:t.transparent})}))}))}_usePBR(){return this._context.physicalBasedRenderingEnabled}_setMaterialTransparentParameter(e,t){e.transparent=this.needsDrivenTransparentPass||t.isComponentTransparent||e.layerOpacity<1||e.opacity<1||e.externalColor&&e.externalColor[3]<1,\"auto\"===t.alphaMode?e.textureAlphaMode=e.transparent?Te.MaskBlend:Te.Opaque:e.textureAlphaMode=\"opaque\"===t.alphaMode?Te.Opaque:\"mask\"===t.alphaMode?Te.Mask:Te.Blend}_createFaceDebugNormals(e,t){const r=t.length,o=e.spatialReference.isGeographic?20015077/180:1,n=.1*Math.max(e.extent.width*o,e.extent.height*o,e.extent.zmax-e.extent.zmin),i=[],l=[],c=t[0].transformation,u=a(s(),c);for(let a=0;a<r;a++){const e=t[a].attributes.get(Re.POSITION);if(!e)continue;const r=e.data,o=e.indices;for(let t=0;t<o.length;t+=3)Le(r,o,t,rt),Ve(r,o,t,Ze,et,tt),g(Ze,Ze,et),g(Ze,Ze,tt),x(Ze,Ze,1/3),_(Ze,Ze,c),i.push(...Ze),T(rt,rt,u),b(rt,rt),y(Ze,Ze,rt,n),i.push(...Ze),l.push(l.length),l.push(l.length)}return i.length?new ve(this._debugFaceNormalMaterial,[[Re.POSITION,new _e(i,l,3,!0)]],null,ye.Line):null}_createPerVertexDebugVectors(e,t,r,o,i){const l=t.length,c=e.spatialReference.isGeographic?20015077/180:1,u=.1*i*Math.max(e.extent.width*c,e.extent.height*c,e.extent.zmax-e.extent.zmin),m=[],f=[],p=t[0].transformation,h=a(s(),p);r===Re.TANGENT&&n(h,p);for(let a=0;a<l;a++){const e=t[a],o=e.attributes.get(Re.POSITION),n=e.attributes.get(r);if(!o||!n)continue;const s=o.data,i=o.indices,l=n.data,c=n.indices;for(let t=0;t<i.length;t++){const e=3*i[t],r=c[t]*n.stride;d(Ze,s[e+0],s[e+1],s[e+2]),_(Ze,Ze,p),m.push(...Ze),d(et,l[r+0],l[r+1],l[r+2]),T(et,et,h),b(et,et),y(Ze,Ze,et,u),m.push(...Ze),f.push(f.length),f.push(f.length)}}return m.length?new ve(o,[[Re.POSITION,new _e(m,f,3,!0)]],null,ye.Line):null}_createAs3DShape(e,t,r,o){const a=e.geometry;if(\"mesh\"!==a.type)return null;const n=this._createGeometryInfo(a,t,o);if(null==n)return null;const{geometries:s,objectTransformation:i}=n;if(xe.DRAW_MESH_GEOMETRY_NORMALS){const e=this._createPerVertexDebugVectors(a,s,Re.NORMAL,this._debugVertexNormalMaterial,1),t=this._createPerVertexDebugVectors(a,s,Re.TANGENT,this._debugTangentNormalMaterial,.5),r=this._createFaceDebugNormals(a,s);e&&s.push(e),t&&s.push(t),r&&s.push(r)}const l=new we({geometries:s,layerUid:this._context.layer.uid,graphicUid:o,isElevationSource:!0});l.transformation=i;const c=he(this.symbolLayer,{opacity:this._getLayerOpacity()}),u=c?new ue(s[0].material,c,this._context.slicePlaneEnabled):null,m=new ce(this,l,s,null,null,se,r,u);this._fastUpdateProcessor.onAddGraphic(),m.needsElevationUpdates=ie(r.mode),m.useObjectOriginAsAttachmentOrigin=!0,m.fastTransformUpdatesAllowed=this._fastTransformUpdatesAllowed(a),r.centerPointInElevationSR=this._getCenterPointInElevationSR(l.transformation);const{elevationProvider:f,renderCoordsHelper:p}=this._context,h=(e,t)=>le(e,f,r,p,t);return m.alignedSampledElevation=se(m,r,f.spatialReference,h,p),m}_fastTransformUpdatesAllowed(e){const{vertexSpace:t,spatialReference:r}=e;if(!$(t))return!1;const{type:o}=t,{view:a}=this._context.graphicsCoreOwner,{viewingMode:n}=a.state,s=a.spatialReference;return n===oe.Global&&\"local\"===o||n===oe.Local&&q(s,r)&&\"georeferenced\"===o&&!r.isGeographic}_getCenterPointInElevationSR(e){const t=te(0,0,0,this._context.elevationProvider.spatialReference??null);return N([e[12],e[13],e[14]],this._context.renderCoordsHelper.spatialReference,t),t}_passthroughReprojectionInfo(e){return e.reprojection===it.NONE&&!!e.objectTransformation}_createPositionBuffer(e,t){const r=e.vertexAttributes.position;let o,a=r;if(t.reprojection===it.NONE)return{position:a,georeferencedPositionBuffer:o};const n=t.reprojection===it.RENDER?t.transformBeforeProject:null;n&&(a=z(new Float64Array(a.length),a,n));const{normal:s,tangent:i}=e.vertexAttributes;this._passthroughReprojectionInfo(t)||!s&&!i||(o=a);const l=a===r||a===o?new Float64Array(a.length):a;return O(a,e.spatialReference,0,l,this._context.renderCoordsHelper.spatialReference,0),{position:l,georeferencedPositionBuffer:o}}_createNormalBuffer(e,t,r,o){const a=e.vertexAttributes.normal;if(null==a)return null;let n=a;const s=o.reprojection===it.RENDER?o.transformBeforeProject:null;s&&(n=W(n,new Float32Array(n.length),s));const i=this._context.graphicsCoreOwner.view.viewingMode;if(o.reprojection===it.NONE)return n;if(\"local\"===i){if(!k(this._context.renderCoordsHelper.spatialReference))return n;if(null==r)return null;if(e.spatialReference.isGeographic){const e=n===a?new Float32Array(n.length):n;return Y(n,J.NORMAL,r,e)}if(e.spatialReference.isWebMercator){const e=n===a?new Float32Array(n.length):n;return K(n,J.NORMAL,r,e)}return n}if(null==r)return null;const l=n===a?new Float32Array(n.length):n,c=this._context.renderCoordsHelper.spatialReference;return Q(n,r,e.spatialReference,t,c,l)}_createTangentBuffer(e,t,r,o){const a=e.vertexAttributes.tangent;if(null==a)return null;let n=a;const s=o.reprojection===it.RENDER?o.transformBeforeProject:null;s&&(n=X(n,new Float32Array(n.length),s));const i=this._context.graphicsCoreOwner.view.viewingMode;if(o.reprojection===it.NONE)return n;if(\"local\"===i){if(!k(this._context.renderCoordsHelper.spatialReference))return n;if(null==r)return null;if(e.spatialReference.isGeographic){const e=n===a?new Float32Array(n.length):n;return Y(n,J.TANGENT,r,e)}if(e.spatialReference.isWebMercator){const e=n===a?new Float32Array(n.length):n;return K(n,J.TANGENT,r,e)}return n}if(null==r)return null;const l=n===a?new Float32Array(n.length):n,c=this._context.renderCoordsHelper.spatialReference;return Z(n,r,e.spatialReference,t,c,l)}_createSymbolColorBuffer(e){if(this._requiresSymbolVertexColors()){const t=this._getVertexOpacityAndColor(e),r=de(this.symbolLayer?.material?.colorMixMode),o=new Uint8Array(4);return ge(t,r,o),o}return null}_createBuffers(e,t){const r=e.vertexAttributes&&e.vertexAttributes.position;if(!r)return this.logger.warn(\"Mesh geometry must contain position vertex attributes\"),null;const o=e.vertexAttributes.normal,a=e.vertexAttributes.uv,n=e.vertexAttributes.tangent;if(o&&o.length!==r.length)return this.logger.warn(\"Mesh normal vertex buffer must contain the same number of elements as the position buffer\"),null;if(n&&n.length/4!=r.length/3)return this.logger.warn(\"Mesh tangent vertex buffer must contain the same number of elements as the position buffer\"),null;if(a&&a.length/2!=r.length/3)return this.logger.warn(\"Mesh uv vertex buffer must contain the same number of elements as the position buffer\"),null;const s=this._computeReprojectionInfo(e),{position:i,georeferencedPositionBuffer:l}=this._createPositionBuffer(e,s),c=Ke(e),u=this._createSymbolColorBuffer(t),f=this._createNormalBuffer(e,i,l,s),p=this._createTangentBuffer(e,i,l,s),h=a,{transformation:d,position:g,normal:x,tangent:_}=this._passthroughReprojectionInfo(s)?{transformation:s.objectTransformation,position:i,normal:f,tangent:p}:this._transformOriginLocal(e,i,f,p);return{positionBuffer:g,normalBuffer:x,tangentBuffer:_,uvBuffer:h,colorBuffer:c,symbolColorBuffer:u,objectTransformation:d,geometryTransformation:s.reprojection===it.NONE&&s.geometryTransformation?s.geometryTransformation:m()}}_computeReprojectionInfo(e){const{vertexSpace:t}=e,r=\"georeferenced\"===t.type?q(this._context.renderCoordsHelper.spatialReference,e.spatialReference)?it.NONE:it.RENDER:it.NONE;if(H(t))return{reprojection:r};const o=t.origin,a=m(),n=e.transform?.localMatrix??f;if(r===it.NONE){E(e.spatialReference,o,a,this._context.renderCoordsHelper.spatialReference);return{reprojection:r,objectTransformation:a,geometryTransformation:p(n)}}const s=i(m(),o);return l(s,s,n),{reprojection:r,transformBeforeProject:s}}_transformOriginLocal(e,t,r,o){const a=this._context.renderCoordsHelper.spatialReference,n=e.origin;Xe[0]=n.x,Xe[1]=n.y,Xe[2]=n.z??0;const s=m();E(e.spatialReference,Xe,s,a),c(ot,s);const{position:i,normal:l,tangent:u}=e.vertexAttributes,f=t===i?new Float64Array(t.length):t;z(f,t,ot);const p=r?r===l?new Float32Array(r.length):r:null,h=o?o===u?new Float32Array(o.length):o:null;return r&&p&&W(r,p,ot),o&&h&&X(o,h,ot),{transformation:s,position:f,normal:p,tangent:h}}_validateFaces(e,t){const r=e.vertexAttributes.position.length/3,o=t.faces;if(o){let e=-1;for(let t=0;t<o.length;t++){const r=o[t];r>e&&(e=r)}if(r<=e)return this.logger.warn(`Vertex index ${e} is out of bounds of the mesh position buffer`),!1}else if(r%3!=0)return this.logger.warn(\"Mesh position buffer length must be a multiple of 9 if no component faces are defined (3 values per vertex * 3 vertices per triangle)\"),!1;return!0}_isOutsideClippingArea(e){if(!this._context.clippingExtent)return!1;const t=e.vertexAttributes?.position;if(!t)return!1;const r=this._context.elevationProvider.spatialReference,o=ee(e,r??e.spatialReference);return!!o&&(S(o,nt),!U(nt,this._context.clippingExtent))}_createGeometryInfo(e,t,r){if(!A(e.spatialReference,this._context.renderCoordsHelper.spatialReference))return this.logger.warn(\"Geometry spatial reference is not compatible with the view\"),null;if(!this._validateVertexSpace(e))return null;if(this._isOutsideClippingArea(e))return null;const o=this._createBuffers(e,t);if(null==o)return null;const{positionBuffer:a,uvBuffer:n,colorBuffer:s,symbolColorBuffer:i,normalBuffer:l,tangentBuffer:c,objectTransformation:m,geometryTransformation:f}=o,p=e.components??st,h=new Array;let d=!1;const g=u(Ze,m),x=this._context.localOriginFactory.getOrigin(g);for(const u of p){if(!this._validateFaces(e,u))return null;const t=Ue(e,u);if(0===t.length)continue;const o=Be(a,l,u,t);o.didFlipNormals&&(d=!0);const m=[[Re.POSITION,new _e(a,t,3,!0)],[Re.NORMAL,new _e(o.normals,o.indices,3,!0)]];s&&m.push([Re.COLOR,new _e(s,t,4,!0)]),i&&m.push([Re.SYMBOLCOLOR,new _e(i,F(t.length),4,!0)]),n&&m.push([Re.UV0,new _e(n,t,2,!0)]),c&&m.push([Re.TANGENT,new _e(c,t,4,!0)]);const p=this._context.stage.renderView.getObjectAndLayerIdColor({graphicUid:r,layerUid:this._context.layer.uid}),g=this._getOrCreateMaterial(e,u),_=new ve(g,m,null,ye.Mesh,p);_.transformation=f,_.localOrigin=x,h.push(_)}return d&&this.logger.warn(\"Normals have been automatically flipped to be consistent with the counter clock wise face winding order. It is better to generate mesh geometries that have consistent normals.\"),{geometries:h,objectTransformation:m}}_updateMaterialParameters(e){this._materialInfoCache.forEachMaterialInfo(e),this._fastUpdateProcessor.forEachMaterialInfo(e),this._fastUpdateProcessor.forEachClonedMaterial(((e,t)=>{t.setParameters(e.parameters)}))}_validateVertexSpace(e){const{_context:{graphicsCoreOwner:{view:{state:{viewingMode:t}}}}}=this,{vertexSpace:r}=e;return t!==oe.Local||\"local\"!==r.type||(this.logger.warn(\"Displaying a mesh with a local vertex space in a view in local viewing mode is not supported.\"),!1)}test(){return{...super.test(),materials:this._materialInfoCache.materials}}}class Se{constructor(e,t,r){this.normals=e,this.indices=t,this.didFlipNormals=r}}function Ue(e,t){return t.faces??D(e.vertexAttributes.position.length/3)}function Be(e,t,r,o){switch(r.shading||\"flat\"){default:case\"source\":return De(e,t,r,o);case\"flat\":return Fe(e,o);case\"smooth\":return Ge(e,o)}}function Fe(e,t){const r=B(t.length),o=new Array(3*t.length);for(let a=0;a<t.length;a+=3){const n=Le(e,t,a,rt);for(let e=0;e<3;e++)r[a+e]=n[e],o[a+e]=a/3}return new Se(r,o,!1)}function De(e,t,r,o){if(null==t)return Fe(e,o);let a=!1;if(!r.trustSourceNormals)for(let n=0;n<o.length;n+=3){Le(e,o,n,rt);for(let e=0;e<3;e++){const r=3*o[n+e];Ze[0]=t[r],Ze[1]=t[r+1],Ze[2]=t[r+2],v(rt,Ze)<0&&(t[r]=-t[r],t[r+1]=-t[r+1],t[r+2]=-t[r+2],a=!0)}}return new Se(t,o,a)}function Ge(e,t){const r={};for(let n=0;n<t.length;n+=3){const o=Le(e,t,n,rt);for(let e=0;e<3;e++){const a=t[n+e];let s=r[a];s||(s={normal:P(),count:0},r[a]=s),g(s.normal,s.normal,o),s.count++}}const o=B(3*t.length),a=new Array(3*t.length);for(let n=0;n<t.length;n++){const e=r[t[n]];1!==e.count&&(b(e.normal,e.normal),e.count=1);for(let t=0;t<3;t++)o[3*n+t]=e.normal[t];a[n]=n}return new Se(o,a,!1)}function Ve(e,t,r,o,a,n){const s=3*t[r],i=3*t[r+1],l=3*t[r+2];o[0]=e[s],o[1]=e[s+1],o[2]=e[s+2],a[0]=e[i],a[1]=e[i+1],a[2]=e[i+2],n[0]=e[l],n[1]=e[l+1],n[2]=e[l+2]}function Le(e,t,r,o){return Ve(e,t,r,Ze,et,tt),w(et,et,Ze),w(tt,tt,Ze),M(Ze,et,tt),b(o,Ze),o}function $e(e){if(!e)return null;const{scale:r,offset:o,rotation:a}=e;return{scale:r,offset:o,rotation:t(a)}}function He(e=\"repeat\"){if(\"string\"==typeof e){const t=qe(e);return{s:t,t}}return{s:qe(e.horizontal),t:qe(e.vertical)}}function qe(e){switch(e){case\"clamp\":return Oe.CLAMP_TO_EDGE;case\"mirror\":return Oe.MIRRORED_REPEAT;default:return Oe.REPEAT}}function ke(e){const t=e.vertexAttributes.color;if(null==t)return!1;for(let r=3;r<t.length;r+=4)if(255!==t[r])return!0;return!1}function ze(t,r){r.diffuse=e.toUnitRGB(t),r.opacity=t.a}function We(e){return e.data??e.url}function Ye(t){return null==t?\"-\":t instanceof e?t.toHex():t.contentHash}function Je(e){const{offset:t,scale:r,rotation:o}=e??Qe;return`${t[0]},${t[1]},${o},${r[0]},${r[1]}`}function Ke(e){return e.vertexAttributes.color}const Qe=new L,Xe=P(),Ze=P(),et=P(),tt=P(),rt=P(),ot=m(),at=m(),nt=I(),st=[new G];var it;!function(e){e[e.NONE=0]=\"NONE\",e[e.RENDER=1]=\"RENDER\"}(it||(it={}));export{Ie as Graphics3DMeshFillSymbolLayer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{create as t}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{t as e,i}from\"../../../../chunks/vec32.js\";import{create as n}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{empty as s,expandWithVec3 as a,create as h,isPoint as o,center as r,offset as l}from\"../../../../geometry/support/aaBoundingBox.js\";import{evaluateElevationInfoAtPoint as g}from\"./elevationAlignmentUtils.js\";import{setContextFeature as c}from\"./featureExpressionInfoUtils.js\";import{demResolutionForBoundingBox as d}from\"./graphicUtils.js\";import{Object3DState as m}from\"../../webgl-engine/lib/basicInterfaces.js\";import{Object3DHighlightStateID as p}from\"../../webgl-engine/lib/Object3DStateID.js\";class u{constructor(t,e,i,n,s){this.graphics3DSymbolLayer=t,this.instanceIndex=e,this.elevationAligner=i,this.elevationContext=n,this._highlightOrderMap=s,this.type=\"lod-instance\",this._highlights=new Set,this.alignedSampledElevation=0,this.isElevationSource=!1,this.needsElevationUpdates=!1,this._highlightName=null}initialize(){}setVisibility(t){const{instanceData:e}=this;t!==e.getVisible(this.instanceIndex)&&e.setVisible(this.instanceIndex,t)}destroy(){null!=this.instanceIndex&&(this.instanceData.removeInstance(this.instanceIndex),this.graphics3DSymbolLayer.notifyDestroyGraphicLayer(this))}alignWithElevation(t,e,i){if(this.elevationAligner){c(this.elevationContext.featureExpressionInfoContext,i);const n=(i,n)=>g(i,t,this.elevationContext,e,n),s=this.elevationAligner(this,this.elevationContext,t.spatialReference,n,e);null!=s&&(this.alignedSampledElevation=s)}}getCenterObjectSpace(t=n()){return this.instanceData.getCombinedLocalTransform(this.instanceIndex,_),e(t,this._lodRenderer.baseBoundingSphere.center,_)}getBoundingBoxObjectSpace(t=h()){this.instanceData.getCombinedLocalTransform(this.instanceIndex,_);const n=this._lodRenderer.baseBoundingBox;s(t);for(let s=0;s<8;++s)i(b,1&s?n[3]:n[0],2&s?n[4]:n[1],4&s?n[5]:n[2]),e(b,b,_),a(t,b);return t}computeAttachmentOrigin(t){this.instanceData.getGlobalTransform(this.instanceIndex,_),t.render.origin[0]+=_[12],t.render.origin[1]+=_[13],t.render.origin[2]+=_[14],t.render.num++}async getProjectedBoundingBox(t,i,n,a,h){const g=this.getBoundingBoxObjectSpace(h),c=x,m=o(g)?1:c.length;this.instanceData.getGlobalTransform(this.instanceIndex,_);for(let s=0;s<m;s++){const t=c[s];b[0]=g[t[0]],b[1]=g[t[1]],b[2]=g[t[2]],e(b,b,_),f[3*s]=b[0],f[3*s+1]=b[1],f[3*s+2]=b[2]}if(!t(f,0,m))return null;s(g);let p=null;this.calculateRelativeScreenBounds&&(p=this.calculateRelativeScreenBounds());for(let e=0;e<3*m;e+=3){for(let t=0;t<3;t++)g[t]=Math.min(g[t],f[e+t]),g[t+3]=Math.max(g[t+3],f[e+t]);p&&n.push({location:f.slice(e,e+3),screenSpaceBoundingRect:p})}if(i&&(r(g,v),\"absolute-height\"!==this.elevationContext.mode)){let t;const e=d(g,i.service.spatialReference,i);try{t=await i.service.queryElevation(v[0],v[1],a,e,\"ground\")}catch(u){}null!=t&&l(g,0,0,-this.alignedSampledElevation+t)}return g}addObjectState(t){t.stateType===m.Highlight&&this.addObjectHighlightState(t)}addObjectHighlightState(t){const e=new p(t.highlightName);this._addHighlightId(e),t.addExternal((t=>{this._removeHighlightId(t)}),e)}removeObjectState(t){this._highlights.forEach((e=>t.remove(e)))}updateHighlights(t){this._highlightOrderMap=t,this._updateHighlightOptions()}_calculateHighlightOptions(){let t=-1,e=null;return this._highlights.forEach((({highlightName:i})=>{const n=this._highlightOrderMap.get(i);void 0!==n&&n>t&&(t=n,e=i)})),e}_addHighlightId(t){this._highlights.add(t),this._updateHighlightOptions()}_removeHighlightId(t){this._highlights.delete(t),this._updateHighlightOptions()}_updateHighlightOptions(){const t=this._calculateHighlightOptions();t!==this._highlightName&&(this._highlightName=t,this.instanceData.setHighlight(this.instanceIndex,t))}get _lodRenderer(){return this.graphics3DSymbolLayer.lodRenderer}get instanceData(){return this._lodRenderer.instanceData}}const f=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],b=n(),v=n(),x=[[0,1,2],[3,1,2],[0,4,2],[3,4,2],[0,1,5],[3,1,5],[0,4,5],[3,4,5]],_=t();export{u as Graphics3DLodInstanceGraphicLayer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{LodResources as e,LodComponentResources as n,LodComponentEngineGeometry as o,LodLevelResources as r}from\"../../webgl-engine/lib/lodRendering/LodResources.js\";function t(e,t){const s=e.stageResources.geometries.map((r=>new n(new o(r),e.stageResources.textures))),l=null==e.lodThreshold||0===e.lodThreshold&&t>0?u(s):e.lodThreshold;return new r(s,l,e.pivotOffset)}function s(n){return new e(n.map(((e,n)=>t(e,n))))}function u(e){const n=e.reduce(((e,n)=>e+n.numTriangles),0);return Math.sqrt(n*l/Math.PI)}const l=20;export{s as makeLodResources};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport l from\"../../../../core/Error.js\";import{fetchStyle as t,symbolUrlFromStyleItem as e}from\"../../../../symbols/support/styleUtils.js\";import{getStyleItemFromStyle as s,fetchSymbolFromStyle as n}from\"../../../../symbols/support/webStyleSymbolUtils.js\";async function r(r){if(null==r||null==r.styleName&&null==r.styleUrl)return null;const o=r.name;if(null==o)throw new l(\"symbolstyleutils:style-symbol-reference-name-missing\",\"Missing name in style symbol reference\");const u={portal:r.portal},i=await t(r,u).catch((()=>null));if(null===i)return null;const m=s(o,i.data);if(m&&!m.formatInfos?.some((l=>\"gltf_basisu\"===l.type)))return null;const a=await n(i,o,u,e,{acceptedFormats:[\"web-gltf-basisu\",\"web-gltf\",\"web\"]}).catch((()=>null));if(null===a||\"point-3d\"!==a.type)return null;const y=a.symbolLayers.items[0];return\"object\"===y.type?y.resource:null}export{r as getResourceUrlFromSymbolStyle};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../../../Color.js\";import{throwIfAborted as t}from\"../../../../core/promiseUtils.js\";import{pt2px as s}from\"../../../../core/screenUtils.js\";import{identity as r,scale as i,translate as a,copy as o}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as n}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{l,F as c,v as h,c as d,C as m,g as p,i as u}from\"../../../../chunks/vec32.js\";import{fromArray as y,clone as f,ZEROS as _,ONES as g,fromValues as b,create as P}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{ONES as R,create as x}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{computeTranslationToOriginAndRotation as v}from\"../../../../geometry/projection/computeTranslationToOriginAndRotation.js\";import{projectPointToVector as L}from\"../../../../geometry/projection/projectPointToVector.js\";import{create as C,size as S,containsPoint as w,center as E}from\"../../../../geometry/support/aaBoundingBox.js\";import{defaultPrimitive as j}from\"../../../../symbols/support/ObjectSymbol3DLayerResource.js\";import{objectSymbolLayerPrimitiveBoundingBox as U,objectSymbolLayerSizeWithResourceSize as T}from\"../../../../symbols/support/symbolLayerUtils3D.js\";import{estimateNumVerticesForLods as O,defaultSymbolLayerMemoryComplexity as B}from\"./defaultSymbolComplexity.js\";import{perLodInstanceElevationAligner as G}from\"./ElevationAligners.js\";import{needsElevationUpdates3D as I,evaluateElevationInfoAtPoint as D,SampleElevationInfo as F}from\"./elevationAlignmentUtils.js\";import{Graphics3DLodInstanceGraphicLayer as A}from\"./Graphics3DLodInstanceGraphicLayer.js\";import{Graphics3DSymbolLayer as M}from\"./Graphics3DSymbolLayer.js\";import{validateSymbolLayerSize as z,mixinColorAndOpacity as V,computeObjectScale as k,computeObjectRotation as H}from\"./graphicUtils.js\";import{ApplyRendererDiffResult as W}from\"./interfaces.js\";import{LoadStatus as q}from\"./Loadable.js\";import{makeLodResources as N}from\"./lodResourceUtils.js\";import{fetch as J}from\"./objectResourceUtils.js\";import{placePointOnGeometry as Y,extendPointGraphicElevationContext as $}from\"./pointUtils.js\";import{isValidPrimitive as K,primitiveLodResources as Q}from\"./primitiveObjectSymbolUtils.js\";import{SymbolComplexity as X}from\"./SymbolComplexity.js\";import{getResourceUrlFromSymbolStyle as Z}from\"./webStyleUtils.js\";import{initFastSymbolUpdatesState as ee,updateFastSymbolUpdatesState as te,ConvertOptions as se,evaluateModelTransform as re,evaluateModelTransformScale as ie}from\"../support/FastSymbolUpdates.js\";import{olidEnabled as ae}from\"../../webgl-engine/effects/geometry/olidUtils.js\";import{CullFaceOptions as oe}from\"../../webgl-engine/lib/basicInterfaces.js\";import{VertexAttribute as ne}from\"../../webgl-engine/lib/VertexAttribute.js\";import{LodRenderer as le}from\"../../webgl-engine/lib/lodRendering/LodRenderer.js\";import{DefaultMaterial as ce}from\"../../webgl-engine/materials/DefaultMaterial.js\";import{schematicMRRFactors as he}from\"../../webgl-engine/materials/pbrUtils.js\";class de{constructor(e,t,s,r,i,a,o,n,l,c,h,d){this.lodResources=e,this.lodRenderer=t,this.stageResources=s,this.originalMaterialParameters=r,this.resourceSize=i,this.isEsriSymbolResource=a,this.isWosr=o,this.resourceBoundingBox=n,this.symbolSize=l,this.extentPadding=c,this.physicalBasedRenderingEnabled=h,this.pivotOffset=d}}class me extends M{getCachedSize(){const[e,t,s]=null!=this._resources?this._resources.symbolSize:[1,1,1];return{width:e,depth:t,height:s}}constructor(e,t,s,r){super(e,t,s,r),this._resources=null,this._optionalFields=new Array,this._instanceIndexToGraphicUid=new Map,this._hasLoadedPBRTextures=!1,this._disposeResourceHandles=new Array,this.skipHighSymbolLodsChanged=!1,this.ensureDrapedStatus(!1),this._hasLoadedPBRTextures=s.physicalBasedRenderingEnabled}async doLoad(e){if(!this._drivenProperties.size){const e=z(this.symbolLayer);if(e)throw new Error(e)}if(this._isPrimitive){const t=this.symbolLayer.resource,s=t&&K(t?.primitive)?t.primitive:j;this._resources=await this._createResourcesForPrimitive(s,e)}else{const t=await Z(this.symbol.styleOrigin),s=t?.href??this.symbolLayer.resource?.href;this._resources=await this._createResourcesForUrl(s,e)}this.layerOpacityChanged(),this.slicePlaneEnabledChanged(),this.physicalBasedRenderingChanged(),this.complexity=this.computeComplexity()}get extentPadding(){return null!=this._resources?this._resources.extentPadding:0}get _isPrimitive(){return!this.symbolLayer.resource?.href}get lodRenderer(){return this._resources?.lodRenderer}get materials(){return this._resources?.stageResources.materials??[]}_setMaterialTransparencyParameters(e,t=this.symbolLayer?.material?.color){const s=this._getCombinedOpacity(t),r=s<1||this.needsDrivenTransparentPass;return e.transparent=r,e.opacity=s,e.cullFace=r?oe.None:oe.Back,e}async _createResourcesForPrimitive(t,r){const i=this.symbolLayer,a=C(U(t)),o=y(S(a)),n=y(T(o,i)),h=l(n),d=!1,m=!1,p=this.symbolLayer?.material?.emissiveFactor,u=p?c(f(p)):_,b={usePBR:this._context.physicalBasedRenderingEnabled,isSchematic:!0,mrrFactors:he,ambient:g,diffuse:g,hasSlicePlane:this._context.slicePlaneEnabled,castShadows:this.symbolLayer.castShadows,emissiveFactor:u,offsetTransparentBackfaces:!this.symbolLayer.isPrimitive},P=!!b.usePBR;this._setMaterialTransparencyParameters(b);const x=this.symbol;if(\"point-3d\"===x.type&&x.verticalOffset){const{screenLength:e,minWorldLength:t,maxWorldLength:r}=x.verticalOffset;b.verticalOffset={screenLength:s(e),minWorldLength:t||0,maxWorldLength:null!=r?r:1/0},b.castShadows=!1}if(this._context.screenSizePerspectiveEnabled&&(b.screenSizePerspective=this._context.sharedResources.screenSizePerspectiveSettings),this._drivenProperties.color)b.externalColor=R;else{const t=null!=i.material?i.material.color:null,s=null!=t?e.toUnitRGBA(t):R;b.externalColor=s}this._fastUpdates=ee(this._context.renderer,this._fastVisualVariableConvertOptions(a,n,o,null)),b.isInstanced=!0,this._fastUpdates?(Object.assign(b,this._fastUpdates.materialParameters),this._optionalFields.push(ne.FEATUREATTRIBUTE)):this._hasPerInstanceColor()&&(b.hasInstancedColor=!0,this._optionalFields.push(ne.COLOR)),ae()&&this._optionalFields.push(ne.OBJECTANDLAYERIDCOLOR);const v=new ce(b,this._context),L=Q(t,v);if(!L)throw new Error(`Unknown object symbol primitive: ${t}`);const w=L.getMaterials().map((e=>({opacity:1,transparent:e.parameters.transparent}))),E=await this._createStageResources(L,P,r),j=await this._createLodRenderer(L,r);return new de(L,j,E,w,o,d,m,a,n,h,P,null)}async _createResourcesForUrl(e,t){const r={isInstanced:!0,hasSlicePlane:this._context.slicePlaneEnabled,castShadows:this.symbolLayer.castShadows},i={spherical:this._context.spherical,doublePrecisionRequiresObfuscation:this._context.doublePrecisionRequiresObfuscation,materialParameters:r,streamDataRequester:this._context.streamDataRequester,cache:this._context.sharedResources.objectResourceCache};this._fastUpdates=ee(this._context.renderer,this._fastVisualVariableConvertOptions(null,null,null,null)),this._fastUpdates?(Object.assign(i.materialParameters,this._fastUpdates.materialParameters),this._optionalFields.push(ne.FEATUREATTRIBUTE)):this._hasPerInstanceColor()&&(i.materialParameters.hasInstancedColor=!0,this._optionalFields.push(ne.COLOR)),ae()&&this._optionalFields.push(ne.OBJECTANDLAYERIDCOLOR);const a=this.symbol;if(\"point-3d\"===a.type&&a.verticalOffset){const{screenLength:e,minWorldLength:t,maxWorldLength:r}=a.verticalOffset;i.materialParameters.verticalOffset={screenLength:s(e),minWorldLength:t||0,maxWorldLength:null!=r?r:1/0},i.materialParameters.castShadows=!1}const o=this._context.physicalBasedRenderingEnabled;i.signal=t,i.usePBR=o,i.skipHighLods=this._context.skipHighSymbolLods;const n=await J(e,i),c=n.isEsriSymbolResource,h=n.isWosr,d=N(n.lods),m=this._context,p=this.symbolLayer.material,u=this._getExternalColorParameters(p),f=this.symbolLayer?.material?.color,_=this._getCombinedOpacity(f,{hasIntrinsicColor:!0}),g=this.needsDrivenTransparentPass,b=d.getMaterials(),P=d.getMaterials().map((e=>({opacity:e.parameters.opacity||1,transparent:e.parameters.transparent})));b.forEach((e=>{const t=e.parameters;e.setParameters(u);const s=t.opacity*_,r=s<1||g||t.transparent;e.setParameters({opacity:s,transparent:r}),m.screenSizePerspectiveEnabled&&e.setParameters({screenSizePerspective:m.sharedResources.screenSizePerspectiveSettings})}));const R=n.referenceBoundingBox,x=y(S(R)),v=y(d.levels[0].pivotOffset),L=y(T(x,this.symbolLayer)),C=l(L),w=this._fastUpdates;te(w,this._context.renderer,this._fastVisualVariableConvertOptions(R,L,x,v))&&b.forEach((e=>e.setParameters(w.materialParameters)));const E=await this._createStageResources(d,o,t),j=await this._createLodRenderer(d,t);return new de(d,j,E,P,x,c,h,R,L,C,o,v)}_addDisposeResource(e){this._disposeResourceHandles.push(e)}async _createStageResources(e,s,r){const i=this._context.stage,a=e.getMaterials();s!==this._context.physicalBasedRenderingEnabled&&this.physicalBasedRenderingChanged(),i.addMany(a),this._addDisposeResource((()=>i.removeMany(a)));const o=e.getTextures();i.addMany(o),this._addDisposeResource((()=>{o.forEach((e=>e.unload())),i.removeMany(o)})),await Promise.all(o.map((e=>this._context.stage.schedule((()=>e.load(i.renderView.renderingContext)),r)))),t(r);const n=e.getEngineGeometries();return i.addMany(n),this._addDisposeResource((()=>i.removeMany(n))),{materials:a,textures:o,geometries:n}}async _createLodRenderer(e,t){const s=this._context.stage,r={layerUid:this._context.layer.uid,graphicUid:e=>this._instanceIndexToGraphicUid.get(e),notifyGraphicGeometryChanged:e=>this._context.notifyGraphicGeometryChanged(this._instanceIndexToGraphicUid.get(e)),notifyGraphicVisibilityChanged:e=>this._context.notifyGraphicVisibilityChanged(this._instanceIndexToGraphicUid.get(e))},i=this._fastUpdates,a=i?{applyTransform:(e,t,s)=>{e.getFeatureAttribute(t,ge),o(s,re(i.materialParameters,ge,s))},scaleFactor:(e,t,s)=>{t.getFeatureAttribute(s,ge),ie(e,i.materialParameters,ge)}}:null,n=new le({symbol:e,optionalFields:this._optionalFields,metadata:r,shaderTransformation:a},this._context.scheduler);return n.slicePlaneEnabled=this._context.slicePlaneEnabled,this._addDisposeResource((()=>{s.removeRenderPlugin(n),n.destroy()})),await s.addRenderPlugin(n,t),n}_getExternalColorParameters(t){const s={};return this._drivenProperties.color?s.externalColor=R:null!=t?.color?s.externalColor=e.toUnitRGBA(t.color):(s.externalColor=R,s.colorMixMode=\"ignore\"),s}destroy(){super.destroy(),this._cleanupResources()}_cleanupResources(){this._disposeResourceHandles.forEach((e=>e())),this._disposeResourceHandles.length=0,this._resources=null}createGraphics3DGraphic(e){const t=e.graphic;if(!this._validateGeometry(t.geometry))return null;const s=Y(t.geometry);if(null==s)return this.logger.warn(`unsupported geometry type for object symbol: ${t.geometry.type}`),null;const r=this.setGraphicElevationContext(t),i=e.renderingInfo;return this._createAs3DShape(t,s,i,r,t.uid,e.layer.uid)}notifyDestroyGraphicLayer(e){this._instanceIndexToGraphicUid.delete(e.instanceIndex)}graphicLayerToGraphicId(){return 0}layerOpacityChanged(){if(null==this._resources)return;const e=this._drivenProperties.opacity,t=!this._isPrimitive,s=this._resources.stageResources.materials,r=this._resources.originalMaterialParameters;for(let i=0;i<s.length;i++){const a=s[i],o=this.symbolLayer?.material?.color,n=r[i],l=this._getCombinedOpacity(o,{hasIntrinsicColor:t})*n.opacity,c=l<1||e||n.transparent;a.setParameters({opacity:l,transparent:c}),this._isPrimitive&&a.setParameters({cullFace:c?oe.None:oe.Back})}}layerElevationInfoChanged(e,t){return this.updateGraphics3DGraphicElevationInfo(e,t,I)}slicePlaneEnabledChanged(){if(null==this._resources)return!0;this._resources.lodRenderer.slicePlaneEnabled=this._context.slicePlaneEnabled;for(const e of this._resources.stageResources.materials)e.setParameters({hasSlicePlane:this._context.slicePlaneEnabled});return!0}physicalBasedRenderingChanged(){if(null==this._resources)return!0;const{stageResources:e,isWosr:t}=this._resources;for(const s of e.materials)this._isPrimitive?s.setParameters({usePBR:this._context.physicalBasedRenderingEnabled,isSchematic:!0}):t||s.setParameters({usePBR:this._context.physicalBasedRenderingEnabled,isSchematic:!1});return!1!==this._hasLoadedPBRTextures||!0!==this._context.physicalBasedRenderingEnabled||(this._hasLoadedPBRTextures=!0,!1)}applyRendererDiff(e,t){if(null==this._resources)return W.RecreateSymbol;const{stageResources:{materials:s},lodRenderer:r,resourceBoundingBox:i,symbolSize:a,resourceSize:o,pivotOffset:n}=this._resources;for(const l in e.diff){if(\"visualVariables\"!==l)return W.RecreateSymbol;if(!te(this._fastUpdates,t,this._fastVisualVariableConvertOptions(i,a,o,n)))return W.RecreateSymbol;for(const e of s)e.setParameters(this._fastUpdates.materialParameters);r.notifyShaderTransformationChanged()}return W.FastUpdate}computeComplexity(){if(null==this._resources)return super.computeComplexity();const e=this._resources.lodResources,t=O(e.levels),s=e.computeUsedMemory(),r={...B(this.symbol,this.symbolLayer),resourceBytes:s};return new X({verticesPerFeature:t,memory:r})}_hasLodRenderer(){return null!=this._resources}_createAs3DShape(e,t,s,r,i,a){if(!this._hasLodRenderer()||null==this._resources)return null;const o=this.getFastUpdateAttrValues(e),n=this._context.clippingExtent;if(L(t,ye,this._context.elevationProvider.spatialReference),null!=n&&!w(n,ye))return null;const l=ue(r),c=this._computeGlobalTransform(t,r,_e,be),h=this._computeLocalTransform(this._resources,this.symbolLayer,s,fe),d=this._resources.lodRenderer.instanceData,m=d.addInstance();this._instanceIndexToGraphicUid.set(m,i),d.setLocalTransform(m,h,!1),d.setGlobalTransform(m,c),o&&d.setFeatureAttribute(m,o),null==this._fastUpdates&&this._hasPerInstanceColor()&&d.setColor(m,V(s.color,s.opacity,255));const p=this._context.stage.renderView.olidRenderHelper;p&&d.setObjectAndLayerIdColor(m,p.getObjectAndLayerIdColor({graphicUid:i,layerUid:a}));const u=new A(this,m,G,r,this._context.stage.view.state.highlightOrderMap);return l&&(u.alignedSampledElevation=be.sampledElevation),u.needsElevationUpdates=I(r.mode),$(u,t,this._context.elevationProvider),u}_computeGlobalTransform(e,t,s,r){return D(e,this._context.elevationProvider,t,this._context.renderCoordsHelper,r),ye[0]=e.x,ye[1]=e.y,ye[2]=r.z,v(e.spatialReference,ye,s,this._context.renderCoordsHelper.spatialReference),s}_computeLocalTransform(e,t,s,i){return r(i),this._applyObjectRotation(s,!1,i),this._applyObjectRotation(t,!0,i),this._applyObjectScale(e,s,i),this._applyAnchor(e,t,i),i}_applyObjectScale(e,t,s){if(this._fastUpdates?.requiresShaderTransformation)return;const r=this._drivenProperties.size&&t.size?t.size:e.symbolSize,a=k(r,e.symbolSize,e.resourceSize,this._context.renderCoordsHelper.unitInMeters);1===a[0]&&1===a[1]&&1===a[2]||i(s,s,a)}prepareSymbolLayerPatch(e){if(\"partial\"!==e.diff.type)return;const t=e.diff.diff;this._preparePatchTransform(e,t),this._preparePatchColor(e,t)}updateGeometry(e,t){if(null==this._resources)return!0;const s=t&&Y(t);if(null==s)return!1;const r=this.getGeometryElevationMode(t);return e.elevationContext.mode===r&&(this._computeGlobalTransform(s,e.elevationContext,_e,be),ue(e.elevationContext)&&(e.alignedSampledElevation=be.sampledElevation),this._resources.lodRenderer.instanceData.setGlobalTransform(e.instanceIndex,_e,!0),$(e,s,this._context.elevationProvider),!0)}_preparePatchTransform(e,t){if(!(t.heading||t.tilt||t.roll||t.width||t.height||t.depth||t.anchor||t.anchorPosition))return;if(null==this._resources)return;const s=(e,t,s)=>(null!=e&&\"complete\"===e.type?e.newValue:t)??s,r=s(t.heading,this.symbolLayer.heading,0),i=s(t.tilt,this.symbolLayer.tilt,0),a=s(t.roll,this.symbolLayer.roll,0),o=s(t.width,this.symbolLayer.width,void 0),n=s(t.height,this.symbolLayer.height,void 0),l=s(t.depth,this.symbolLayer.depth,void 0),c=s(t.anchor,this.symbolLayer.anchor,void 0),h=s(t.anchorPosition,this.symbolLayer.anchorPosition,void 0);delete t.heading,delete t.tilt,delete t.roll,delete t.width,delete t.height,delete t.depth,delete t.anchor,delete t.anchorPosition;const d={heading:r,tilt:i,roll:a,anchor:c,anchorPosition:h},m=this._resources;this.loadStatus===q.LOADED&&e.symbolLayerStatePatches.push((()=>{m.symbolSize=y(T(m.resourceSize,{width:o,height:n,depth:l,isPrimitive:this.symbolLayer.isPrimitive}))})),e.graphics3DGraphicPatches.push((({instanceIndex:e},t)=>{const s=this._computeLocalTransform(m,d,t,fe);m.lodRenderer.instanceData.setLocalTransform(e,s,!0)}))}_preparePatchColor(t,s){if(!s.material||\"partial\"!==s.material.type)return;const r=s.material.diff;if(!r.color||\"complete\"!==r.color.type||null==r.color.newValue||null==r.color.oldValue)return;const i=r.color.newValue,a=null!=i?e.toUnitRGBA(i):R;delete r.color;const o=this._resources;null!=o&&t.graphics3DGraphicPatches.push((({instanceIndex:e})=>{let t;this._hasPerInstanceColor()?(o.lodRenderer.instanceData.setColor(e,a),t=this._setMaterialTransparencyParameters({},i)):t=this._setMaterialTransparencyParameters({externalColor:a},i);for(const s of o.stageResources.materials)s.setParameters(t)}))}_applyObjectRotation(e,t,s){if(!this._fastUpdates?.requiresShaderTransformation||!t)return H(e.heading,e.tilt,e.roll,s)}_applyAnchor(e,t,s){if(this._fastUpdates?.requiresShaderTransformation)return;const r=pe(e.resourceBoundingBox,e.pivotOffset,t);r&&a(s,s,r)}_hasPerInstanceColor(){return this._drivenProperties.color||this._drivenProperties.opacity}_fastVisualVariableConvertOptions(e,t,s,r){const i=null!=e?y(S(e)):g,a=null!=e?pe(e,r,this.symbolLayer):_,o=this._context.renderCoordsHelper.unitInMeters,n=k(null!=t?t:void 0,t,s,o),l=b(this.symbolLayer.tilt||0,this.symbolLayer.roll||0,this.symbolLayer.heading||0);return new se({size:!0,color:!0,rotation:!0,opacity:!1},i,t??g,o,a,n,l)}}function pe(e,t,s){const r=P();switch(s.anchor){case\"center\":d(r,E(e)),h(r,r);break;case\"top\":{const t=E(e);u(r,-t[0],-t[1],-e[5]);break}case\"bottom\":{const t=E(e);u(r,-t[0],-t[1],-e[2]);break}case\"relative\":{const t=E(e),i=S(e),a=s.anchorPosition,o=a?b(a.x,a.y,a.z):_;m(r,i,o),p(r,r,t),h(r,r);break}default:null!=t?h(r,t):d(r,_)}return r}function ue(e){return\"absolute-height\"!==e.mode}const ye=P(),fe=n(),_e=n(),ge=x(),be=new F;export{me as Graphics3DObjectSymbolLayer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{estimateNumberArrayMemory as t}from\"../../../../core/memoryEstimations.js\";import{l as i,n as s,c as o}from\"../../../../chunks/vec32.js\";import{fromValues as e}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{newFloatArray as h}from\"../../../../geometry/support/FloatArray.js\";class n{constructor(t,i,s,o){this.vertices=t,this.positionsES=i,this.offset=o;const n=t.length,r=Math.floor(n/2),g=this.offset+3*r,v=s[g],f=s[g+1],c=s[g+2];this.origin=e(v,f,c),this.positions=h(3*n);const a=this.offset+3*n;for(let e=this.offset;e<a;e+=3)this.positions[e]=s[e]-v,this.positions[e+1]=s[e+1]-f,this.positions[e+2]=s[e+2]-c;this.updatePathVertexInformation()}get usedMemory(){return t(this.positions)}updatePathVertexInformation(){const t=this.vertices.length,e=this.vertices[0];let h=this.offset;const n=this.positions;e.vRight[0]=n[h+3]-n[h],e.vRight[1]=n[h+4]-n[h+1],e.vRight[2]=n[h+5]-n[h+2],h+=3;let r=i(e.vRight);e.vMinSiblingLength=r,s(e.vRight,e.vRight);let g=e;for(let v=1;v<t;++v){const e=this.vertices[v];if(e.vLeft=g.vRight,v<t-1){e.vRight[0]=n[h+3]-n[h],e.vRight[1]=n[h+4]-n[h+1],e.vRight[2]=n[h+5]-n[h+2];const t=i(e.vRight);e.vMinSiblingLength=Math.min(r,t),r=t,s(e.vRight,e.vRight)}else o(e.vRight,e.vLeft),e.vMinSiblingLength=r;g=e,h+=3}}}export{n as Path};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{estimateNumberArrayMemory as t}from\"../../../../core/memoryEstimations.js\";import{newFloatArray as e,floatSubArray as i}from\"../../../../geometry/support/FloatArray.js\";import{newIntArray as s,compactIndices as r}from\"../../../../geometry/support/Indices.js\";class o{constructor(t,r,o,h,p,n={}){this.path=t,this.profile=r,this.extruder=o,this.startCap=h,this.endCap=p,this.options=n,this._extrusionVertexCount=0;const l=this.path.vertices.length-2;this.numExtrusionProfiles=o.numProfilesPerJoin()*l+2,this.numVerticesTotal=r.vertices.length*this.numExtrusionProfiles,this.startCap.vertexBufferStart=this.numVerticesTotal;const a=this.startCap.numVertices;this.numVerticesTotal+=a,this.endCap.vertexBufferStart=this.numVerticesTotal;const u=this.endCap.numVertices;this.numVerticesTotal+=u,this.pathVertexData=s(1*this.numVerticesTotal),this.profileRightAxes=e(4*this.numVerticesTotal),this.profileUpAxes=e(4*this.numVerticesTotal),this.profileVertexAndNormals=e(4*this.numVerticesTotal),this.positions=i(t.positions,t.offset,3*t.vertices.length),this._rebuildGeometry(),this.buildTopology()}get usedMemory(){return t(this.pathVertexData,this.profileRightAxes,this.profileUpAxes,this.profileVertexAndNormals)+this.path.usedMemory+this.profile.usedMemory}emitVertex(t,e,i,s,r){const o=4*this._extrusionVertexCount;if(this.profileRightAxes[o]=e.right[0],this.profileRightAxes[o+1]=e.right[1],this.profileRightAxes[o+2]=e.right[2],this.profileUpAxes[o]=e.up[0],this.profileUpAxes[o+1]=e.up[1],this.profileUpAxes[o+2]=e.up[2],this.profileVertexAndNormals[o]=i[0],this.profileVertexAndNormals[o+1]=i[1],this.profileVertexAndNormals[o+2]=s[0],this.profileVertexAndNormals[o+3]=s[1],this.pathVertexData[this._extrusionVertexCount]=t,r){const e=this.path.vertices[t],i=e.maxStretchDistance;this.profileRightAxes[o+3]=e.rotationRight[0]*i,this.profileUpAxes[o+3]=e.rotationRight[1]*i}else this.profileRightAxes[o+3]=0,this.profileUpAxes[o+3]=0;++this._extrusionVertexCount}emitCapVertex(t,e,i,s,r,o){const h=4*this._extrusionVertexCount;this.profileRightAxes[h]=e.right[0],this.profileRightAxes[h+1]=e.right[1],this.profileRightAxes[h+2]=e.right[2],this.profileRightAxes[h+3]=r,this.profileUpAxes[h]=e.up[0],this.profileUpAxes[h+1]=e.up[1],this.profileUpAxes[h+2]=e.up[2],this.profileUpAxes[h+3]=o,this.profileVertexAndNormals[h]=i[0],this.profileVertexAndNormals[h+1]=i[1],this.profileVertexAndNormals[h+2]=s[0],this.profileVertexAndNormals[h+3]=s[1],this.pathVertexData[this._extrusionVertexCount]=t,++this._extrusionVertexCount}_rebuildGeometry(){this._extrusionVertexCount=0;const{positions:t,offset:e,vertices:s}=this.path;this.positions=i(t,e,3*s.length);let r=0;const o=(t,e,i,s,o)=>this.emitCapVertex(r,t,e,i,s,o),h=(t,e,i,s)=>this.emitVertex(r,t,e,i,s);for(this.startCap.rebuildConnectingProfileGeometry(s[r],this.profile,o),r=1;r<s.length-1;++r)this.extruder.extrude(s[r],this.profile,h);this.endCap.rebuildConnectingProfileGeometry(s[r],this.profile,o),r=0,this.startCap.rebuildCapGeometry(s[r],o),r=s.length-1,this.endCap.rebuildCapGeometry(s[r],o)}buildTopology(){const t=this.profile.vertices.length,e=this.profile.numSegments,i=this.numExtrusionProfiles-1;let s=3*(2*(e*i));this.startCap.indexBufferStart=s,this.startCap.firstProfileVertexIndex=0,s+=this.startCap.numIndices,this.endCap.indexBufferStart=s,this.endCap.firstProfileVertexIndex=t*(this.numExtrusionProfiles-1);const o=new Array,h=new Array,p=new Array,n=(t,e,i)=>{o.push(t),o.push(e),o.push(i),h.push(t),h.push(e),h.push(i),p.push(this.pathVertexData[t]),p.push(this.pathVertexData[e]),p.push(this.pathVertexData[i])};for(let r=0;r<e;++r){const e=this.profile.indices[2*r],s=this.profile.indices[2*r+1];for(let r=0;r<i;++r){const i=r*t+e,o=(r+1)*t+s,h=r*t+s;n(i,(r+1)*t+e,o),n(i,o,h)}}this.startCap.buildTopology(this.path.vertices[0],n),this.endCap.buildTopology(this.path.vertices[this.path.vertices.length-1],n),this.vertexIndices=r(o),this.normalIndices=r(h),this.pathVertexIndices=r(p)}onPathChanged(){this._rebuildGeometry()}}export{o as PathBuilder};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{set as e,subtract as t,scale as s,add as i,normalize as r}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as n}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";class o{rebuildConnectingProfileGeometry(e,t,s){for(let i=0;i<t.vertices.length;++i)s(e.frame,t.vertices[i],t.normals[i],0,0)}}class l extends o{constructor(){super(),this.numVertices=0,this.numIndices=0}rebuildCapGeometry(){}buildTopology(){}}class f extends o{constructor(e,t=0,s=!1){super(),this.profile=e,this.profilePlaneOffset=t,this.flip=s}get numVertices(){return this.profile.vertices.length}get numIndices(){return 3*this.profile.numSegments}rebuildConnectingProfileGeometry(e,t,s){const i=this.profilePlaneOffset;for(let r=0;r<t.vertices.length;++r)s(e.frame,t.vertices[r],t.normals[r],i,0)}rebuildCapGeometry(t,s){const i=this.profile,r=this.flip?1:-1,n=this.profilePlaneOffset,o=m;e(o,0,0);for(let e=0;e<i.vertices.length;++e)s(t.frame,i.vertices[e],o,n,r)}buildTopology(e,t){const s=this.profile,i=this.vertexBufferStart+s.indices[0];for(let r=1;r<s.numSegments;++r){const e=s.indices[2*r],n=s.indices[2*r+1],o=this.vertexBufferStart+e,l=this.vertexBufferStart+n;this.flip?t(l,o,i):t(i,o,l)}}}class h extends o{constructor(e){super(),this.flip=!1,this.sign=0,this.breakNormals=!1,this.numSegments=3,this.profile=e.profile,this.flip=e.flip,this.sign=this.flip?1:-1,this.breakNormals=e.breakNormals,this.numSegments=e.subdivisions}get numVertices(){let e=this.profile.vertices.length*(this.numSegments-1)+this.profile.poles.length;return this.breakNormals&&(e+=this.profile.vertices.length),e}get numIndices(){let e=0;const t=this.profile;e+=2*t.numSegments*(this.numSegments-1);for(let s=0;s<t.numSegments;++s){const i=t.indices[2*s],r=t.indices[2*s+1];t.poleIndices[i]===t.poleIndices[r]?e+=1:e+=2}return 3*e}rebuildCapGeometry(n,o){const l=this.profile,f=n.frame,h=.5*this.sign,p=c,a=m;e(a,0,0);for(const e of l.poles)e.normal?o(f,e.position,e.normal,h,0):o(f,e.position,a,h,this.sign);if(this.breakNormals)for(let e=0;e<l.vertices.length;++e)o(f,l.vertices[e],l.normals[e],0,0);for(let e=0;e<this.numSegments-1;++e){const n=(1-(e+1)/this.numSegments)*Math.PI*.5,c=Math.sin(n),m=Math.cos(n);for(let e=0;e<l.vertices.length;++e){const n=l.poles[l.poleIndices[e]];t(p,l.vertices[e],n.position),s(p,p,c),n.normal?(i(p,p,n.position),o(f,p,n.normal,h*m,0)):(r(a,p),s(a,a,c),i(p,p,n.position),o(f,p,a,h*m,this.sign*m))}}}buildTopology(e,t){const s=this.profile,i=this.breakNormals?this.vertexBufferStart+s.poles.length:this.firstProfileVertexIndex,r=this.breakNormals?this.vertexBufferStart+s.poles.length+s.vertices.length:this.vertexBufferStart+s.poles.length;for(let n=0;n<s.numSegments;++n){const e=s.indices[2*n],o=s.indices[2*n+1],l=this.vertexBufferStart+s.poleIndices[e],f=this.vertexBufferStart+s.poleIndices[o];let h=i+e,c=i+o;for(let i=0;i<this.numSegments-1;++i){const n=r+i*s.vertices.length+e,l=r+i*s.vertices.length+o;this.flip?(t(n,c,h),t(c,n,l)):(t(h,c,n),t(l,n,c)),h=n,c=l}this.flip?(t(l,c,h),l!==f&&t(l,f,c)):(t(h,c,l),l!==f&&t(c,f,l))}}}const c=n(),m=n();export{l as NoCapBuilder,o as PathCapBuilder,h as RoundCapBuilder,f as TriangulationCapBuilder};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{fromRotation as t}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as e}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{dot as r}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as s}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{t as i}from\"../../../../chunks/vec32.js\";import{create as o}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";class n{}class c{numProfilesPerJoin(){return 1}extrude(t,e,r){for(let s=0;s<e.vertices.length;++s)r(t.frame,e.vertices[s],e.normals[s],!1)}}class a{constructor(t,e){this.cutoffAngle=t,this.numBendSubdivisions=e}numProfilesPerJoin(){return this.numBendSubdivisions+1}extrude(e,s,i){const o=h,{rotationAngle:n,rotationRight:c,frame:a}=e;if(Math.abs(n)>=this.cutoffAngle){const l=e.rotationFrameUp;for(let h=0;h<this.numBendSubdivisions+1;++h){t(u,.5*-n+h*n/this.numBendSubdivisions,l),m(o,a,u);for(let t=0;t<s.vertices.length;++t){if(r(s.vertices[t],c)*n>=0)i(o,s.vertices[t],s.normals[t],!1);else{i(a,e.applyMiterStretch(f,s.vertices[t]),s.normals[t],!0)}}}}else for(let t=0;t<this.numBendSubdivisions+1;++t)for(let o=0;o<s.vertices.length;++o){const t=r(s.vertices[o],c)*n>=0;i(a,e.applyMiterStretch(f,s.vertices[o]),s.normals[o],!t)}}}class l{constructor(){this.up=o(),this.right=o()}}function m(t,e,r){i(t.up,e.up,r),i(t.right,e.right,r)}const f=s(),u=e(),h=new l;export{l as Frame2D,a as MiterExtruder,n as PathExtruder,c as SimpleExtruder};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ContentObjectType as t}from\"./ContentObjectType.js\";import{Geometry as r}from\"./Geometry.js\";class e extends r{constructor(r,e,o,n,s,i){super(r,e,null,t.Mesh,i),this.path=o,this.geometrySR=n,this.stencilWidth=s}}var o;function n(t){return\"path\"in t}!function(t){t[t.World=0]=\"World\",t[t.Path=1]=\"Path\"}(o||(o={}));export{e as PathGeometry,o as UpVectorAlignment,n as isPathGeometry};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{set as t,length as e,normalize as r,dot as i,scale as s,add as o}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as a}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{i as n,e as h}from\"../../../../chunks/vec32.js\";import{create as l}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{fromValues as c}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{newFloatArray as u}from\"../../../../geometry/support/FloatArray.js\";import{getZeroIndexArray as b}from\"../../../../geometry/support/Indices.js\";import{Attribute as v,Vertices as m}from\"./Attribute.js\";import{compressNormal as p}from\"./Normals.js\";import{intersectTriangles as x}from\"./RayIntersections.js\";import{VertexAttribute as A}from\"./VertexAttribute.js\";class d{constructor(t){this.builder=t}onPathChanged(t){this.builder.onPathChanged()}}class f extends d{constructor(t){super(t),this.vertexAttributeColor=c(255,255,255,255),this.size=new Array,this.vertexAttributePosition=u(3*this.builder.numVerticesTotal),this.vertexAttributeNormal=new Int16Array(2*this.builder.numVerticesTotal)}bakeVertexColors(t){this.vertexAttributeColor[0]=255*t[0],this.vertexAttributeColor[1]=255*t[1],this.vertexAttributeColor[2]=255*t[2],this.vertexAttributeColor[3]=255*(t.length>3?t[3]:1)}bake(a){this.size=a;const{numVerticesTotal:l,pathVertexData:c,path:u,positions:b,profileRightAxes:v,profileUpAxes:m,profileVertexAndNormals:x}=this.builder;for(let A=0;A<l;++A){let l=c[A];const d=0===l||l===u.vertices.length-1;l*=3;const f=V;let g=0,D=0;const N=4*A,j=n(R,v[N],v[N+1],v[N+2]),E=n(w,m[N],m[N+1],m[N+2]),y=t(P,x[N]*a[0],x[N+1]*a[1]);if(d)h(f,E,j),g=v[N+3]*a[0],D=m[N+3];else{const a=I,h=C;t(a,v[N+3],m[N+3]);const l=e(a);r(a,a);const c=i(y,a);if(Math.abs(c)>l){t(h,-a[1],a[0]);const e=i(y,h);s(a,a,l*Math.sign(c)),s(h,h,e),o(y,a,h)}n(f,0,0,0)}const T=n(O,j[0]*y[0]+E[0]*y[1],j[1]*y[0]+E[1]*y[1],j[2]*y[0]+E[2]*y[1]),L=3*A;this.vertexAttributePosition[L]=b[l]+T[0]+f[0]*g,this.vertexAttributePosition[L+1]=b[l+1]+T[1]+f[1]*g,this.vertexAttributePosition[L+2]=b[l+2]+T[2]+f[2]*g;const M=t(P,x[N+2],x[N+3]);p(this.vertexAttributeNormal,A,j[0]*M[0]+E[0]*M[1]+f[0]*D,j[1]*M[0]+E[1]*M[1]+f[1]*D,j[2]*M[0]+E[2]*M[1]+f[2]*D)}}createGeometryData(){const t=this.builder.vertexIndices.length,{normalIndices:e,vertexIndices:r}=this.builder;return[[A.POSITION,new v(this.vertexAttributePosition,r,3,!0)],[A.NORMALCOMPRESSED,new v(this.vertexAttributeNormal,e,2,!0)],[A.COLOR,new v(this.vertexAttributeColor,b(t),4)]]}onPathChanged(t){super.onPathChanged(t),this.bake(this.size)}intersect(t,e,r,i){const s=this.builder.vertexIndices,o=new m(this.vertexAttributePosition,3),a=s.length/3;x(t,e,0,a,s,o,void 0,r,((t,e,r)=>i(t,r,e,!1)))}}class g extends d{constructor(t,e,r,i){super(t),this.sizeAttributeValue=e,this.colorAttributeValue=r,this.opacityAttributeValue=i,this.vvData=null,this.baked=new f(t),this.vvData=u(4*this.builder.path.vertices.length);for(let s=0;s<this.builder.path.vertices.length;++s){this.vvData[4*s]=e,this.vvData[4*s+1]=r,this.vvData[4*s+2]=i;const t=0===s||s===this.builder.path.vertices.length-1;this.vvData[4*s+3]=t?1:0}}createGeometryData(){const{positions:t,profileRightAxes:e,profileUpAxes:r,profileVertexAndNormals:i,pathVertexIndices:s,vertexIndices:o}=this.builder;return[[A.POSITION,new v(t,s,3,!0)],[A.PROFILERIGHT,new v(e,o,4,!0)],[A.PROFILEUP,new v(r,o,4,!0)],[A.PROFILEVERTEXANDNORMAL,new v(i,o,4,!0)],[A.FEATUREVALUE,new v(this.vvData,s,4,!0)]]}onPathChanged(t){super.onPathChanged(t);const e=t.getMutableAttribute(A.POSITION);e&&(e.data=this.builder.positions)}}const P=a(),I=a(),C=a(),O=l(),V=l(),R=l(),w=l();export{g as FastUpdatePathGeometry,d as PathGeometryData,f as StaticPathGeometry};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{c as t,i as e,g as r,l as s,n as o,e as i}from\"../../../../chunks/vec32.js\";import{create as m}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{create as a,fromPositionAndNormal as f,intersectRay as p}from\"../../../../geometry/support/plane.js\";import{wrap as c}from\"../../../../geometry/support/ray.js\";import{makeOrthoBasisDirUpFallback as g}from\"./GeometryUtil.js\";function l(l,v){let h=null;const u=l.vertices.length,j=.99619469809,R=m(),y=m(),x=m(),L=m(),b=m(),k=m(),q=a();let G=l.vertices[0];t(y,v),e(R,0,1,0),g(G.vRight,y,R,R,x,y,j),t(G.frame.up,y),t(G.frame.right,x);const M=l.positions;let U=l.offset;h=G;for(let m=1;m<u;++m){G=l.vertices[m],r(b,G.vLeft,G.vRight);let a=s(b);a>0?(a=1/Math.sqrt(a),b[0]=b[0]*a,b[1]=b[1]*a,b[2]=b[2]*a):(b[0]=G.vRight[0],b[1]=G.vRight[1],b[2]=G.vRight[2]),k[0]=M[U]+h.frame.up[0],k[1]=M[U+1]+h.frame.up[1],k[2]=M[U+2]+h.frame.up[2],U+=3;const v=e(n,M[U],M[U+1],M[U+2]);f(v,b,q);p(q,c(k,G.vLeft),L)?(L[0]-=M[U],L[1]-=M[U+1],L[2]-=M[U+2],o(y,L),i(x,b,y),o(x,x)):g(b,h.frame.up,h.frame.right,R,x,y,j),t(G.frame.up,y),t(G.frame.right,x),h=G}}const n=m();export{l as computeMinimumRotationTangentFrame};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{estimateNumberArrayMemory as t}from\"../../../../core/memoryEstimations.js\";import{fromValues as e,clone as s}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{pathNumCircleProfileSubdivisions as o}from\"../../layers/graphics/Graphics3DPathSymbolLayerConstants.js\";class r{constructor(){this.vertices=new Array,this.normals=new Array,this.indices=new Array,this.poles=new Array,this.poleIndices=new Array}addVertex(t,e){return this.vertices.push(s(t)),this.normals.push(s(e)),this.vertices.length-1}addPole(t,e=null){return this.poles.push({position:s(t),normal:e?s(e):null}),this.poles.length-1}addSegment(t,e=null){this.indices.push(t.v0),this.indices.push(t.v1),e&&(this.poleIndices.push(e.v0),this.poleIndices.push(e.v1))}get numSegments(){return this.indices.length/2}translate(t,e){for(const s of this.vertices)s[0]+=t,s[1]+=e;for(const s of this.poles)s.position[0]+=t,s.position[1]+=e}get usedMemory(){return this.vertices.length*t(this.vertices[0])*2+t(this.indices)}}const n={top:[0,-.5],bottom:[0,.5]};function i(t){const s=.5,i=o,d=new r,a={v0:0,v1:0};d.addPole(e(0,0));for(let o=0;o<i;++o){const t=2*o*Math.PI/i,r=Math.cos(t),n=Math.sin(t),a=e(r*s,n*s),c=e(r,n);d.addVertex(a,c)}for(let e=0;e<i-1;++e){const t={v0:e,v1:e+1};d.addSegment(t,a)}const c={v0:i-1,v1:0};if(d.addSegment(c,a),\"center\"!==t){const e=n[t];d.translate(e[0],e[1])}return d}const d={center:i(\"center\"),top:i(\"top\"),bottom:i(\"bottom\")},a={center:c(\"center\"),top:c(\"top\"),bottom:c(\"bottom\")};function c(t){const s=1,o=1,i=new r,d=e(-.5,-.5),a=e(.5*s,-.5),c=e(.5*s,.5*o),h=e(-.5,.5*o),l=e(0,-1),v=e(1,0),m=e(0,1),p=e(-1,0);if(i.addPole(e(0,.5*o),m),i.addPole(e(0,.5*o)),i.addPole(e(0,-.5)),i.addPole(e(0,-.5),l),i.addVertex(d,l),i.addVertex(a,l),i.addSegment({v0:0,v1:1},{v0:3,v1:3}),i.addVertex(a,v),i.addVertex(c,v),i.addSegment({v0:2,v1:3},{v0:2,v1:1}),i.addVertex(c,m),i.addVertex(h,m),i.addSegment({v0:4,v1:5},{v0:0,v1:0}),i.addVertex(h,p),i.addVertex(d,p),i.addSegment({v0:6,v1:7},{v0:1,v1:2}),\"center\"!==t){const e=n[t];i.translate(e[0],e[1])}return i}export{r as PathProfile,d as circleProfiles,a as quadProfiles};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{getEpsilon as t}from\"./common.js\";function n(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t}function r(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function a(t,n,r,a,u){return t[0]=n,t[1]=r,t[2]=a,t[3]=u,t}function u(t,n){if(t===n){const r=n[1];t[1]=n[2],t[2]=r}else t[0]=n[0],t[1]=n[2],t[2]=n[1],t[3]=n[3];return t}function o(t,n){const r=n[0],a=n[1],u=n[2],o=n[3];let e=r*o-u*a;return e?(e=1/e,t[0]=o*e,t[1]=-a*e,t[2]=-u*e,t[3]=r*e,t):null}function e(t,n){const r=n[0];return t[0]=n[3],t[1]=-n[1],t[2]=-n[2],t[3]=r,t}function c(t){return t[0]*t[3]-t[2]*t[1]}function s(t,n,r){const a=n[0],u=n[1],o=n[2],e=n[3],c=r[0],s=r[1],i=r[2],f=r[3];return t[0]=a*c+o*s,t[1]=u*c+e*s,t[2]=a*i+o*f,t[3]=u*i+e*f,t}function i(t,n,r){const a=n[0],u=n[1],o=n[2],e=n[3],c=Math.sin(r),s=Math.cos(r);return t[0]=a*s+o*c,t[1]=u*s+e*c,t[2]=a*-c+o*s,t[3]=u*-c+e*s,t}function f(t,n,r){const a=n[0],u=n[1],o=n[2],e=n[3],c=r[0],s=r[1];return t[0]=a*c,t[1]=u*c,t[2]=o*s,t[3]=e*s,t}function l(t,n){const r=Math.sin(n),a=Math.cos(n);return t[0]=a,t[1]=r,t[2]=-r,t[3]=a,t}function M(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=n[1],t}function h(t){return\"mat2(\"+t[0]+\", \"+t[1]+\", \"+t[2]+\", \"+t[3]+\")\"}function b(t){return Math.sqrt(t[0]**2+t[1]**2+t[2]**2+t[3]**2)}function m(t,n,r,a){return t[2]=a[2]/a[0],r[0]=a[0],r[1]=a[1],r[3]=a[3]-t[2]*r[1],[t,n,r]}function d(t,n,r){return t[0]=n[0]+r[0],t[1]=n[1]+r[1],t[2]=n[2]+r[2],t[3]=n[3]+r[3],t}function p(t,n,r){return t[0]=n[0]-r[0],t[1]=n[1]-r[1],t[2]=n[2]-r[2],t[3]=n[3]-r[3],t}function y(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]}function x(n,r){const a=n[0],u=n[1],o=n[2],e=n[3],c=r[0],s=r[1],i=r[2],f=r[3],l=t();return Math.abs(a-c)<=l*Math.max(1,Math.abs(a),Math.abs(c))&&Math.abs(u-s)<=l*Math.max(1,Math.abs(u),Math.abs(s))&&Math.abs(o-i)<=l*Math.max(1,Math.abs(o),Math.abs(i))&&Math.abs(e-f)<=l*Math.max(1,Math.abs(e),Math.abs(f))}function S(t,n,r){return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=n[3]*r,t}function j(t,n,r,a){return t[0]=n[0]+r[0]*a,t[1]=n[1]+r[1]*a,t[2]=n[2]+r[2]*a,t[3]=n[3]+r[3]*a,t}const _=s,g=p,q=Object.freeze(Object.defineProperty({__proto__:null,LDU:m,add:d,adjoint:e,copy:n,determinant:c,equals:x,exactEquals:y,frob:b,fromRotation:l,fromScaling:M,identity:r,invert:o,mul:_,multiply:s,multiplyScalar:S,multiplyScalarAndAdd:j,rotate:i,scale:f,set:a,str:h,sub:g,subtract:p,transpose:u},Symbol.toStringTag,{value:\"Module\"}));export{m as LDU,d as add,e as adjoint,n as copy,c as determinant,x as equals,y as exactEquals,b as frob,l as fromRotation,M as fromScaling,r as identity,o as invert,q as m,_ as mul,s as multiply,S as multiplyScalar,j as multiplyScalarAndAdd,i as rotate,f as scale,a as set,h as str,g as sub,p as subtract,u as transpose};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nfunction e(){return[1,0,0,1]}function r(e){return[e[0],e[1],e[2],e[3]]}function t(e,r,t,n){return[e,r,t,n]}function n(e,r){return new Float64Array(e,r,4)}const o=Object.freeze(Object.defineProperty({__proto__:null,clone:r,create:e,createView:n,fromValues:t},Symbol.toStringTag,{value:\"Module\"}));export{r as clone,e as create,n as createView,t as fromValues,o as m};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{acosClamped as t,reciprocalClamped as i}from\"../../../../core/mathUtils.js\";import{set as r}from\"../../../../core/libs/gl-matrix-2/math/mat2.js\";import{create as s}from\"../../../../core/libs/gl-matrix-2/factories/mat2f64.js\";import{set as e,transformMat2 as a}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{UNIT_X as h,create as o}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{c as n,g as m,n as g,h as f,f as c,d as u,e as l,v as p}from\"../../../../chunks/vec32.js\";import{create as v}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{Frame2D as M}from\"./PathExtruder.js\";import{UpVectorAlignment as b}from\"./PathGeometry.js\";class R{constructor(){this.vLeft=v(),this.vRight=v(),this.vMinSiblingLength=0,this.frame=new M}setFrameFromUpVector(t){n(this.frame.up,t),m(D,this.vLeft,this.vRight),g(D,D),f(I,this.frame.up,c(D,this.frame.up)),u(k,D,I),g(k,k),l(this.frame.right,k,this.frame.up)}get foldingAngle(){return Math.PI-this.rotationAngle}}class x extends R{get rotationFrameUp(){return this.frame.up}get rotationRight(){return h}get rotationAngle(){f(w,this.frame.up,c(this.frame.up,this.vLeft)),u(w,this.vLeft,w),p(w,w),g(w,w),f(y,this.frame.up,c(this.frame.up,this.vRight)),u(y,this.vRight,y),g(y,y),l(U,this.rotationFrameUp,this.vLeft);return Math.sign(c(U,this.vRight))*(Math.PI-t(c(w,y)))}get maxStretchDistance(){return Math.abs(this.vMinSiblingLength/Math.cos(.5*this.foldingAngle))}applyMiterStretch(t,r){const s=this.rotationAngle;if(Math.abs(s)<=0)return r;const a=i(Math.cos(.5*s));return e(t,(a-1+1)*r[0],r[1])}}class L extends R{get rotationFrameUp(){const t=Math.sign(c(this.frame.right,this.vRight));return l(A,this.vRight,this.vLeft),f(A,A,t),g(A,A)}get rotationRight(){const t=this.rotationFrameUp,i=c(t,this.frame.up),r=c(t,this.frame.right);return f(F,this.frame.up,-r),f(P,this.frame.right,i),m(F,F,P),g(F,F),j(S,this.frame,F),S}get rotationAngle(){const i=Math.sign(c(this.frame.right,this.vRight));return p(U,this.vLeft),-i*(Math.PI-t(c(U,this.vRight)))}get maxStretchDistance(){return Math.abs(this.vMinSiblingLength*i(Math.cos(.5*this.foldingAngle)))}applyMiterStretch(t,s){const e=this.rotationAngle;if(0===Math.abs(e))return s;const h=i(Math.cos(.5*e)),o=this.rotationRight,n=r(E,1+(h-1)*o[0]*o[0],(h-1)*o[0]*o[1],(h-1)*o[0]*o[1],1+(h-1)*o[1]*o[1]);return a(t,s,n)}}function j(t,i,r){e(t,c(r,i.right),c(r,i.up))}function d(t){switch(t){case b.World:return new x;case b.Path:return new L}}const A=v(),S=o(),F=v(),P=v(),U=v(),w=v(),y=v(),I=v(),D=v(),k=v(),E=s();export{R as PathVertex,d as newPathVertex};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{freeze as e,create as r,ZEROS as t}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{isColorOrColorEmission as s,ShaderOutput as i}from\"../core/shaderLibrary/ShaderOutput.js\";import{PathVertexPositionPassParameters as l}from\"../core/shaderLibrary/attributes/PathVertexPosition.glsl.js\";import{NormalsDoubleSidedMode as o}from\"../core/shaderLibrary/shading/Normals.glsl.js\";import{ReloadableShaderModule as n}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as a}from\"../core/shaderTechnique/ShaderTechnique.js\";import{OITPass as u}from\"../lib/OITPass.js\";import{blending as m,oitDepthTest as c,getDrawBuffers as h,OITPolygonOffset as p}from\"../lib/OrderIndependentTransparency.js\";import{stencilWriteMaskOn as d,stencilBaseAllZerosParams as f}from\"../lib/StencilUtils.js\";import{VertexAttribute as b}from\"../lib/VertexAttribute.js\";import{advancedMRRFactors as O}from\"./pbrUtils.js\";import{P as j}from\"../../../../chunks/Path.glsl.js\";import{SpecialDrawBuffers as P}from\"../../../webgl/enums.js\";import{makePipelineState as g,frontFaceCullingParams as E,defaultDepthWrite as T,defaultColorWrite as x}from\"../../../webgl/renderState.js\";class N extends l{constructor(){super(...arguments),this.ambient=e(.2,.2,.2),this.diffuse=e(.8,.8,.8),this.specular=e(0,0,0),this.opacity=1,this.origin=r(),this.modelTransformation=null,this.mrrFactors=O,this.emissiveFactor=t,this.texture=null,this.textureNormal=null,this.textureEmissive=null,this.textureOcclusion=null,this.textureMetallicRoughness=null}}class R extends a{constructor(e,r){super(e,r,new n(j,(()=>import(\"../shaders/Path.glsl.js\"))),L)}initializePipeline(e){const{output:r,transparent:t,hasSlicePlane:l,doubleSidedMode:n,hasOccludees:a,oitPass:b}=e,O=b===u.NONE,j=b===u.FrontFace;return g({blending:s(r)&&t?m(b):null,culling:l&&!t&&n!==o.None?E:null,depthTest:{func:c(b)},depthWrite:O||j?T:null,drawBuffers:r===i.Depth?{buffers:[P.NONE]}:h(b,r),colorWrite:x,stencilWrite:a?d:null,stencilTest:a?f:null,polygonOffset:O||j?null:p})}}const L=new Map([[b.POSITION,0],[b.PROFILERIGHT,1],[b.PROFILEUP,2],[b.PROFILEVERTEXANDNORMAL,3],[b.FEATUREVALUE,4],[b.OBJECTANDLAYERIDCOLOR,5]]);export{N as PathPassParameters,R as PathTechnique,L as vertexAttributeLocations};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{TextureCoordinateType as t}from\"../core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js\";import{EmissionSource as o}from\"../core/shaderLibrary/output/Emissions.glsl.js\";import{NormalsDoubleSidedMode as i}from\"../core/shaderLibrary/shading/Normals.glsl.js\";import{PBRMode as r}from\"../core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js\";import{parameter as s}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{DefaultTechniqueConfiguration as a}from\"./DefaultTechniqueConfiguration.js\";class n extends a{constructor(e,s){super(),this.spherical=e,this.doublePrecisionRequiresObfuscation=s,this.pbrMode=r.Disabled,this.doubleSidedMode=i.None,this.emissionSource=o.None,this.receiveShadows=!1,this.receiveAmbientOcclusion=!1,this.vvSize=!1,this.vvColor=!1,this.vvOpacity=!1,this.transparent=!1,this.hasOccludees=!1,this.terrainDepthTest=!1,this.cullAboveTerrain=!1,this.textureCoordinateType=t.None,this.occlusionPass=!1,this.hasVvInstancing=!0,this.useCustomDTRExponentForWater=!1,this.useFillLights=!1,this.hasColorTexture=!1,this.objectAndLayerIdColorInstanced=!1,this.hasMetallicRoughnessTexture=!1,this.hasOcclusionTexture=!1,this.hasNormalTexture=!1}get discardInvisibleFragments(){return this.transparent}}e([s({count:r.COUNT})],n.prototype,\"pbrMode\",void 0),e([s({count:i.COUNT})],n.prototype,\"doubleSidedMode\",void 0),e([s({count:o.COUNT})],n.prototype,\"emissionSource\",void 0),e([s()],n.prototype,\"receiveShadows\",void 0),e([s()],n.prototype,\"receiveAmbientOcclusion\",void 0),e([s()],n.prototype,\"vvSize\",void 0),e([s()],n.prototype,\"vvColor\",void 0),e([s()],n.prototype,\"vvOpacity\",void 0),e([s()],n.prototype,\"transparent\",void 0),e([s()],n.prototype,\"hasOccludees\",void 0),e([s()],n.prototype,\"terrainDepthTest\",void 0),e([s()],n.prototype,\"cullAboveTerrain\",void 0);export{n as PathTechniqueConfiguration};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{clamp as e}from\"../../../../core/mathUtils.js\";import{p as t}from\"../../../../chunks/vec32.js\";import{ZEROS as i}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{fromValues as r}from\"../../../../geometry/support/aaBoundingBox.js\";import{newLayout as s}from\"../../support/buffer/InterleavedLayout.js\";import{isShadowRelatedOutput as a,is3DGeometryOutputMRT as o,isColorOrColorEmission as n,ShaderOutput as c}from\"../core/shaderLibrary/ShaderOutput.js\";import{EmissionSource as h}from\"../core/shaderLibrary/output/Emissions.glsl.js\";import{NormalsDoubleSidedMode as u}from\"../core/shaderLibrary/shading/Normals.glsl.js\";import{PBRMode as m}from\"../core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js\";import{olidEnabled as p}from\"../effects/geometry/olidUtils.js\";import f from\"../lib/GLMaterial.js\";import{Material as l}from\"../lib/Material.js\";import{isPathGeometry as d}from\"../lib/PathGeometry.js\";import{MeshIntersectionOptions as b,intersectAabbInvDir as g}from\"../lib/RayIntersections.js\";import{RenderSlot as v}from\"../lib/RenderSlot.js\";import{VertexAttribute as S}from\"../lib/VertexAttribute.js\";import{DefaultBufferWriter as _}from\"./DefaultBufferWriter.js\";import{vertexAttributeLocations as A,PathTechnique as P,PathPassParameters as R}from\"./PathTechnique.js\";import{PathTechniqueConfiguration as j}from\"./PathTechniqueConfiguration.js\";import{alphaCutoff as O}from\"../../../../webscene/support/AlphaCutoff.js\";class y extends l{constructor(e,t){super(e,E),this._vertexBufferLayout=L(),this.vertexAttributeLocations=A,this.supportsEdges=!0,this.produces=new Map([[v.OPAQUE_MATERIAL,e=>(this.parameters.castShadows&&a(e)||o(e))&&!this.parameters.transparent],[v.TRANSPARENT_MATERIAL,e=>(this.parameters.castShadows&&a(e)||o(e))&&this.parameters.transparent]]),this._configuration=new j(t.spherical,t.doublePrecisionRequiresObfuscation)}get hasEmissions(){return!t(this.parameters.emissiveFactor,i)}getConfiguration(e,t){return this._configuration.output=e,this._configuration.vvSize=!!this.parameters.vvSize,this._configuration.vvColor=!!this.parameters.vvColor,this._configuration.vvOpacity=!!this.parameters.vvOpacity,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.transparent=this.parameters.transparent,this._configuration.hasOccludees=t.hasOccludees,n(e)?(this._configuration.doubleSidedMode=this.parameters.doubleSided&&\"normal\"===this.parameters.doubleSidedType?u.View:this.parameters.doubleSided&&\"winding-order\"===this.parameters.doubleSidedType?u.WindingOrder:u.None,this._configuration.receiveShadows=t.shadowMap.enabled,this._configuration.receiveAmbientOcclusion=null!=t.ssao):this._configuration.receiveShadows=this._configuration.receiveAmbientOcclusion=!1,this._configuration.pbrMode=this.parameters.usePBR?m.Schematic:m.Disabled,this._configuration.emissionSource=this.parameters.usePBR?h.Value:h.None,this._configuration.oitPass=t.oitPass,this._configuration.terrainDepthTest=t.terrainDepthTest,this._configuration.cullAboveTerrain=t.cullAboveTerrain,this._configuration}isVisibleForOutput(e){return e!==c.Shadow&&e!==c.ShadowExcludeHighlight&&e!==c.ShadowHighlight||this.parameters.castShadows}get visible(){return this.parameters.opacity>=O}intersect(t,i,s,a,o,n){const c=t;if(!d(c))return;const h=c.path,u=[this.parameters.size[0],this.parameters.size[1]];if(this.parameters.vvSize){const{offset:t,factor:i,minSize:r,maxSize:s}=this.parameters.vvSize,a=h.sizeAttributeValue;u[0]*=e(t[0]+a*i[0],r[0],s[0]),u[1]*=e(t[2]+a*i[2],r[2],s[2])}const m=new b(!1,s.options.normalRequired),p=Math.max(u[0],u[1]),f=t.boundingInfo;if(null==f)return void w(h,u,a,o,m,n);const l=r(f.bbMin[0]-p,f.bbMin[1]-p,f.bbMin[2]-p,f.bbMax[0]+p,f.bbMax[1]+p,f.bbMax[2]+p),v=[o[0]-a[0],o[1]-a[1],o[2]-a[2]],S=Math.sqrt(v[0]*v[0]+v[1]*v[1]+v[2]*v[2]),_=[S/v[0],S/v[1],S/v[2]];g(l,a,_,s.tolerance)&&w(h,u,a,o,m,n)}createBufferWriter(){return new _(this._vertexBufferLayout)}createGLMaterial(e){return new T(e)}}function L(){const e=s().vec3f(S.POSITION).vec4f(S.PROFILERIGHT).vec4f(S.PROFILEUP).vec4f(S.PROFILEVERTEXANDNORMAL).vec4f(S.FEATUREVALUE);return p()&&e.vec4u8(S.OBJECTANDLAYERIDCOLOR),e}class T extends f{beginSlot(e){return this.getTechnique(P,e)}}function w(e,t,i,r,s,a){e.baked.size&&e.baked.size[0]===t[0]&&e.baked.size[1]===t[1]||e.baked.bake(t),e.baked.intersect(i,r,s,a)}class E extends R{constructor(){super(...arguments),this.doubleSided=!1,this.doubleSidedType=\"normal\",this.castShadows=!0,this.hasSlicePlane=!1,this.transparent=!1,this.usePBR=!1}}export{E as Parameters,y as PathMaterial};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import e from\"../../../../core/Error.js\";import{translate as t}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{IDENTITY as i,create as r}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{set as s,scale as a}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{fromValues as o,fromArray as n}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{F as l,i as h}from\"../../../../chunks/vec32.js\";import{clone as c,ZEROS as m,fromArray as p,create as d}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{projectBuffer as f}from\"../../../../geometry/projection/projectBuffer.js\";import{create as u,fromSubBuffer as y,intersectsClippingArea as b}from\"../../../../geometry/support/aaBoundingBox.js\";import{newDoubleArray as g,doubleArrayFrom as _}from\"../../../../geometry/support/DoubleArray.js\";import{needsElevationUpdates3D as v,evaluateElevationAlignmentAtPoint as x,SampleElevationInfo as w}from\"./elevationAlignmentUtils.js\";import{Graphics3DObject3DGraphicLayer as P}from\"./Graphics3DObject3DGraphicLayer.js\";import{pathNumRoundJoinSubdivisions as j,pathNumRoundCapExtrusionSubdivisions as S}from\"./Graphics3DPathSymbolLayerConstants.js\";import{Graphics3DSymbolLayer as D}from\"./Graphics3DSymbolLayer.js\";import{isValidSize as C}from\"./graphicUtils.js\";import{ApplyRendererDiffResult as L}from\"./interfaces.js\";import{ConvertOptions as V,initFastSymbolUpdatesState as U,updateFastSymbolUpdatesState as A,getAttributeValue as E}from\"../support/FastSymbolUpdates.js\";import{SamplePosition as R}from\"../../support/ElevationProvider.js\";import{NormalType as z}from\"../../webgl-engine/core/shaderLibrary/attributes/NormalAttribute.glsl.js\";import{CullFaceOptions as k}from\"../../webgl-engine/lib/basicInterfaces.js\";import{Object3D as I}from\"../../webgl-engine/lib/Object3D.js\";import{Path as G}from\"../../webgl-engine/lib/Path.js\";import{PathBuilder as B}from\"../../webgl-engine/lib/PathBuilder.js\";import{RoundCapBuilder as M,TriangulationCapBuilder as O,NoCapBuilder as F}from\"../../webgl-engine/lib/PathCapBuilder.js\";import{SimpleExtruder as q,MiterExtruder as H}from\"../../webgl-engine/lib/PathExtruder.js\";import{UpVectorAlignment as N,PathGeometry as T,isPathGeometry as W}from\"../../webgl-engine/lib/PathGeometry.js\";import{FastUpdatePathGeometry as Z,StaticPathGeometry as J}from\"../../webgl-engine/lib/PathGeometryData.js\";import{computeMinimumRotationTangentFrame as K}from\"../../webgl-engine/lib/pathGeometryUtils.js\";import{quadProfiles as Q,circleProfiles as X}from\"../../webgl-engine/lib/PathProfile.js\";import{newPathVertex as Y}from\"../../webgl-engine/lib/PathVertex.js\";import{VertexAttribute as $}from\"../../webgl-engine/lib/VertexAttribute.js\";import{DefaultMaterial as ee}from\"../../webgl-engine/materials/DefaultMaterial.js\";import{PathMaterial as te}from\"../../webgl-engine/materials/PathMaterial.js\";const ie=[\"polyline\"];class re extends D{get usedMemory(){return this._usedMemory+super.usedMemory}constructor(e,t,i,r){super(e,t,i,r),this._intrinsicSize=o(1,1),this._upVectorAlignment=N.Path,this._stencilWidth=.1,this._usedMemory=0,this.ensureDrapedStatus(!1)}async doLoad(){const t=null!=this.symbolLayer.width?this.symbolLayer.width:this.symbolLayer.height,i=null!=this.symbolLayer.height?this.symbolLayer.height:t;this._vvConvertOptions=new V({size:!0,color:!0,rotation:!1,opacity:!0},[1,1,1],[t,1,i],this._context.renderCoordsHelper.unitInMeters);const r=this._context.renderer?.visualVariables;this._fastUpdates=r?.length?U(this._context.renderer,this._vvConvertOptions):null;const o=this.symbolLayer.anchor||\"center\";this._upVectorAlignment=\"heading\"===this.symbolLayer.profileRotation?N.World:N.Path;const h=this.symbolLayer.profile||\"circle\";switch(h){default:case\"circle\":this._profile=X[o];break;case\"quad\":this._profile=Q[o]}switch(this.symbolLayer.join){case\"round\":this._extruder=new H(0,j);break;case\"bevel\":this._extruder=new H(0,1);break;case\"miter\":this._extruder=new H(.8*Math.PI,1);break;default:this._extruder=new q}const d=this.symbolLayer.cap||\"butt\";switch(d){case\"none\":this._startCap=new F,this._endCap=new F;break;case\"butt\":default:this._startCap=new O(this._profile,0),this._endCap=new O(this._profile,0,!0);break;case\"square\":this._startCap=new O(this._profile,-.5),this._endCap=new O(this._profile,.5,!0);break;case\"round\":{const e=\"quad\"===h;this._startCap=new M({profile:this._profile,flip:!1,breakNormals:e,subdivisions:S}),this._endCap=new M({profile:this._profile,flip:!0,breakNormals:e,subdivisions:S});break}}const f=this.symbolLayer?.material?.emissiveFactor,u=f?l(c(f)):m,y=this.symbolLayer?.material?.color,b=this._getCombinedOpacityAndColor(y),g=p(b),_=b[3],v=_<1||this.needsDrivenTransparentPass,x={diffuse:g,ambient:g,emissiveFactor:u,opacity:_,transparent:v,hasVertexColors:!1,hasSlicePlane:this._context.slicePlaneEnabled,castShadows:this.symbolLayer.castShadows,cullFace:v||\"none\"===d?k.None:k.Back,offsetTransparentBackfaces:!0};if(!this._drivenProperties.size&&(s(this._intrinsicSize,t,i),!C(this._intrinsicSize[0])||!C(this._intrinsicSize[1])))throw new e(\"graphics3dpathsymbollayer:invalid-size\",\"Symbol sizes may not be negative values\");if(this._fastUpdates?.visualVariables.size||a(this._intrinsicSize,this._intrinsicSize,1/this._context.renderCoordsHelper.unitInMeters),this._fastUpdates){const e={...x,...this._fastUpdates.materialParameters,size:n(this._intrinsicSize)};this._materials[0]=new te(e,this._context)}else x.hasVertexColors=this._drivenProperties.color||this._drivenProperties.opacity,x.normalType=z.Compressed,this._materials[0]=new ee(x,this._context);this._materials[0].setParameters({usePBR:this._context.physicalBasedRenderingEnabled,isSchematic:!0}),this._context.stage.add(this._materials[0])}destroy(){super.destroy(),this._context.stage.remove(this._materials[0]),this._materials.length=0}createGraphics3DGraphic(e){const t=e.graphic;if(!this._validateGeometry(t.geometry,ie,this.symbolLayer.type))return null;const i=this.setGraphicElevationContext(t),r=e.renderingInfo;return this._createAs3DShape(t,r,i,t.uid)}layerOpacityChanged(){const e=this.symbolLayer?.material?.color,t=this._getCombinedOpacity(e),i=t<1||this.needsDrivenTransparentPass;this._materials[0]?.setParameters({opacity:t,transparent:i})}layerElevationInfoChanged(e,t){return this.updateGraphics3DGraphicElevationInfo(e,t,v)}slicePlaneEnabledChanged(){return this._materials[0]?.setParameters({hasSlicePlane:this._context.slicePlaneEnabled}),!0}physicalBasedRenderingChanged(){return this._materials[0]?.setParameters({usePBR:this._context.physicalBasedRenderingEnabled,isSchematic:!0}),!0}applyRendererDiff(e,t){for(const i in e.diff){if(\"visualVariables\"!==i)return L.RecreateSymbol;if(!A(this._fastUpdates,t,this._vvConvertOptions))return L.RecreateSymbol;this._materials[0]?.setParameters(this._fastUpdates.materialParameters)}return L.FastUpdate}_getVertexData(e){let t=0;const i=e.paths,r=[],s=e.spatialReference,a=this._context.elevationProvider.spatialReference,o=this._context.renderCoordsHelper.spatialReference;for(const c of i)t+=c.length;const n=g(3*t);let l,h=0;for(const c of i){r.push({offset:h,numVertices:c.length});for(const t of c)n[h++]=t[0],n[h++]=t[1],n[h++]=e.hasZ?t[2]:0}return null==a||s.equals(a)||f(n,s,0,n,a,0,t)?(null==a||a.equals(o)?l=_(n):(l=g(3*t),f(n,a,0,l,o,0,t)),{pathVertexDataInfos:r,vertexDataES:n,vertexDataRS:l}):null}_createAs3DShape(e,s,a,o){this._usedMemory=0;const n=e.geometry,l=this._getVertexData(n);if(null==l)return this.logger.warn(\"PathSymbol3DLayer geometry failed to be created (failed to project geometry to view spatial reference)\"),null;if(0===l.pathVertexDataInfos.length)return 0!==n.paths.length&&n.paths.some((e=>e.length>0))||this.logger.warn(\"PathSymbol3DLayer geometry failed to be created (no paths were defined)\"),null;const c=new Array,m=n.spatialReference,p=u(),d=this._context.renderCoordsHelper,f=new R(l.vertexDataES);for(const u of l.pathVertexDataInfos){const n=u.numVertices;if(n<2)continue;const g=u.offset;if(null!=this._context.clippingExtent&&(y(l.vertexDataES,g,n,p),!b(p,this._context.clippingExtent)))continue;const _=new Array,v=g+3*n;for(let e=g;e<v;e+=3){f.offset=e;const t=x(f,this._context.elevationProvider,a,d);h(le,l.vertexDataRS[e],l.vertexDataRS[e+1],l.vertexDataRS[e+2]),d.setAltitude(le,t),l.vertexDataRS[e]=le[0],l.vertexDataRS[e+1]=le[1],l.vertexDataRS[e+2]=le[2],_.push(Y(this._upVectorAlignment))}const w=new G(_,l.vertexDataES,l.vertexDataRS,g);se(w,this._upVectorAlignment,this._context.renderCoordsHelper);const P=new B(w,this._profile,this._extruder,this._startCap,this._endCap);let j=null;if(this._fastUpdates){const t=this._fastUpdates.visualVariables,i=E(t.size?.field,e)??0,r=E(t.color?.field,e)??0,s=E(t.opacity?.field,e)??0;j=new Z(P,i,r,s)}else{const e=[this._intrinsicSize[0],this._intrinsicSize[1]];if(this._drivenProperties.size){const t=s.size;e[0]*=ae(t[0],\"symbol-value\"===t[2]?this.symbolLayer.height||0:t[2],this.symbolLayer.width||0),e[1]*=ae(t[2],\"symbol-value\"===t[0]?this.symbolLayer.width||0:t[0],this.symbolLayer.height||0)}let t;this._drivenProperties.color&&(t=s.color),this._drivenProperties.opacity&&null!=s.opacity&&(t=t?[t[0],t[1],t[2],s.opacity]:[1,1,1,s.opacity]);const i=new J(P);i.bake(e),t&&i.bakeVertexColors(t),j=i}const S=j.createGeometryData(),D=this._context.stage.renderView.getObjectAndLayerIdColor({graphicUid:o,layerUid:this._context.layer.uid}),C=new T(this._materials[0],S,j,m,this._stencilWidth,D);C.transformation=t(r(),i,P.path.origin),c.push(C),this._usedMemory+=P.usedMemory}if(0===c.length)return null;const g=new I({geometries:c,layerUid:this._context.layer.uid,graphicUid:o}),_=new P(this,g,c,null,null,((e,t,i,r,s)=>ne(e,t,r,s,this._upVectorAlignment)),a);return _.alignedSampledElevation=0,_.needsElevationUpdates=v(a.mode),_}}function se(e,t,i){const{origin:r,positions:s}=e;let a=e.offset;switch(t){default:case N.World:for(const t of e.vertices)le[0]=s[a++]+r[0],le[1]=s[a++]+r[1],le[2]=s[a++]+r[2],i.worldUpAtPosition(le,le),t.setFrameFromUpVector(le);break;case N.Path:le[0]=s[a]+r[0],le[1]=s[a+1]+r[1],le[2]=s[a+2]+r[2],i.worldUpAtPosition(le,le),K(e,le)}}function ae(e,t,i){switch(e){case\"symbol-value\":return i;case\"proportional\":return t;default:return e}}function oe(e,t,i,r){let s=0;const{origin:a,vertices:o,positions:n,positionsES:l}=e,c=e.offset+3*o.length;for(let m=e.offset;m<c;m+=3)h(le,l[m],l[m+1],l[m+2]),i(le,he),s+=he.sampledElevation,le[0]=n[m]+a[0],le[1]=n[m+1]+a[1],le[2]=n[m+2]+a[2],r.setAltitude(le,he.z),n[m]=le[0]-a[0],n[m+1]=le[1]-a[1],n[m+2]=le[2]-a[2];return e.updatePathVertexInformation(),s/o.length}function ne(e,t,i,r,s){const a=e.stageObject,o=a.geometries;let n=0;for(const l of o){if(!W(l))continue;const e=l.path,o=e.builder.path;n+=oe(o,t,i,r),s!==N.World&&se(o,s,r),e.onPathChanged(l),l.invalidateBoundingInfo(),a.geometryVertexAttributeUpdated(l,$.POSITION)}return n/o.length}const le=d(),he=new w;export{re as Graphics3DPathSymbolLayer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{create as t}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{set as o}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as r}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{i as e,f as s,d as i,h as a,g as m,c as n,b as c,n as l,e as f}from\"../../../../chunks/vec32.js\";import{create as I}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{getReferenceEllipsoid as h}from\"../../../../geometry/ellipsoidUtils.js\";import{lonLatToWebMercatorComparable as p}from\"../../../../geometry/projection/projectors.js\";import{newDoubleArray as N}from\"../../../../geometry/support/DoubleArray.js\";import{create as g,fromArray as b,getNormal as u}from\"../../../../geometry/support/plane.js\";import{ViewingMode as j}from\"../../../ViewingMode.js\";function T(t,r,e,s,i=1){if(e.isGeographic&&s===j.Global){const t=N(r.length),o=r.length,s=h(e);for(let e=0;e<o;e+=3)p(r,e,t,e,s);r=t}o(y,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY);for(let o=0;o<r.length;o+=3)y[0]=Math.min(y[0],r[o]),y[1]=Math.min(y[1],r[o+1]);const a=y[0]%i,m=y[1]%i,n=y[0]-a,c=y[1]-m;for(let o=0;o<r.length;o+=3){const e=o/3*4;t[e]=(r[o]-n)/i,t[e+1]=(r[o+1]-c)/i,t[e+2]=n/i,t[e+3]=c/i}}function M(t,r,n,c,l=1){e(F,1,0,0),e(Y,0,1,0),e(_,0,0,1),D(x,n),b(V,n)&&O(V,F,Y,_,c,x),o(y,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),o(P,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY);for(let o=0;o<n.length;o+=3){e(E,n[o],n[o+1],n[o+2]);const t=s(F,E),r=s(Y,E);y[0]=Math.min(y[0],t),y[1]=Math.min(y[1],r),P[0]=Math.max(P[0],t),P[1]=Math.max(P[1],r)}const f=s(_,x);q(v,y[0],y[1],f,F,Y,_),q(A,P[0],y[1],f,F,Y,_),q(G,y[0],P[1],f,F,Y,_),i(A,A,v),a(A,A,.5),i(G,G,v),a(G,G,.5),m(v,v,A),m(v,v,G);const I=y[0]%l,h=y[1]%l,p=y[0]-I,N=y[1]-h;for(let o=0;o<n.length;o+=3){e(E,n[o],n[o+1],n[o+2]);const i=o/3,a=4*i;t[a]=(s(F,E)-p)/l,t[a+1]=(s(Y,E)-N)/l,t[a+2]=p/l,t[a+3]=N/l;const m=9*i;for(let t=0;t<3;t++)r[m+t]=v[t],r[m+t+3]=A[t],r[m+t+6]=G[t]}}const x=I(),E=I(),V=g(),F=I(),Y=I(),_=I(),y=r(),P=r(),v=I(),A=I(),G=I();function O(t,o,r,i,m,I){null!=m?(m.basisMatrixAtPosition(I,S),e(d,S[0],S[1],S[2]),e(k,S[4],S[5],S[6]),e(w,S[8],S[9],S[10])):(e(d,1,0,0),e(k,0,1,0),e(w,0,0,1));const h=u(t);s(h,w)<0&&a(h,h,-1),n(i,h);const p=s(h,k),N=s(h,d);Math.abs(p)>Math.abs(N)?(c(o,d,h,-N),l(o,o),f(r,o,h),l(r,r),a(r,r,-1)):(c(r,k,h,-p),l(r,r),f(o,r,h),l(o,o))}const S=t(),d=I(),k=I(),w=I();function D(t,o){e(U,0,0,0);for(let r=0;r<o.length-3;r+=3)U[0]+=o[r],U[1]+=o[r+1],U[2]+=o[r+2];a(t,U,1/(o.length/3-1))}const U=I();function q(t,o,r,s,i,a,m){e(t,o*i[0]+r*a[0]+s*m[0],o*i[1]+r*a[1]+s*m[1],o*i[2]+r*a[2]+s*m[2])}export{M as createMapSpaceUVCoords,T as createMapSpaceUVCoordsDraped};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{isColorOrColorEmission as e,ShaderOutput as t}from\"../core/shaderLibrary/ShaderOutput.js\";import{ReloadableShaderModule as r}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as i}from\"../core/shaderTechnique/ShaderTechnique.js\";import{olidEnabled as s}from\"../effects/geometry/olidUtils.js\";import{OITPass as l}from\"../lib/OITPass.js\";import{blending as n,oitDepthTest as o,depthWrite as p,getDrawBuffers as a,getOITPolygonOffset as u}from\"../lib/OrderIndependentTransparency.js\";import{stencilWriteMaskOn as c,stencilToolMaskBaseParams as O,stencilBaseAllZerosParams as f}from\"../lib/StencilUtils.js\";import{VertexAttribute as m}from\"../lib/VertexAttribute.js\";import{P as d}from\"../../../../chunks/Pattern.glsl.js\";import{SpecialDrawBuffers as T}from\"../../../webgl/enums.js\";import{makePipelineState as P,cullingParams as h,defaultColorWrite as E}from\"../../../webgl/renderState.js\";class S extends i{constructor(e,t){super(e,t,new r(d,(()=>import(\"./Pattern.glsl.js\"))),s()?j:b)}_setPipelineState(r,i){const{oitPass:s,output:m,cullFace:d,draped:S,hasOccludees:b,polygonOffset:j,enableOffset:g}=r,A=s===l.NONE,I=s===l.FrontFace;return P({blending:e(m)?n(s):null,culling:h(d),depthTest:S?null:{func:o(s)},depthWrite:p(r),drawBuffers:m===t.Depth?{buffers:[T.NONE]}:a(s,m),colorWrite:E,stencilWrite:b?c:null,stencilTest:b?i?O:f:null,polygonOffset:A||I?j?R:null:u(g)})}initializePipeline(e){return this._occludeePipelineState=this._setPipelineState(e,!0),this._setPipelineState(e,!1)}getPipeline(e){return e?this._occludeePipelineState:super.getPipeline()}}const R={factor:1,units:1},b=new Map([[m.POSITION,0],[m.COLOR,3],[m.UVMAPSPACE,4],[m.COLORFEATUREATTRIBUTE,5],[m.BOUNDINGRECT,6]]),j=new Map([[m.POSITION,0],[m.COLOR,3],[m.UVMAPSPACE,4],[m.COLORFEATUREATTRIBUTE,5],[m.BOUNDINGRECT,6],[m.OBJECTANDLAYERIDCOLOR,9]]);export{S as PatternTechnique,b as vertexAttributeLocations,j as vertexAttributeLocationsOID};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import{TextureCoordinateType as e}from\"../core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js\";import{EmissionSource as o}from\"../core/shaderLibrary/output/Emissions.glsl.js\";import{parameter as s}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{CullFaceOptions as r}from\"../lib/basicInterfaces.js\";import{DefaultTechniqueConfiguration as i}from\"../materials/DefaultTechniqueConfiguration.js\";import{Style as a}from\"../materials/PatternStyle.js\";class n extends i{constructor(){super(...arguments),this.cullFace=r.None,this.style=a.Horizontal,this.hasVertexColors=!1,this.polygonOffset=!1,this.hasOccludees=!1,this.enableOffset=!0,this.terrainDepthTest=!1,this.cullAboveTerrain=!1,this.vvColor=!1,this.draped=!1,this.textureCoordinateType=e.None,this.emissionSource=o.None,this.discardInvisibleFragments=!0,this.writeDepth=!0,this.occlusionPass=!1,this.hasVvInstancing=!1,this.vvSize=!1,this.vvOpacity=!1,this.objectAndLayerIdColorInstanced=!1}}t([s({count:r.COUNT})],n.prototype,\"cullFace\",void 0),t([s({count:a.COUNT})],n.prototype,\"style\",void 0),t([s()],n.prototype,\"hasVertexColors\",void 0),t([s()],n.prototype,\"polygonOffset\",void 0),t([s()],n.prototype,\"hasOccludees\",void 0),t([s()],n.prototype,\"enableOffset\",void 0),t([s()],n.prototype,\"terrainDepthTest\",void 0),t([s()],n.prototype,\"cullAboveTerrain\",void 0),t([s()],n.prototype,\"vvColor\",void 0),t([s()],n.prototype,\"draped\",void 0);export{n as PatternTechniqueConfiguration};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{fromValues as e}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{BufferViewMat3f as t,BufferViewVec4f as r}from\"../../../../geometry/support/buffer/BufferView.js\";import{newLayout as s}from\"../../support/buffer/InterleavedLayout.js\";import{isHighlightOrOID as i,isColorOrColorEmission as o,isDepth as a,isColorEmissionHighlightOrOID as n}from\"../core/shaderLibrary/ShaderOutput.js\";import{olidEnabled as f}from\"../effects/geometry/olidUtils.js\";import{CullFaceOptions as c}from\"../lib/basicInterfaces.js\";import l from\"../lib/GLMaterial.js\";import{OITPolygonOffsetLimit as u}from\"../lib/OrderIndependentTransparency.js\";import{RenderSlot as p}from\"../lib/RenderSlot.js\";import{assert as h}from\"../lib/Util.js\";import{VertexAttribute as m}from\"../lib/VertexAttribute.js\";import{DefaultBufferWriter as d}from\"./DefaultBufferWriter.js\";import{Style as g}from\"./PatternStyle.js\";import{TriangleMaterial as A}from\"./TriangleMaterial.js\";import{VisualVariablePassParameters as T}from\"./VisualVariablePassParameters.js\";import{writeDefaultAttributes as b,writeBufferVec4 as v}from\"./internal/bufferWriterUtils.js\";import{vertexAttributeLocationsOID as O,vertexAttributeLocations as _,PatternTechnique as j}from\"../shaders/PatternTechnique.js\";import{PatternTechniqueConfiguration as C}from\"../shaders/PatternTechniqueConfiguration.js\";import{alphaCutoff as E}from\"../../../../webscene/support/AlphaCutoff.js\";class P extends A{constructor(e){super(e,I),this._configuration=new C,this.vertexAttributeLocations=f()?O:_,this.supportsEdges=!0,this.produces=new Map([[p.OPAQUE_MATERIAL,e=>i(e)],[p.TRANSPARENT_MATERIAL,e=>o(e)],[p.TRANSPARENT_MATERIAL_WITHOUT_NORMALS,e=>a(e)],[p.DRAPED_MATERIAL,e=>this.parameters.draped&&n(e)]])}getConfiguration(e,t){return this._configuration.output=e,this._configuration.cullFace=this.parameters.cullFace,this._configuration.hasVertexColors=this.parameters.hasVertexColors&&!this.parameters.vvColor,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.polygonOffset=this.parameters.polygonOffset,this._configuration.style=this.parameters.style,this._configuration.draped=this.parameters.draped,this._configuration.oitPass=t.oitPass,this._configuration.enableOffset=t.camera.relativeElevation<u,this._configuration.terrainDepthTest=t.terrainDepthTest&&o(e),this._configuration.cullAboveTerrain=t.cullAboveTerrain,this._configuration.vvColor=!!this.parameters.vvColor,this._configuration}get visible(){return this.parameters.color[3]>=E}createGLMaterial(e){return new R(e)}createBufferWriter(){const e=s().vec3f(m.POSITION).vec4f(m.UVMAPSPACE);return this.parameters.draped||e.mat3f(m.BOUNDINGRECT),this.parameters.vvColor?e.f32(m.COLORFEATUREATTRIBUTE):e.vec4u8(m.COLOR),f()&&e.vec4u8(m.OBJECTANDLAYERIDCOLOR),new y(e)}}class R extends l{beginSlot(e){return this.getTechnique(j,e)}}class y extends d{write(e,s,i,o,a,n){b(i,o,this.vertexBufferLayout,e,s,a,n);for(const f of this.vertexBufferLayout.fields.keys()){const s=i.get(f),o=s?.indices;if(s&&o)switch(f){case m.UVMAPSPACE:{h(4===s.size);const e=a.getField(f,r);e&&v(s,e,n);break}case m.BOUNDINGRECT:{h(9===s.size);const r=a.getField(f,t);r&&L(s,e,r,n);break}}}}}function L(e,t,r,s){const{data:i,indices:o}=e,a=t,n=r.typedBuffer,f=r.typedBufferStride,c=o.length;s*=f;for(let l=0;l<c;++l){const e=9*o[l],t=i[e],r=i[e+1],c=i[e+2];n[s]=a[0]*t+a[4]*r+a[8]*c+a[12],n[s+1]=a[1]*t+a[5]*r+a[9]*c+a[13],n[s+2]=a[2]*t+a[6]*r+a[10]*c+a[14];for(let o=3;o<9;++o)n[s+o]=i[e+o];s+=f}}class I extends T{constructor(){super(...arguments),this.color=e(1,1,1,1),this.hasVertexColors=!1,this.polygonOffset=!1,this.hasSlicePlane=!1,this.cullFace=c.None,this.hasOccludees=!1,this.style=g.Cross,this.draped=!0}}export{I as Parameters,P as PatternMaterial};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{fromValues as t}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{perVertexElevationAligner as e}from\"../graphics/ElevationAligners.js\";import{createMapSpaceUVCoords as r}from\"./uvUtils.js\";import{VertexAttribute as a}from\"../../webgl-engine/lib/VertexAttribute.js\";import{ColorMaterial as o}from\"../../webgl-engine/materials/ColorMaterial.js\";import{PatternMaterial as n}from\"../../webgl-engine/materials/PatternMaterial.js\";import{Style as i}from\"../../webgl-engine/materials/PatternStyle.js\";function s(e,r){const a=e?.pattern;return null==a?new o(r):\"none\"===a.style||\"solid\"===a.style?(\"none\"===a.style&&(r.color=t(0,0,0,0),r.forceTransparentMode=!0),new o(r)):(r.style=l(a.style),new n(r))}function l(t){switch(t){case\"horizontal\":return i.Horizontal;case\"vertical\":return i.Vertical;case\"cross\":return i.Cross;case\"forward-diagonal\":return i.ForwardDiagonal;case\"backward-diagonal\":return i.BackwardDiagonal;case\"diagonal-cross\":return i.DiagonalCross;default:return}}function c(t){return t.material instanceof n&&!t.material.parameters.draped}function u(t,e){if(c(t)){const o=t.attributes.get(a.POSITION).data,n=t.getMutableAttribute(a.UVMAPSPACE).data,i=t.getMutableAttribute(a.BOUNDINGRECT).data;r(n,i,o,e)}}function m(t,r,a,o,n){const i=e(t,r,a,o,n),s=t.stageObject.geometries;for(const e of s)u(e,n);return i}export{s as createMaterial,l as parsePatternStyle,c as requiresUVUpdates,u as updateMapSpaceUVCoords,m as uvElevationAligner};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../../../Color.js\";import{pt2px as t}from\"../../../../core/screenUtils.js\";import{e as i}from\"../../../../chunks/earcut.js\";import{create as r,fromBuffer as s,intersectsClippingArea as o,empty as n,expandWithAABB as a}from\"../../../../geometry/support/aaBoundingBox.js\";import{newDoubleArray as l,doubleSubArray as c}from\"../../../../geometry/support/DoubleArray.js\";import{newFloatArray as p,floatSubArray as h}from\"../../../../geometry/support/FloatArray.js\";import{SymbolUpdateType as u,elevationModeChangeUpdateType as d,needsElevationUpdates2D as m}from\"./elevationAlignmentUtils.js\";import{Graphics3DDrapedGraphicLayer as y}from\"./Graphics3DDrapedGraphicLayer.js\";import{Graphics3DObject3DGraphicLayer as _}from\"./Graphics3DObject3DGraphicLayer.js\";import{Graphics3DSymbolLayer as g}from\"./Graphics3DSymbolLayer.js\";import{mixinColorAndOpacity as f}from\"./graphicUtils.js\";import{ApplyRendererDiffResult as b}from\"./interfaces.js\";import{parseCapType as x}from\"./lineUtils.js\";import{geometryAsPolygon as O,createIndices3D as v,createColorGeometry as D,PolygonCreationDataBase as C}from\"./polygonUtils.js\";import{initFastSymbolUpdatesState as S,updateFastSymbolUpdatesState as j,getAttributeValue as A,ConvertOptions as P}from\"../support/FastSymbolUpdates.js\";import{createMaterial as U,uvElevationAligner as E}from\"../support/patternUtils.js\";import{createMapSpaceUVCoords as G,createMapSpaceUVCoordsDraped as L}from\"../support/uvUtils.js\";import{createGeometry as F}from\"../../support/engineContent/line.js\";import{geometryToRenderInfo as w,geometryToRenderInfoDraped as R}from\"../../support/renderInfoUtils/polygon.js\";import{Object3D as I}from\"../../webgl-engine/lib/Object3D.js\";import{RenderGeometry as M}from\"../../webgl-engine/lib/RenderGeometry.js\";import{getStipplePatternForLinePattern as V}from\"../../webgl-engine/materials/lineStippleUtils.js\";import{PatternMaterial as B}from\"../../webgl-engine/materials/PatternMaterial.js\";import{RibbonLineMaterial as T}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";const z=[\"polyline\",\"polygon\",\"extent\"],H=new P({size:!1,color:!0,rotation:!1,opacity:!1});class N extends g{constructor(e,t,i,r){super(e,t,i,r),this._needsUV=!1}async doLoad(){this._fastUpdates=S(this._context.renderer,H)}_createMaterials(){if(this._materials.length>0)return;const e=this.symbolLayer?.material?.color,i=this._getCombinedOpacityAndColor(e);this._materials[J.Fill]=U(this.symbolLayer,{color:i,forceTransparentMode:this.needsDrivenTransparentPass,discardInvisibleFragments:!0,polygonOffset:!1,hasVertexColors:!0,draped:this.draped,hasSlicePlane:this._context.slicePlaneEnabled,...this._fastUpdates?.materialParameters}),this._needsUV=this._materials[J.Fill]instanceof B;const r=this.symbolLayer.outline;if(K(r)){const e=V(r.pattern);this._materials[J.Outline]=new T({width:t(r.size),color:this._getOutlineColor(),hasPolygonOffset:!0,hasSlicePlane:this._context.slicePlaneEnabled,isClosed:!0,stipplePattern:e,cap:x(r.patternCap||\"butt\")})}this._context.stage.addMany(this._materials)}destroy(){super.destroy(),this._context.stage.removeMany(this._materials),this._materials.length=0}createGraphics3DGraphic(e){const t=e.graphic;if(!this._validateGeometry(t.geometry,z,this.symbolLayer.type))return null;const i=this._getVertexOpacityAndColor(e.renderingInfo,255),r=this.setGraphicElevationContext(t);return this.ensureDrapedStatus(\"on-the-ground\"===r.mode),this._createMaterials(),this.draped?this._createAsOverlay(t,i):this._createAs3DShape(t,i,r)}applyRendererDiff(e,t){for(const i in e.diff){if(\"visualVariables\"!==i)return b.RecreateSymbol;if(!j(this._fastUpdates,t,H))return b.RecreateSymbol;this._materials[J.Fill]?.setParameters(this._fastUpdates.materialParameters)}return b.FastUpdate}layerOpacityChanged(){if(null!=this._materials[J.Fill]){const e=this._materials[J.Fill].parameters.color,t=this.symbolLayer?.material?.color,i=this._getCombinedOpacity(t);this._materials[J.Fill].setParameters({color:[e[0],e[1],e[2],i],forceTransparentMode:this.needsDrivenTransparentPass})}if(null!=this._materials[J.Outline]){const e=this._materials[J.Outline].parameters.color;this._materials[J.Outline].setParameters({color:[e[0],e[1],e[2],this._getOutlineOpacity()]})}}layerElevationInfoChanged(e,t,i){const r=this._elevationContext.mode,s=d(N.elevationModeChangeTypes,i,r);if(s!==u.UPDATE)return s;const o=m(r);return this.updateGraphics3DGraphicElevationInfo(e,t,(()=>o))}slicePlaneEnabledChanged(){if(this._materials[J.Fill]?.setParameters({hasSlicePlane:this._context.slicePlaneEnabled}),this._materials[J.Outline]){const e={hasSlicePlane:this._context.slicePlaneEnabled};this._materials[J.Outline].setParameters(e)}return!0}physicalBasedRenderingChanged(){return!0}_createAs3DShape(e,t,i){const r=O(e.geometry);if(!r)return null;const s=w(r,this._context.elevationProvider,this._context.renderCoordsHelper,i),o=new k(s,t,this._context.layer.uid,e.uid),n=o.renderData.position.length/3;if(this._needsUV&&(o.uvMapSpace=p(4*n,!0),o.boundingRect=l(9*n,!0),G(o.uvMapSpace,o.boundingRect,o.renderData.position,this._context.renderCoordsHelper)),o.objectAndLayerIdColor=this._context.stage.renderView?.getObjectAndLayerIdColor(o),this._createAs3DShapeFill(e,o),this._materials[J.Outline]&&this._createAs3DShapeOutline(o),this._logGeometryCreationWarnings(o.renderData,r.rings,\"rings\",\"FillSymbol3DLayer\"),0===o.outGeometries.length)return null;const a=new I({geometries:o.outGeometries,castShadow:!1,layerUid:this._context.layer.uid,graphicUid:e.uid}),c=new _(this,a,o.outGeometries,null,null,E,i);return c.alignedSampledElevation=o.renderData.sampledElevation,c.needsElevationUpdates=m(i.mode),c}_createAs3DShapeFill(e,t){const i=t.renderData.polygons;for(const{position:r,mapPositions:n,holeIndices:a,index:l,count:p}of i){if(null!=this._context.clippingExtent&&(s(n,W),!o(W,this._context.clippingExtent)))continue;const i=v(n,a,this._context.elevationProvider.spatialReference);if(0===i.length)continue;const u=this._fastUpdates?.visualVariables.color,d=D({material:this._materials[J.Fill],indices:i,mapPositions:n,attributeData:{position:r,color:u?null:t.color,colorFeature:u?A(u.field,e):null,uvMapSpace:this._needsUV?h(t.uvMapSpace,4*l,4*p):null,boundingRect:this._needsUV?c(t.boundingRect,9*l,9*p):null,objectAndLayerIdColor:t.objectAndLayerIdColor}});t.outGeometries.push(d)}}_createAs3DShapeOutline(e){if(null==this._materials[J.Outline])return;const t=e.renderData.outlines;for(const{mapPositions:i,position:r}of t){if(null!=this._context.clippingExtent&&(s(i,W),!o(W,this._context.clippingExtent)))continue;const t=F(this._materials[J.Outline],{overlayInfo:null,removeDuplicateStartEnd:!0,mapPositions:i,attributeData:{position:r}},e.objectAndLayerIdColor);e.outGeometries.push(t)}}_createAsOverlay(e,t){const i=O(e.geometry);if(null==i)return null;this._materials[J.Fill].renderPriority=this._renderPriority+this._renderPriorityStep/2,null!=this._materials[J.Outline]&&(this._materials[J.Outline].renderPriority=this._renderPriority);const r=R(i,this._context.overlaySR),s=new q(r,t,this._context.layer.uid,e.uid),o=s.renderData.position.length/3;return this._needsUV&&(s.uvMapSpace=p(4*o,!0),L(s.uvMapSpace,s.renderData.position,this._context.overlaySR,this._context.graphicsCoreOwner.view.state.viewingMode)),s.outBoundingBox=n(),s.objectAndLayerIdColor=this._context.stage.renderView?.getObjectAndLayerIdColor(s),this._createAsOverlayFill(e,s),this._materials[J.Outline]&&this._createAsOverlayOutline(s),this._logGeometryCreationWarnings(s.renderData,i.rings,\"rings\",\"FillSymbol3DLayer\"),0===s.outGeometries.length?null:new y(this,s.outGeometries,s.outBoundingBox,this._context.drapeSourceRenderer)}_createAsOverlayFill(e,t){const r=t.renderData.polygons;for(const{position:n,holeIndices:l,index:c,count:p}of r){const r=s(n,W);if(!o(r,this._context.clippingExtent))continue;const u=i(n,l,3);if(0===u.length)continue;a(t.outBoundingBox,r);const d=this._fastUpdates?.visualVariables.color,m=D({material:this._materials[J.Fill],indices:u,attributeData:{position:n,color:d?null:t.color,colorFeature:d?A(d.field,e):null,uvMapSpace:this._needsUV?h(t.uvMapSpace,4*c,4*p):null,objectAndLayerIdColor:t.objectAndLayerIdColor}});t.outGeometries.push(new M(m,t))}}_createAsOverlayOutline(e){if(null==this._materials[J.Outline])return;const t=e.renderData.outlines;for(let i=0;i<t.length;++i){const{position:r}=t[i];if(s(r,W),!o(W,this._context.clippingExtent))continue;a(e.outBoundingBox,W);const n=F(this._materials[J.Outline],{overlayInfo:{spatialReference:this._context.overlaySR,renderCoordsHelper:this._context.renderCoordsHelper},removeDuplicateStartEnd:!0,attributeData:{position:r}},e.objectAndLayerIdColor);e.outGeometries.push(new M(n,e))}}_getOutlineOpacity(){const e=this.symbolLayer?.outline?.color;return(this.draped?1:this._getLayerOpacity())*(null!=e?e.a:0)}_getOutlineColor(){const t=this.symbolLayer?.outline?.color,i=this._getOutlineOpacity();return f(null!=t?e.toUnitRGB(t):null,i)}test(){return{...super.test(),createAsOverlay:(e,t)=>this._createAsOverlay(e,t),createAs3DShape:(e,t,i)=>this._createAs3DShape(e,t,i)}}}N.elevationModeChangeTypes={definedChanged:u.RECREATE,staysOnTheGround:u.NONE,onTheGroundChanged:u.RECREATE};const W=r();class k extends C{constructor(e,t,i,r){super(e,i,r),this.color=t}}class q extends C{constructor(e,t,i,r){super(e,i,r),this.color=t}}var J;function K(e){return null!=e?.size&&e.size>0&&null!=e.color&&(null==e.pattern||\"style\"!==e.pattern.type||\"none\"!==e.pattern.style)}!function(e){e[e.Fill=0]=\"Fill\",e[e.Outline=1]=\"Outline\"}(J||(J={}));export{N as Graphics3DPolygonFillSymbolLayer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{create as t}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{create as e}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{fromValues as s}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";class i{constructor(i,r=\"center\",c=!1,a=t(),o=s(0,0,0,-1),l=\"world\",f=e(),n=0){this.verticalOffset=i,this.anchor=r,this.hasLabelVerticalOffset=c,this.screenOffset=a,this.centerOffset=o,this.centerOffsetUnits=l,this.translation=f,this.elevationOffset=n}}class r{constructor(e,s=\"center\",i=\"center\",r=null,c=t(),a=!0){this.placement=e,this.horizontalPlacement=s,this.verticalPlacement=i,this.text=r,this.displaySize=c,this.isFocused=a}}export{r as LabelParameters,i as LabelPlacement};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport o from\"../../../../Color.js\";import{isCachedFontFace as t,loadFont as e}from\"../../../../core/fontUtils.js\";import i from\"../../../../core/Logger.js\";import{pt2px as r}from\"../../../../core/screenUtils.js\";import{ZEROS as n}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";class s{constructor(o){this.definition=o,this.key=JSON.stringify(o),this.haloSize=Math.round(o.halo.size),this.textStyle=a(o.color),this.haloStyle=l(o.halo.color),this.backgroundStyle=0!==o.background.color[3]?a(o.background.color):null}fontString(o){const t=this.definition.font,e=\"sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Noto Color Emoji\";return`${t.style} ${t.weight} ${o}px ${t.family}, ${e}`}setFontProperties(o,t){o.font=this.fontString(t),o.textAlign=\"left\",o.textBaseline=\"alphabetic\"}static async fromSymbol(l,a){const f=l?.material?.color,m=o.toUnitRGBA(f)??n,g=null!=l.size?r(l.size):12,u=l.lineHeight,d=null!=l.background?o.toUnitRGBA(l.background.color):n,h={family:l.font?.family??\"sans-serif\",decoration:l.font?.decoration??\"none\",weight:l.font?.weight??\"normal\",style:l.font?.style??\"normal\"},y=l.halo,b=null!=y?.color&&y.size>0?{size:r(y.size),color:o.toUnitRGBA(y.color)}:{size:0,color:n},p=new s({color:m,size:g,background:{color:d,padding:null!=l.background?[.65*g,.5*g]:[0,0],borderRadius:null!=l.background?g*(6/16):0},lineSpacingFactor:u,font:h,halo:b,pixelRatio:a});if(l.font){let o=!1;const r=p.fontString(g);try{o=(await document.fonts.load(r)).some((o=>!t(o)))}catch(S){i.getLogger(\"esri.views.3d.webgl-engine.lib.TextRenderParameters\").warnOnce(`Failed to preload font '${r}'. Some text symbology may be rendered using the default browser font.`)}if(!o&&!c.has(l.font.family))try{await e(l.font)}catch(S){}}return p}}function l(o){return`rgb(${o.slice(0,3).map((o=>Math.floor(255*o))).toString()})`}function a(o){return`rgba(${o.slice(0,3).map((o=>Math.floor(255*o))).toString()},${o[3]})`}const c=new Set([\"Arial\",\"Times New Roman\",\"Courier New\",\"serif\",\"sans-serif\",\"monospace\",\"cursive\",\"fantasy\",\"system-ui\",\"ui-serif\",\"ui-sans-serif\",\"ui-monospace\",\"ui-rounded\",\"math\",\"emoji\",\"fangsong\"]);export{s as TextRenderParameters};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import s from\"../../../../core/Evented.js\";import\"../../../../core/has.js\";import{disposeMaybe as i,removeMaybe as r}from\"../../../../core/maybe.js\";import{generateUID as h}from\"../../../../core/uid.js\";import{property as n}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as a}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{a as o,s as l}from\"../../../../chunks/vec42.js\";import{ZEROS as _,create as c}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{ContentObjectType as d}from\"./ContentObjectType.js\";import{textTextureAtlas as u}from\"./testUtils.js\";import{applyTextureResizeModulo as m}from\"./textureUtils.js\";import{TaskPriority as p}from\"../../../support/Scheduler.js\";import{Yield as g}from\"../../../support/Yield.js\";import{TextureWrapMode as f,TextureSamplingMode as x}from\"../../../webgl/enums.js\";import{Texture as v}from\"../../../webgl/Texture.js\";import{TextureDescriptor as w}from\"../../../webgl/TextureDescriptor.js\";const T=4096;let k=class extends t{constructor(e){super(e),this.type=d.Texture,this.id=h(),this.events=new s,this._glTexture=null,this._atlas=new A(256,256),this._needsRepack=!1,this._canRepack=!0,this._elementsToRender=new Map,this._elements=new Map,this._uvCallbacks=new Map,this.updating=!1}initialize(){this._canvas=document.createElement(\"canvas\"),this._canvas.setAttribute(\"id\",\"textAtlasCanvas\"),this._canvas.setAttribute(\"style\",\"display:none\"),this._ctx=this._canvas.getContext(\"2d\"),this._stage=this.view._stage,this._stage.add(this),this._updateCanvasElementSize(this._atlas),this._reset()}unload(){this._glTexture=i(this._glTexture),this._frameWorker=r(this._frameWorker),this.updating=!1,this.events.emit(\"unloaded\")}get glTexture(){return this._glTexture}static get maxSize(){return j=u.stableRendering?R:0,[T-R-j,T-R-j-y]}load(e){if(this._glTexture)return this._glTexture;const t=new w;return t.wrapMode=f.CLAMP_TO_EDGE,t.samplingMode=x.LINEAR_MIPMAP_LINEAR,t.hasMipmap=!0,t.preMultiplyAlpha=!0,t.maxAnisotropy=e.parameters.maxMaxAnisotropy,this._glTexture=new v(e,t,this._canvas),this._frameWorker=this.view.resourceController.scheduler.registerTask(p.TEXT_TEXTURE_ATLAS,this),this.setDirty(),this._glTexture}dispose(){this._elements.clear(),this._elementsToRender.clear(),this._frameWorker=r(this._frameWorker),this._glTexture&&(this._stage.remove(this),this._glTexture=i(this._glTexture)),this._canvas.width=0,this._canvas.height=0,this._canvas=null,this._ctx=null}_updateCanvasElementSize(e){this._canvas.width=e.width,this._canvas.height=e.height}_resizeAtlas(e,t){const{width:s,height:i}=this._atlas;s===e&&i===t||(this._atlas.width=e,this._atlas.height=t,this._glTexture?.resize(e,t),this._glTexture?.updateData(0,0,0,s,i,this._canvas),this._updateCanvasElementSize(this._atlas),this._elements.forEach((e=>this._uvCallbacks.get(e.textRenderer.key)?.forEach((t=>t(e.uv))))),this._reset())}_reset(){this._elementsToRender.clear(),this._atlas.reset(),this._needsRepack=!0,this.setDirty()}_addAtlasElement(e,t,s,i){const r=this._atlas;if(r.width<s||r.height<i)return!1;let h=r.cursors.get(i);if(!h){if(r.height<r.nextY+i)return!1;h=[new C(r.nextY)],r.cursors.set(i,h),r.nextY+=i}let n=h.find((e=>r.width>=e.x+s));if(null==n){if(r.height<r.nextY+i)return!1;n=new C(r.nextY),r.nextY+=i,h.push(n)}return e.setNewPosition(n),this._elements.set(t,e),this._elementsToRender.set(t,e),n.x+=s,!0}_ensureCallbacks(e){const t=this._uvCallbacks.get(e);if(t)return t;const s=new Set;return this._uvCallbacks.set(e,s),s}_addCallback(e,t){this._ensureCallbacks(e).add(t)}_removeCallback(e,t){const s=this._uvCallbacks.get(e);return!(!s?.delete(t)||0!==s.size)&&(this._uvCallbacks.delete(e),!0)}_processAddition(e){const t=e.textRenderer.key;if(this._needsRepack)return void this._elements.set(t,e);const s=this._atlas,i=e.textRenderer.renderedWidth,r=e.textRenderer.renderedHeight,h=i+R,n=r+R+y;if(!this._addAtlasElement(e,t,h,n)){if(this._canRepack)this._reset();else if(s.width<h){const e=Math.min(m(Math.max(h,1.5*s.width)),T);this._resizeAtlas(e,s.height)}else{const e=s.nextY+n,t=Math.min(m(Math.max(e,1.5*s.height)),T);if(t>s.height)this._resizeAtlas(s.width,t);else if(s.width<T){const e=Math.min(m(1.5*s.width),T);this._resizeAtlas(e,s.height)}}this._elements.set(t,e)}}_renderElement(e){const t=e.commitNewPosition(),s=e.textRenderer;this._ctx.clearRect(t[0]-R,t[1]-R,s.renderedWidth+2*R,s.renderedHeight+2*R),s.render(this._ctx,t[0],t[1]),this._uvCallbacks.get(s.key)?.forEach((t=>t(e.uv)))}get running(){return this.updating}runTask(e){if(null==this._glTexture)return g;for(;this._needsRepack&&(this._canRepack||this._atlas.height<T&&this._atlas.height<T);){this._canRepack=this._needsRepack=!1;const t=this._elements;this._elements=new Map,t.forEach((e=>this._processAddition(e))),e.madeProgress()}if(this._elementsToRender.size>0){for(const[t,s]of this._elementsToRender){if(e.done)break;this._renderElement(s),this._elementsToRender.delete(t),e.madeProgress()}this._glTexture.setData(this._canvas)}this.updating=this._elementsToRender.size>0}addText(e,t){const s=e.key;this._addCallback(s,t);let i=this._elements.get(s);return i?o(i.uv,_)||t(i.uv):(i=new b(this._atlas,e),this._processAddition(i),this.setDirty()),{remove:()=>this._removeText(e,t)}}_removeText(e,t){const s=e.key;this._elements.get(s)&&this._removeCallback(s,t)&&(this._elements.delete(s),this._elementsToRender.delete(s),this._canRepack=!0)}setDirty(){this._glTexture&&(this.updating=!0)}get test(){}};e([n({constructOnly:!0})],k.prototype,\"view\",void 0),e([n({type:Boolean})],k.prototype,\"updating\",void 0),k=e([a(\"esri.views.3d.webgl-engine.lib.TextTextureAtlas\")],k);const R=2,y=2;class b{constructor(e,t){this._atlas=e,this.textRenderer=t,this._uv=c(),this._newPosition=[0,0]}get uv(){if(null==this._xOffset||null==this._yOffset)return _;const{renderedWidth:e,renderedHeight:t}=this.textRenderer;return l(this._uv,this._xOffset/this._atlas.width,(this._yOffset+t)/this._atlas.height,(this._xOffset+e)/this._atlas.width,this._yOffset/this._atlas.height)}setNewPosition(e){this._newPosition[0]=e.x,this._newPosition[1]=e.y}commitNewPosition(){return this._xOffset=this._newPosition[0],this._yOffset=this._newPosition[1],this._newPosition}get xOffset(){return this._xOffset}get yOffset(){return this._yOffset}}class A{constructor(e,t){this.width=e,this.height=t,this.cursors=new Map,this.nextY=0}reset(){this.cursors.clear(),this.nextY=j}}class C{constructor(e){this.y=e,this.x=j}}let j=0;export{k as TextTextureAtlas};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{getTextHelperCanvas as e}from\"./TextHelperCanvas.js\";import{TextRenderer as r}from\"./TextRenderer.js\";import{TextTextureAtlas as t}from\"./TextTextureAtlas.js\";import{Texture as n}from\"./Texture.js\";import{TextureWrapMode as s}from\"../../../webgl/enums.js\";class i{constructor(e,n,s){this._renderer=new r(e,n,s,t.maxSize)}get key(){return this._renderer.key}get baselineAnchorY(){return 1-this._renderer.firstRenderedBaselinePosition/this._renderer.renderedHeight}get displayWidth(){return this._renderer.displayWidth}get displayHeight(){return this._renderer.displayHeight}create(){const r=e(d,this._renderer.renderedWidth,this._renderer.renderedHeight),t=r.getContext(\"2d\");return t.save(),this._renderer.render(t,0,0),t.restore(),new n(r,{wrap:{s:s.CLAMP_TO_EDGE,t:s.CLAMP_TO_EDGE},noUnpackFlip:!1,mipmap:!0,preMultiplyAlpha:!0})}}const d={canvas:null};export{i as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Error.js\";import has from\"../../../../core/has.js\";import{releaseMaybe as t}from\"../../../../core/maybe.js\";import{isPromiseLike as s}from\"../../../../core/promiseUtils.js\";import{pt2px as r}from\"../../../../core/screenUtils.js\";import{fromValues as o,ZEROS as n,create as i}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{freeze as a}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{fromValues as l}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{hasCalloutSupport as c,textSymbolLayerSupportsVerticalOffset as m}from\"../../../../symbols/callouts/calloutUtils.js\";import{focusAreaHUDColor as f}from\"../../../FocusAreas.js\";import{perObjectElevationAligner as h}from\"./ElevationAligners.js\";import{SymbolUpdateType as u,needsElevationUpdates2D as p}from\"./elevationAlignmentUtils.js\";import{ElevationContext as d}from\"./ElevationContext.js\";import{Graphics3DObject3DGraphicLayer as g}from\"./Graphics3DObject3DGraphicLayer.js\";import{Graphics3DObjectMetadata as y}from\"./Graphics3DObjectMetadata.js\";import{Graphics3DSymbolLayer as x}from\"./Graphics3DSymbolLayer.js\";import{validateSymbolLayerSize as v}from\"./graphicUtils.js\";import{LabelParameters as b,LabelPlacement as O}from\"./LabelParameters.js\";import{verticalScreenOffsetFromAlignment as P,verticalPlacementFromAlignment as w,textRenderAlignmentFromHorizontalPlacement as _,horizontalPlacementToAnchorX as j,anchorFromPlacements as E,namedAnchorToHUDMaterialAnchorPos as S}from\"./placementUtils.js\";import{placePointOnGeometry as L,updateStageObjectGeometry as G,getLocalOriginForPoint as A,extendPointGraphicElevationContext as C,createStageObject as z}from\"./pointUtils.js\";import{getFontMetrics as F}from\"../../webgl-engine/lib/FontMetrics.js\";import{createPointGeometry as U}from\"../../webgl-engine/lib/GeometryUtil.js\";import{TextRenderParameters as D}from\"../../webgl-engine/lib/TextRenderParameters.js\";import R from\"../../webgl-engine/lib/TextTextureFactory.js\";import{HUDMaterial as T}from\"../../webgl-engine/materials/HUDMaterial.js\";const H=a(0,0,1);class W extends x{constructor(e,t,s,r){super(e,t,s,r),this._elevationOptions={supportsOffsetAdjustment:!0,supportsOnTheGround:!1},this.ensureDrapedStatus(!1)}async doLoad(){if(!this._drivenProperties.size){const t=v(this.symbolLayer.size);if(t)throw new e(\"graphics3dtextsymbollayer:invalid-size\",t)}await this._createTextRenderParameters()}async _createTextRenderParameters(){const e=this._context.graphicsCoreOwner.view.state.rasterPixelRatio;this._textRenderParameters=await D.fromSymbol(this.symbolLayer,e)}destroy(){super.destroy()}createGraphics3DGraphic(e){const t=e.graphic,s=L(t.geometry);if(null==s)return this.logger.warn(`unsupported geometry type for text symbol: ${t.geometry.type}`),null;const r=this._context.stage.view.focusAreas.containsGeometry(s),o=this.symbolLayer.text;if(null==o||\"\"===o)return null;const n=c(this.symbol)&&this.symbol.hasVisibleVerticalOffset()?this.symbol.verticalOffset:null;if(null!=n&&!m(this.symbolLayer))return this.logger.errorOncePerTick(`Callouts and vertical offset on text symbols are currently only supported with 'center' horizontal alignment (not with '${this.symbolLayer.horizontalAlignment}' alignment)`),null;const{verticalAlignment:i}=this.symbolLayer,a=new O(n);P(i,a.screenOffset);const l=new b(a,this.symbolLayer.horizontalAlignment,w(i));return l.isFocused=r??l.isFocused,this._createAs3DShape(t,s,o,l)}updateFocus(e,t){t.forEach((t=>{const s=this._context.stage.view.focusAreas.containsGeometry(t.graphic.geometry);t.layers.forEach((r=>{if(r?.graphics3DSymbolLayer===this){r.stageObject.geometries.some((e=>e.material.parameters.isFocused!==s))&&e(t)}}))}))}createLabel(e,t,s,r,o){const n=e.graphic,i=L(n.geometry);if(null==i)return this.logger.warn(`unsupported geometry type for label: ${n.geometry.type}`),null;const a=this._context.stage.view.focusAreas.containsGeometry(i),l=t.text;return!l||/^\\s+$/.test(l)?null:(t.isFocused=a??t.isFocused,this._createAs3DShape(n,i,l,t,s,r,o))}setGraphicElevationContext(e,t=new d,s=0){return super.setGraphicElevationContext(e,t),t.addOffsetRenderUnits(s),t}layerOpacityChanged(){return this.logger.warn(\"layer opacity change not yet implemented in Graphics3DTextSymbolLayer\"),!1}layerElevationInfoChanged(e,t){return I(e,t,((e,t)=>{this.updateGraphicElevationContext(t,e)})),u.UPDATE}slicePlaneEnabledChanged(e,t){return I(e,t,(e=>{for(const t of e.stageObject.geometries)t.material.setParameters({hasSlicePlane:this._context.slicePlaneEnabled})})),!0}physicalBasedRenderingChanged(){return!0}get pixelRatioChanged(){return!1}updateGraphicElevationContext(e,t){const{elevationContext:s,metadata:r}=t;this.setGraphicElevationContext(e,s,r?.elevationOffset??0),t.needsElevationUpdates=p(s.mode)||\"absolute-height\"===s.mode}updateGeometry(e,t){if(this.draped||!this._validateGeometry(t))return!1;const{elevationContext:s,stageObject:r}=e;if(s.mode!==this.getGeometryElevationMode(t))return!1;const o=L(t);if(!o)return!1;const n=G(r,this._context,o,s);if(null==n)return!1;const i=A(this._context,o);return r.geometries[0].localOrigin===i&&(e.alignedSampledElevation=n,C(e,o,this._context.elevationProvider),!0)}_defaultElevationInfoNoZ(){return V}_createAs3DShape(e,a,c,m,u=null,x=null,v=()=>m.placement.elevationOffset){const b=this.setGraphicElevationContext(e,new d,m.placement.elevationOffset),O=\"polyline\"===e.geometry?.type,P=e.uid;let w=null,j=null;if(null==x){const e=_(m.horizontalPlacement);w=new R(c,e,this._textRenderParameters);let r=null;if(null!=this._context.sharedResources.textures){j=this._context.sharedResources.textures.fromData(w.key,(()=>w.create())),j.texture.events.on(\"unloaded\",(()=>r=t(r)));const e=this._context.stage.renderView.textures.acquire(j.texture.id);if(null==e||s(e))return j.release(),null;r=e}}const E=!!has(\"enable-feature:non-occluded-hud\"),S=M(w,m),L={occlusionTest:!E,occludedFragmentFade:E,horizonCullingEnabled:E&&this._context.spherical,screenOffset:m.placement.screenOffset,anchorPosition:S,polygonOffset:!0,color:[1,1,1,1],centerOffsetUnits:m.placement.centerOffsetUnits,depthEnabled:!1,drawAsLabel:!0,isLabel:!0,isFocused:m.isFocused};if(O&&(L.shaderPolygonOffset=1e-4),x?L.textureId=x.id:j&&(L.textureId=j.texture.id),null!=m.placement.verticalOffset){const{screenLength:e,minWorldLength:t,maxWorldLength:s}=m.placement.verticalOffset;L.verticalOffset={screenLength:r(e),minWorldLength:t||0,maxWorldLength:null!=s?s:1/0}}const G=this._context.graphicsCoreOwner.view.focusAreas.activePolygons.length,A={screenOffset:L.screenOffset,anchorPosition:S,centerOffsetUnits:L.centerOffsetUnits,verticalOffset:L.verticalOffset,shaderPolygonOffset:L.shaderPolygonOffset,occlusionTest:L.occlusionTest,isFocused:m.isFocused,focusEffect:this._context.stage.view.focusAreas?.style};if(this._context.screenSizePerspectiveEnabled){const{screenSizePerspectiveSettings:e,screenSizePerspectiveSettingsLabels:t}=this._context.sharedResources,s=F(this._textRenderParameters);L.screenSizePerspective=t.overrideFontHeight(s.maxHeight),L.screenSizePerspectiveAlignment=e,A.fontHeight=s.maxHeight}L.hasSlicePlane=this._context.slicePlaneEnabled;const D=this._context.spherical,W=u?JSON.stringify(A):\"\";let I=u?.get(W);if(null==I){if(!m.isFocused&&G>0){const e=this._context.stage.view.focusAreas?.style;L.color=f(L.color,e),L.outlineColor=f(L.outlineColor,e)}I=new T(L,D),u?.add(W,I)}const V=m.placement.translation,$=w?o(w.displayWidth,w.displayHeight):n,k=m.placement.centerOffset,N=H,q=x?l(0,0,0,0):null,B=U(I,{normal:N,position:V,size:$,centerOffsetAndDistance:k,uvs:q}),J=z(this._context,a,B,b,P);if(null==J)return null;const Y=(t,s,r,o,n,i)=>{const a=v()||m.placement.elevationOffset,l=this.setGraphicElevationContext(e,s,a);return h(t,l,r,o,n,i)},Z=new g(this,J.object,[B],null==u?[I]:null,j,Y,b);Z.alignedSampledElevation=J.sampledElevation,Z.needsElevationUpdates=p(b.mode)||\"absolute-height\"===b.mode,Z.getScreenSize=(e=i())=>(e[0]=w?w.displayWidth:m.displaySize[0],e[1]=w?w.displayHeight:m.displaySize[1],e);const K=new y(m.placement.elevationOffset,c);return Z.metadata=K,C(Z,a,this._context.elevationProvider),Z}}function I(e,t,s){e?.forEach((e=>{const r=t(e);null!=r&&s(r,e.graphic)}))}function M(e,t){if(\"baseline\"===t.verticalPlacement){const s=j[t.horizontalPlacement],r=null!=e?e.baselineAnchorY:0;return o(s,r)}const s=E(t.horizontalPlacement,t.verticalPlacement);return S[s]}const V={mode:\"relative-to-ground\",offset:0};export{W as Graphics3DTextSymbolLayer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ShaderOutput as r}from\"../core/shaderLibrary/ShaderOutput.js\";import{WaterDistortionPassParameters as e}from\"../core/shaderLibrary/shading/WaterDistortion.glsl.js\";import{ReloadableShaderModule as t}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as s}from\"../core/shaderTechnique/ShaderTechnique.js\";import{OITPass as o}from\"../lib/OITPass.js\";import{blending as a,oitDepthTest as n,depthWrite as i,getDrawBuffers as l,getOITPolygonOffset as d}from\"../lib/OrderIndependentTransparency.js\";import{W as p}from\"../../../../chunks/WaterSurface.glsl.js\";import{makePipelineState as c,defaultColorWrite as u}from\"../../../webgl/renderState.js\";class m extends e{}class f extends s{constructor(r,e){super(r,e,new t(p,(()=>import(\"../shaders/WaterSurface.glsl.js\"))))}initializePipeline(e){const{oitPass:t,output:s,transparent:p,draped:m,enableOffset:f}=e,h=t===o.NONE,j=t===o.FrontFace;return c({blending:s!==r.Normal&&s!==r.Highlight&&s!==r.ObjectAndLayerIdColor&&p?a(t):null,depthTest:m?null:{func:n(t)},depthWrite:i(e),drawBuffers:l(t,s),colorWrite:u,polygonOffset:h||j?null:d(f)})}}export{m as WaterMaterialPassParameters,f as WaterTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../lib/GLMaterial.js\";import{WaterTechnique as t}from\"./WaterTechnique.js\";class r extends e{ensureResources(e){return this._techniques.context.waterTextures.ensureResources(e)}beginSlot(e){const r=this._techniques.context.waterTextures.passParameters;return this._material.setParameters({wavePerturbation:r.wavePerturbation,waveNormal:r.waveNormal}),this.getTechnique(t,e)}}export{r as WaterGLMaterial};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{TextureCoordinateType as t}from\"../core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js\";import{EmissionSource as r}from\"../core/shaderLibrary/output/Emissions.glsl.js\";import{PBRMode as o}from\"../core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js\";import{parameter as i}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{DefaultTechniqueConfiguration as s}from\"./DefaultTechniqueConfiguration.js\";class n extends s{constructor(e,i){super(),this.spherical=e,this.doublePrecisionRequiresObfuscation=i,this.receiveShadows=!1,this.transparent=!1,this.enableOffset=!0,this.writeDepth=!1,this.screenSpaceReflections=!1,this.cloudReflections=!1,this.objectAndLayerIdColorInstanced=!1,this.draped=!1,this.terrainDepthTest=!1,this.cullAboveTerrain=!1,this.textureCoordinateType=t.None,this.emissionSource=r.None,this.pbrMode=o.Water,this.occlusionPass=!1,this.useCustomDTRExponentForWater=!0,this.highStepCount=!0,this.useFillLights=!1}get discardInvisibleFragments(){return this.transparent&&this.writeDepth}}e([i()],n.prototype,\"receiveShadows\",void 0),e([i()],n.prototype,\"transparent\",void 0),e([i()],n.prototype,\"enableOffset\",void 0),e([i()],n.prototype,\"writeDepth\",void 0),e([i()],n.prototype,\"screenSpaceReflections\",void 0),e([i()],n.prototype,\"cloudReflections\",void 0),e([i()],n.prototype,\"objectAndLayerIdColorInstanced\",void 0),e([i()],n.prototype,\"draped\",void 0),e([i()],n.prototype,\"terrainDepthTest\",void 0),e([i()],n.prototype,\"cullAboveTerrain\",void 0);export{n as WaterTechniqueConfiguration};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{secondsFromMilliseconds as t}from\"../../../../core/time.js\";import{fromValues as e}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{create as r}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{fromValues as i}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{isColorOrColorEmission as a,isHighlightOrOID as s,ShaderOutput as o}from\"../core/shaderLibrary/ShaderOutput.js\";import{olidEnabled as n}from\"../effects/geometry/olidUtils.js\";import{MaterialParameters as l}from\"../lib/Material.js\";import{OITPolygonOffsetLimit as c}from\"../lib/OrderIndependentTransparency.js\";import{RenderSlot as m}from\"../lib/RenderSlot.js\";import{DefaultBufferWriter as h}from\"./DefaultBufferWriter.js\";import{PositionUVLayoutObjectAndLayerId as f,PositionUVLayout as p}from\"./DefaultLayouts.js\";import{TriangleMaterial as u}from\"./TriangleMaterial.js\";import{WaterGLMaterial as d}from\"./WaterGLMaterial.js\";import{WaterTechniqueConfiguration as g}from\"./WaterTechniqueConfiguration.js\";class _ extends u{constructor(t,e){super(t,v),this.produces=new Map([[m.OPAQUE_MATERIAL,t=>a(t)&&!this.parameters.transparent||s(t)],[m.TRANSPARENT_MATERIAL,t=>a(t)&&this.parameters.transparent||s(t)],[m.DRAPED_MATERIAL,t=>this.parameters.draped&&a(t)||s(t)],[m.DRAPED_WATER,t=>t===o.Normal]]),this._configuration=new g(e.spherical,e.doublePrecisionRequiresObfuscation)}getConfiguration(t,e){return this._configuration.output=t,this._configuration.writeDepth=!0,this._configuration.receiveShadows=e.shadowMap.enabled,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.transparent=this.parameters.transparent,this._configuration.screenSpaceReflections=null!=e.ssr.lastFrameColor,this._configuration.cloudReflections=null!=e.clouds.data,this._configuration.draped=this.parameters.draped,this._configuration.oitPass=e.oitPass,this._configuration.enableOffset=e.camera.relativeElevation<c,this._configuration.terrainDepthTest=e.terrainDepthTest&&a(t),this._configuration.cullAboveTerrain=e.cullAboveTerrain,this._configuration}get visible(){return!0}update(e){return this.setParameters({timeElapsed:t(e.time)*this.parameters.animationSpeed},!1),this._animationEnabled(e.camera)&&e.dt>0}_animationEnabled(t){const e=Math.min(t.relativeElevation,t.distance);return Math.sqrt(this.parameters.waveTextureRepeat/this.parameters.waveStrength)*e<b}createGLMaterial(t){return new d(t)}createBufferWriter(){return new h(n()?f:p)}get test(){}}class v extends l{constructor(){super(...arguments),this.waveStrength=.06,this.waveTextureRepeat=32,this.waveDirection=e(1,0),this.waveVelocity=.05,this.flowStrength=.015,this.flowOffset=-.5,this.animationSpeed=.35,this.timeElapsed=0,this.color=i(0,0,0,0),this.transparent=!0,this.hasSlicePlane=!1,this.draped=!1,this.origin=r(),this.modelTransformation=null}}const b=35e3;export{v as Parameters,_ as WaterMaterial};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nconst e={\"calm-small\":{waveStrength:.005,perturbationStrength:.02,textureRepeat:12,waveVelocity:.01},\"rippled-small\":{waveStrength:.02,perturbationStrength:.09,textureRepeat:32,waveVelocity:.07},\"slight-small\":{waveStrength:.05,perturbationStrength:.07,textureRepeat:28,waveVelocity:.1},\"moderate-small\":{waveStrength:.075,perturbationStrength:.07,textureRepeat:24,waveVelocity:.1},\"calm-medium\":{waveStrength:.003125,perturbationStrength:.01,textureRepeat:8,waveVelocity:.02},\"rippled-medium\":{waveStrength:.035,perturbationStrength:.015,textureRepeat:12,waveVelocity:.07},\"slight-medium\":{waveStrength:.06,perturbationStrength:.015,textureRepeat:8,waveVelocity:.12},\"moderate-medium\":{waveStrength:.09,perturbationStrength:.03,textureRepeat:4,waveVelocity:.12},\"calm-large\":{waveStrength:.01,perturbationStrength:0,textureRepeat:4,waveVelocity:.05},\"rippled-large\":{waveStrength:.025,perturbationStrength:.01,textureRepeat:8,waveVelocity:.11},\"slight-large\":{waveStrength:.06,perturbationStrength:.02,textureRepeat:3,waveVelocity:.13},\"moderate-large\":{waveStrength:.14,perturbationStrength:.03,textureRepeat:2,waveVelocity:.15}};export{e as wavePresets};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../../../Color.js\";import{getMetersPerUnitForSR as t}from\"../../../../core/unitUtils.js\";import{e as r}from\"../../../../chunks/earcut.js\";import{set as o}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{fromValues as i,create as n}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{b as s}from\"../../../../chunks/vec42.js\";import{toRadian as a}from\"../../../../core/libs/gl-matrix-2/math/common.js\";import{create as l,fromBuffer as c,intersectsClippingArea as h,empty as m,expandWithAABB as u}from\"../../../../geometry/support/aaBoundingBox.js\";import{create as p,empty as d,expandPointInPlace as g}from\"../../../../geometry/support/aaBoundingRect.js\";import{newDoubleArray as y,doubleSubArray as f}from\"../../../../geometry/support/DoubleArray.js\";import{perVertexElevationAligner as _}from\"./ElevationAligners.js\";import{SymbolUpdateType as x,elevationModeChangeUpdateType as v,needsElevationUpdates2D as b}from\"./elevationAlignmentUtils.js\";import{Graphics3DDrapedGraphicLayer as C}from\"./Graphics3DDrapedGraphicLayer.js\";import{Graphics3DObject3DGraphicLayer as D}from\"./Graphics3DObject3DGraphicLayer.js\";import{Graphics3DSymbolLayer as j}from\"./Graphics3DSymbolLayer.js\";import{geometryAsPolygon as S,createWaterGeometry as w,PolygonCreationDataBase as G}from\"./polygonUtils.js\";import{geometryToRenderInfo as E,geometryToRenderInfoDraped as A}from\"../../support/renderInfoUtils/polygon.js\";import{Object3D as L}from\"../../webgl-engine/lib/Object3D.js\";import{RenderGeometry as O}from\"../../webgl-engine/lib/RenderGeometry.js\";import{Parameters as P,WaterMaterial as T}from\"../../webgl-engine/materials/WaterMaterial.js\";import{wavePresets as R}from\"../../webgl-engine/materials/internal/waterMaterialUtils.js\";const I=[\"polyline\",\"polygon\",\"extent\"];class B extends j{constructor(e,t,r,o){super(e,t,r,o)}async doLoad(){}destroy(){super.destroy(),this._context.stage.remove(this._materials[0]),this._materials.length=0}createGraphics3DGraphic(e){const t=e.graphic;if(!this._validateGeometry(t.geometry,I,this.symbolLayer.type))return null;const r=this.setGraphicElevationContext(t);return this.ensureDrapedStatus(\"on-the-ground\"===r.mode),this.ensureMaterial(),this.draped?this._createAsOverlay(t):this._createAs3DShape(t,r,t.uid)}ensureMaterial(){if(this._materials[0])return;const t=new P,r=this.symbolLayer.color;null!=r&&(t.color=e.toUnitRGBA(r));const o=this._getCombinedOpacity(r,{hasIntrinsicColor:!0});t.color=[t.color[0],t.color[1],t.color[2],o],t.transparent=o<1||this.needsDrivenTransparentPass,t.waveDirection=null!=this.symbolLayer.waveDirection?U(this.symbolLayer.waveDirection):i(0,0);const n=this.symbolLayer.waveStrength+\"-\"+this.symbolLayer.waterbodySize,s=R[n];t.waveStrength=s.waveStrength,t.waveTextureRepeat=s.textureRepeat,t.waveVelocity=s.waveVelocity,t.flowStrength=s.perturbationStrength,t.hasSlicePlane=this._context.slicePlaneEnabled,t.draped=this.draped,this._materials[0]=new T(t,this._context),this._context.stage.add(this._materials[0])}layerOpacityChanged(){if(null==this._materials[0])return;const e=this._materials[0].parameters.color,t=this._getCombinedOpacity(this.symbolLayer.color,{hasIntrinsicColor:!0}),r=t<1||this.needsDrivenTransparentPass;this._materials[0].setParameters({color:[e[0],e[1],e[2],t],transparent:r})}layerElevationInfoChanged(e,t,r){const o=this._elevationContext.mode,i=v(B.elevationModeChangeTypes,r,o);if(i!==x.UPDATE)return i;const n=b(o);return this.updateGraphics3DGraphicElevationInfo(e,t,(()=>n))}slicePlaneEnabledChanged(){return this._materials[0]?.setParameters({hasSlicePlane:this._context.slicePlaneEnabled}),!0}physicalBasedRenderingChanged(){return!0}_createAs3DShape(e,t,r){const o=S(e.geometry);if(null==o)return null;const i=E(o,this._context.elevationProvider,this._context.renderCoordsHelper,t),n=i.position.length/3,s=y(2*n);M(s,i.mapPositions,n,this._context.elevationProvider.spatialReference);const a=new N(i,s,this._context.layer.uid,e.uid);if(a.objectAndLayerIdColor=this._context.stage.renderView?.getObjectAndLayerIdColor(a),this._create3DShapeGeometries(a),this._logGeometryCreationWarnings(a.renderData,o.rings,\"rings\",\"WaterSymbol3DLayer\"),0===a.outGeometries.length)return null;const l=new L({geometries:a.outGeometries,castShadow:!1,layerUid:this._context.layer.uid,graphicUid:r}),c=new D(this,l,a.outGeometries,null,null,_,t);return c.alignedSampledElevation=a.renderData.sampledElevation,c.needsElevationUpdates=b(t.mode),c}_create3DShapeGeometries(e){const t=e.renderData.polygons,o=e.uvCoords;for(const{count:i,index:n,position:s,mapPositions:a,holeIndices:l}of t){if(null!=this._context.clippingExtent&&(c(a,k),!h(k,this._context.clippingExtent)))continue;const t=r(a,l,3);if(0===t.length)continue;const m=f(o,2*n,2*i),u=w({material:this._materials[0],indices:t,mapPositions:a,attributeData:{position:s,uv0:m}},e.objectAndLayerIdColor);e.outGeometries.push(u)}}_createAsOverlay(e){const t=S(e.geometry);if(null==t)return null;this._materials[0].renderPriority=this._renderPriority;const r=A(t,this._context.overlaySR),o=r.position.length/3,i=y(2*o);M(i,r.position,o,this._context.overlaySR);const n=new H(r,i,this._context.layer.uid,e.uid);return n.objectAndLayerIdColor=this._context.stage.renderView?.getObjectAndLayerIdColor(n),n.outBoundingBox=m(),this._createAsOverlayWater(n),this._logGeometryCreationWarnings(n.renderData,t.rings,\"rings\",\"WaterSymbol3DLayer\"),0===n.outGeometries.length?null:new C(this,n.outGeometries,n.outBoundingBox,this._context.drapeSourceRenderer)}_createAsOverlayWater(e){const t=e.uvCoords,o=e.renderData.polygons;for(const{position:i,holeIndices:n,index:s,count:a}of o){if(c(i,k),!h(k,this._context.clippingExtent))continue;u(e.outBoundingBox,k);const o=r(i,n,3);if(0===o.length)continue;const l=f(t,2*s,2*a),m=w({material:this._materials[0],indices:o,attributeData:{position:i,uv0:l}},e.objectAndLayerIdColor);e.outGeometries.push(new O(m,e))}}test(){return{...super.test(),create3DShape:e=>this._createAs3DShape(e.graphic,e.elevationContext,e.graphicUid),ensureMaterial:()=>this.ensureMaterial()}}}function U(e){const t=n(),r=a(e);return t[0]=Math.sin(r),t[1]=Math.cos(r),t}function M(e,r,i,n){const a=t(n);d(z);for(let t=0;t<i;t++)o(V,r[3*t],r[3*t+1]),g(z,V);s(z,z,a);const l=z[0]%B.unitSizeOfTexture,c=z[1]%B.unitSizeOfTexture;W[0]=z[0]-l,W[1]=z[1]-c;for(let t=0;t<i;t++)e[2*t]=(r[3*t]*a-W[0])/B.unitSizeOfTexture,e[2*t+1]=(r[3*t+1]*a-W[1])/B.unitSizeOfTexture}B.unitSizeOfTexture=100,B.elevationModeChangeTypes={definedChanged:x.RECREATE,staysOnTheGround:x.NONE,onTheGroundChanged:x.RECREATE};const W=n(),z=p(),V=n(),k=l();class N extends G{constructor(e,t,r,o){super(e,r,o),this.uvCoords=t}}class H extends G{constructor(e,t,r,o){super(e,r,o),this.uvCoords=t}}export{B as Graphics3DWaterSymbolLayer,U as headingVectorFromAngle};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport r from\"../../../../core/Logger.js\";import{Graphics3DExtrudeSymbolLayer as o}from\"./Graphics3DExtrudeSymbolLayer.js\";import{Graphics3DIconSymbolLayer as e}from\"./Graphics3DIconSymbolLayer.js\";import{Graphics3DLineSymbolLayer as t}from\"./Graphics3DLineSymbolLayer.js\";import{Graphics3DMeshFillSymbolLayer as i}from\"./Graphics3DMeshFillSymbolLayer.js\";import{Graphics3DObjectSymbolLayer as m}from\"./Graphics3DObjectSymbolLayer.js\";import{Graphics3DPathSymbolLayer as a}from\"./Graphics3DPathSymbolLayer.js\";import{Graphics3DPolygonFillSymbolLayer as s}from\"./Graphics3DPolygonFillSymbolLayer.js\";import{Graphics3DTextSymbolLayer as y}from\"./Graphics3DTextSymbolLayer.js\";import{Graphics3DWaterSymbolLayer as p}from\"./Graphics3DWaterSymbolLayer.js\";function c(o,e,t,i){const m=h[o.type]?.[e.type]||l[e.type];return m?new m(o,e,t,i):(r.getLogger(\"esri.views.3d.layers.graphics.Graphics3DSymbolLayerFactory\").error(\"GraphicsLayerFactory#make\",`unknown symbol type ${e.type}`),null)}const l={icon:e,object:m,line:t,path:a,fill:s,extrude:o,text:y,water:p};function n(r,o){l[r]=o}const h={\"mesh-3d\":{fill:i}};export{c as make,n as setSymbolClass};\n"],
  "mappings": "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",
  "names": ["p", "e", "r", "o", "a", "s", "c", "n", "t", "l", "w", "f", "m", "b", "j", "g", "p", "o", "n", "r", "c", "a", "t", "h", "u", "m", "g", "l", "e", "te", "s", "i", "f", "ot", "y", "t", "e", "r", "s", "u", "o", "i", "n", "a", "b", "_", "l", "_a", "g", "c", "m", "p", "h", "d", "f", "v", "j", "M", "I", "A", "B", "T", "x", "S", "L", "z", "D", "R", "U", "N", "k", "H", "w", "lt", "E", "P", "Mt", "a", "l", "r", "s", "t", "u", "B", "g", "n", "h", "e", "t", "a", "r", "s", "i", "p", "m", "d", "u", "i", "l", "r", "o", "t", "f", "B", "g", "b", "h", "e", "t", "n", "l", "i", "s", "c", "p", "R", "u", "_", "E", "N", "I", "r", "o", "O", "a", "w", "G", "N", "k", "x", "C", "e", "o", "F", "d", "s", "n", "l", "r", "t", "i", "a", "b", "m", "A", "P", "p", "y", "v", "h", "_", "w", "R", "l", "e", "t", "i", "r", "E", "I", "n", "o", "u", "f", "d", "a", "p", "w", "r", "ae", "o", "a", "y", "e", "t", "i", "p", "s", "u", "n", "l", "c", "N", "h", "j", "O", "C", "f", "d", "m", "b", "te", "V", "g", "$", "n", "s", "r", "e", "W", "l", "e", "i", "t", "k", "b", "r", "p", "d", "T", "h", "B", "u", "a", "s", "f", "n", "g", "o", "c", "m", "P", "A", "S", "n", "e", "I", "a", "b", "A", "h", "p", "u", "t", "s", "o", "H", "P", "R", "r", "W", "i", "c", "m", "l", "d", "f", "_", "v", "E", "g", "O", "L", "C", "G", "O", "$", "V", "y", "e", "t", "r", "i", "s", "n", "H", "W", "S", "u", "a", "m", "b", "d", "I", "p", "o", "A", "c", "F", "l", "h", "_", "g", "j", "e", "p", "e", "a", "s", "r", "i", "g", "o", "t", "n", "m", "l", "f", "d", "c", "u", "h", "T", "_", "b", "U", "q", "F", "E", "r", "t", "e", "a", "s", "i", "n", "d", "l", "e", "r", "t", "p", "E", "i", "o", "u", "B", "g", "f", "c", "s", "a", "r", "i", "U", "n", "e", "q", "s", "A", "g", "r", "o", "t", "u", "p", "m", "y", "N", "R", "H", "v", "J", "Y", "$", "E", "_", "B", "D", "V", "G", "k", "c", "W", "j", "P", "O", "M", "b", "Z", "F", "Q", "w", "z", "X", "i", "a", "l", "f", "h", "d", "I", "y", "e", "t", "r", "o", "U", "g", "a", "n", "s", "at", "i", "l", "m", "c", "u", "f", "p", "h", "d", "x", "_", "T", "N", "_a", "j", "E", "A", "q", "it", "b", "V", "L", "w", "ot", "nt", "st", "P", "u", "t", "e", "i", "n", "s", "l", "c", "_", "E", "o", "b", "a", "h", "g", "x", "m", "f", "p", "v", "t", "e", "s", "r", "l", "a", "u", "f", "n", "h", "r", "o", "s", "u", "i", "m", "g", "l", "a", "j", "y", "de", "e", "t", "s", "r", "i", "a", "o", "n", "l", "c", "h", "d", "me", "y", "S", "u", "b", "m", "p", "_", "P", "x", "O", "v", "L", "w", "E", "j", "f", "g", "R", "C", "Q", "k", "V", "ue", "_e", "fe", "A", "D", "pe", "$", "n", "t", "i", "s", "o", "r", "g", "v", "f", "c", "a", "e", "h", "A", "o", "t", "r", "h", "p", "n", "l", "a", "u", "f", "e", "i", "s", "o", "e", "t", "s", "i", "l", "f", "r", "n", "m", "h", "p", "c", "a", "u", "v", "c", "t", "e", "r", "s", "a", "i", "o", "h", "n", "l", "p", "u", "m", "j", "f", "E", "e", "f", "r", "o", "n", "s", "i", "t", "d", "t", "f", "r", "n", "a", "l", "c", "u", "b", "v", "m", "x", "A", "V", "g", "D", "N", "j", "o", "R", "E", "w", "y", "P", "_", "I", "h", "C", "q", "e", "T", "O", "L", "M", "s", "i", "l", "v", "h", "u", "j", "R", "n", "y", "x", "L", "b", "k", "q", "M", "G", "s", "o", "U", "m", "a", "r", "A", "_", "r", "t", "e", "s", "i", "n", "c", "d", "a", "o", "h", "l", "v", "m", "p", "n", "t", "r", "a", "u", "o", "e", "c", "s", "i", "f", "l", "M", "h", "b", "m", "d", "p", "y", "x", "S", "j", "_", "g", "q", "e", "r", "t", "n", "o", "R", "n", "l", "t", "s", "u", "D", "A", "g", "I", "P", "c", "k", "_", "x", "w", "y", "U", "r", "a", "o", "L", "i", "F", "j", "S", "e", "h", "E", "d", "N", "n", "e", "t", "_", "R", "l", "r", "V", "L", "a", "b", "O", "o", "j", "B", "u", "i", "f", "p", "g", "C", "n", "a", "e", "s", "i", "d", "r", "y", "n", "e", "t", "E", "L", "A", "o", "H", "_", "u", "i", "d", "s", "a", "c", "h", "r", "m", "p", "f", "w", "l", "v", "S", "T", "R", "N", "re", "y", "e", "t", "i", "r", "o", "_e", "$", "O", "h", "d", "a", "c", "l", "f", "u", "b", "_", "g", "v", "x", "s", "n", "m", "p", "A", "le", "w", "se", "P", "j", "ae", "S", "D", "C", "ne", "oe", "he", "R", "T", "t", "r", "e", "s", "i", "l", "o", "h", "y", "a", "m", "n", "c", "M", "F", "Y", "_", "D", "x", "A", "V", "O", "P", "E", "f", "q", "v", "G", "g", "u", "I", "p", "N", "S", "d", "k", "w", "U", "S", "l", "e", "t", "C", "j", "b", "r", "i", "s", "m", "d", "g", "A", "o", "I", "B", "u", "a", "f", "n", "R", "N", "n", "a", "e", "d", "r", "i", "P", "e", "I", "n", "j", "b", "A", "i", "u", "S", "f", "t", "o", "R", "H", "y", "s", "a", "E", "c", "p", "r", "l", "L", "s", "e", "r", "a", "A", "l", "P", "t", "c", "u", "o", "n", "i", "M", "m", "z", "H", "$", "N", "y", "e", "t", "i", "r", "O", "J", "s", "P", "K", "n", "W", "u", "m", "b", "o", "d", "p", "k", "M", "a", "A", "c", "l", "q", "T", "g", "h", "i", "r", "c", "a", "n", "o", "l", "f", "e", "s", "s", "o", "a", "l", "t", "e", "_e", "f", "m", "h", "g", "u", "d", "y", "b", "p", "r", "i", "S", "c", "T", "k", "e", "A", "r", "l", "j", "n", "R", "y", "t", "p", "L", "w", "g", "s", "i", "_a", "h", "C", "o", "b", "a", "i", "e", "n", "s", "r", "k", "a", "d", "t", "N", "H", "e", "W", "y", "t", "s", "r", "f", "o", "n", "l", "i", "a", "h", "u", "I", "b", "d", "p", "m", "V", "c", "x", "v", "O", "P", "w", "j", "E", "S", "M", "L", "G", "A", "D", "C", "$", "k", "N", "q", "B", "J", "Y", "Z", "K", "f", "l", "r", "e", "t", "S", "s", "p", "m", "h", "o", "j", "B", "n", "a", "i", "g", "N", "r", "e", "f", "n", "a", "e", "i", "d", "r", "_", "e", "t", "v", "A", "u", "i", "n", "b", "r", "f", "I", "o", "e", "I", "B", "y", "e", "t", "r", "o", "v", "h", "U", "n", "s", "_", "i", "m", "b", "d", "p", "M", "a", "N", "l", "A", "c", "u", "k", "H", "g", "z", "V", "f", "W", "c", "o", "e", "t", "i", "m", "h", "l", "me", "V", "re", "N", "ot", "W", "B", "n", "r"]
}
