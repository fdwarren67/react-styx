{
  "version": 3,
  "sources": ["../../@arcgis/core/chunks/OperatorCut.js", "../../@arcgis/core/geometry/operators/gx/operatorCut.js", "../../@arcgis/core/chunks/cutOperator.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{G as t}from\"./SimpleGeometryCursor.js\";import{G as e,c as s,g as r}from\"./Geometry.js\";import{P as n,a as o,E as m,n as i}from\"./QuadraticBezier.js\";import{g as u,a as c}from\"./Envelope.js\";import{T as a,s as h,k as l,l as d,m as y,C as p}from\"./ProjectionTransformation.js\";var _=p;function g(t,e){return{m_geometry:t,m_side:e}}function f(t,e,s,r,n,o){if(e.isEmpty()){const t=g(e,0);return void n.push(t)}if(s.isEmpty()){const t=g(e,0);return void n.push(t)}const i=[],u=new m;{const m=u.createGeometryUserIndex(),c=u.addGeometry(e),p=u.addGeometry(s),f=new a(o);let C=0,E=null;if(u.hasCurves()){E=new _;const t=u.getEnvelope2D(o);C=h(r.total());const e=l(r.total(),t);d(u,e,r.total(),12e3,E,null,o)}u.dbgVerifyCurves(),f.setEditShapeCrackAndCluster(u,r),f.cut(t,m,c,p,i);for(const t of i){null!==E&&E.stitchCurves(u,t,C,!1);const e=g(u.getGeometry(t),y(u.getGeometryUserIndex(t,m)));n.push(e)}null!==E&&E.clearStitcher(u)}}function C(t,e,s,r,n,u){if(e.isEmpty()){const t=g(e,0);return void n.push(t)}if(s.isEmpty()){const t=g(e,0);return void n.push(t)}const c=[],y=new m;{const t=y.createGeometryUserIndex(),p=y.addGeometry(e),f=y.addGeometry(s),C=new a(u);let E=0,G=null;if(y.hasCurves()){G=new _;const t=y.getEnvelope2D(u);E=h(r.total());const e=l(r.total(),t);d(y,e,r.total(),12e3,G,null,u)}y.dbgVerifyCurves(),C.setEditShapeCrackAndCluster(y,r),C.cut(!1,t,p,f,c),null!==G&&G.stitchCurves(y,i,E,!0);let v=y.getGeometry(p);const w=new o,x=new o,k=[];for(let e=0;e<c.length;e++){let s=null;{const n=new m,o=n.addGeometry(v),a=n.addGeometry(y.getGeometry(c[e]));if(n.hasCurves()){const t=n.getEnvelope2D(u);E=h(r.total());const e=l(r.total(),t);d(n,e,r.total(),12e3,G,null,u)}C.setEditShapeCrackAndCluster(n,r);const p=C.intersection(o,a);if(null!==G&&G.stitchCurves(n,i,E,!0),s=n.getGeometry(p),s.isEmpty())continue;const _=y.getGeometryUserIndex(c[e],t);2===_?w.add(s,!1):1===_?x.add(s,!1):k.push(s)}{const t=new m,s=t.addGeometry(v),n=t.addGeometry(y.getGeometry(c[e]));if(t.hasCurves()){const e=t.getEnvelope2D(u);E=h(r.total());const s=l(r.total(),e);d(t,s,r.total(),12e3,G,null,u)}C.setEditShapeCrackAndCluster(t,r);const o=C.difference(s,n);null!==G&&G.stitchCurves(t,i,E,!0);v=t.getGeometry(o)}}if(!v.isEmpty()&&c.length>0&&k.push(v),w.isEmpty()&&x.isEmpty())return;if(!w.isEmpty()){const t=g(w,1);n.push(t)}if(!x.isEmpty()){const t=g(x,2);n.push(t)}for(let e=0,s=k.length;e<s;++e){const t=g(k[e],3);n.push(t)}}}class E{getOperatorType(){return 10005}accelerateGeometry(t,e,s){return!1}canAccelerateGeometry(t){return!1}supportsCurves(){return!0}execute(t,e,s,r,n){return new G(t,e,s,r,n)}}class G extends t{constructor(t,e,s,r,o){super(),this.m_cutIndex=-1,this.m_cuts=[],this.m_progressTracker=o,this.m_cuttee=e.clone(),this.m_cutter=new n({copy:s}),this.m_bConsiderTouch=t;const m=u(e,s);this.m_tolerance=c(r,m,!0)}next(){return-1===this.m_cutIndex&&this.generateCuts(),++this.m_cutIndex<this.m_cuts.length?this.m_cuts[this.m_cutIndex]:null}getGeometryID(){return this.m_cutIndex}tock(){return!0}getRank(){return 1}generateCuts(){switch(this.m_cuttee.getGeometryType()){case e.enumPolyline:this.generatePolylineCuts();break;case e.enumPolygon:this.generatePolygonCuts()}}generatePolylineCuts(){const t=new n,e=new n,r=new n;this.m_cuts.length=0,this.m_cuts.push(t),this.m_cuts.push(e);const o=[];f(this.m_bConsiderTouch,this.m_cuttee,this.m_cutter,this.m_tolerance,o,this.m_progressTracker);for(let n=0;n<o.length;n++){const m=o[n];1===m.m_side?t.add(m.m_geometry,!1):2===m.m_side||4===m.m_side?e.add(m.m_geometry,!1):3===m.m_side?this.m_cuts.push(m.m_geometry):0===m.m_side?r.add(m.m_geometry,!1):s(\"\")}r.isEmpty()||t.isEmpty()&&e.isEmpty()&&!(this.m_cuts.length>=3)||this.m_cuts.push(r),t.isEmpty()&&e.isEmpty()&&this.m_cuts.length<3&&(this.m_cuts.length=0)}generatePolygonCuts(){const t=new o,e=new o,n=new o;this.m_cuts.length=0,this.m_cuts.push(t),this.m_cuts.push(e);const m=[];C(this.m_bConsiderTouch,this.m_cuttee,this.m_cutter,this.m_tolerance,m,this.m_progressTracker);for(let r=0;r<m.length;r++){const o=m[r];1===o.m_side?t.add(o.m_geometry,!1):2===o.m_side?e.add(o.m_geometry,!1):3===o.m_side?this.m_cuts.push(o.m_geometry):0===o.m_side?n.add(o.m_geometry,!1):s(\"\")}r(n.isEmpty()||1===m.length),t.isEmpty()&&e.isEmpty()&&this.m_cuts.length<3&&(this.m_cuts.length=0)}}export{E as O};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{O as r}from\"../../../chunks/OperatorCut.js\";const t=new r;function n(r,n,o){const u=t.execute(!0,r,n,o,null);return Array.from(u)}function o(){return t.supportsCurves()}export{n as execute,o as supportsCurves};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{isSome as r}from\"../core/arrayUtils.js\";import{supportsCurves as e,execute as o}from\"../geometry/operators/gx/operatorCut.js\";import{getSpatialReference as t,fromSpatialReference as s,fromPolyline as p,fromGeometry as a,toGeometry as u}from\"../geometry/operators/support/apiConverter.js\";function m(e,m){const c=t(e);return o(a(e),p(m),s(c)).map((r=>u(r,c))).filter(r)}const c=e(),i=Object.freeze(Object.defineProperty({__proto__:null,execute:m,supportsCurves:c},Symbol.toStringTag,{value:\"Module\"}));export{i as c,m as e,c as s};\n"],
  "mappings": "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",
  "names": ["t", "n", "o", "i", "m", "c", "f", "C", "E", "e", "G", "x", "s", "a", "p", "_", "t", "n", "o", "m", "c", "n"]
}
