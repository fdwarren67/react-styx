{
  "version": 3,
  "sources": ["../../@arcgis/core/core/sql/UnknownTimeZone.js", "../../@arcgis/core/arcade/ArcadeDate.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{IANAZone as n,Zone as t}from\"luxon\";class o{}function e(n){return n instanceof t?n===o.instance:\"unknown\"===n?.toString().toLowerCase()}function r(n){return e(n)?o.instance:n}o.instance=new n(\"Etc/UTC\");export{o as UnknownTimeZone,e as isUnknownTimeZone,r as substituteUnknownTimezone};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{replace as e}from\"../core/string.js\";import{UnknownTimeZone as t}from\"../core/sql/UnknownTimeZone.js\";import{DateTime as n,Zone as r,FixedOffsetZone as s,IANAZone as i}from\"luxon\";var o;!function(e){e.TimeZoneNotRecognized=\"TimeZoneNotRecognized\"}(o||(o={}));const a={[o.TimeZoneNotRecognized]:\"Timezone identifier has not been recognized.\"};class d extends Error{constructor(t,n){super(e(a[t],n)),this.declaredRootClass=\"esri.arcade.arcadedate.dateerror\",Error.captureStackTrace&&Error.captureStackTrace(this,d)}}function u(e,t,n){return e<t?e-t:e>n?e-n:0}function c(e,t,n){return e<t?t:e>n?n:e}class m{constructor(e){this._date=e,this.declaredRootClass=\"esri.arcade.arcadedate\"}static fromParts(e=0,t=1,r=1,s=0,i=0,o=0,a=0,d){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(s)||isNaN(i)||isNaN(o)||isNaN(a))return null;const l=n.local(e,t).daysInMonth;let f=n.fromObject({day:c(r,1,l),year:e,month:c(t,1,12),hour:c(s,0,23),minute:c(i,0,59),second:c(o,0,59),millisecond:c(a,0,999)},{zone:h(d)});return f=f.plus({months:u(t,1,12),days:u(r,1,l),hours:u(s,0,23),minutes:u(i,0,59),seconds:u(o,0,59),milliseconds:u(a,0,999)}),new m(f)}static get systemTimeZoneCanonicalName(){return Intl.DateTimeFormat().resolvedOptions().timeZone??\"system\"}static arcadeDateAndZoneToArcadeDate(e,n){const r=h(n);return e.isUnknownTimeZone||r===t.instance?m.fromParts(e.year,e.monthJS+1,e.day,e.hour,e.minute,e.second,e.millisecond,r):new m(e._date.setZone(r))}static dateJSToArcadeDate(e){return new m(n.fromJSDate(e,{zone:\"system\"}))}static dateJSAndZoneToArcadeDate(e,t=\"system\"){const r=h(t);return new m(n.fromJSDate(e,{zone:r}))}static unknownEpochToArcadeDate(e){return new m(n.fromMillis(e,{zone:t.instance}))}static unknownDateJSToArcadeDate(e){return new m(n.fromMillis(e.getTime(),{zone:t.instance}))}static epochToArcadeDate(e,t=\"system\"){const r=h(t);return new m(n.fromMillis(e,{zone:r}))}static dateTimeToArcadeDate(e){return new m(e)}clone(){return new m(this._date)}changeTimeZone(e){const t=h(e);return m.dateTimeToArcadeDate(this._date.setZone(t))}static dateTimeAndZoneToArcadeDate(e,n){const r=h(n);return e.zone===t.instance||r===t.instance?m.fromParts(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond,r):new m(e.setZone(r))}static nowToArcadeDate(e){const t=h(e);return new m(n.fromJSDate(new Date,{zone:t}))}static nowUTCToArcadeDate(){return new m(n.utc())}get isSystem(){return\"system\"===this.timeZone||this.timeZone===m.systemTimeZoneCanonicalName}equals(e){return this.isSystem&&e.isSystem?this.toNumber()===e.toNumber():this.isUnknownTimeZone===e.isUnknownTimeZone&&this._date.equals(e._date)}get isUnknownTimeZone(){return this._date.zone===t.instance}get isValid(){return this._date.isValid}get hour(){return this._date.hour}get second(){return this._date.second}get day(){return this._date.day}get dayOfWeekISO(){return this._date.weekday}get dayOfWeekJS(){let e=this._date.weekday;return e>6&&(e=0),e}get millisecond(){return this._date.millisecond}get monthISO(){return this._date.month}get weekISO(){return this._date.weekNumber}get yearISO(){return this._date.weekYear}get monthJS(){return this._date.month-1}get year(){return this._date.year}get minute(){return this._date.minute}get zone(){return this._date.zone}get timeZoneOffset(){return this.isUnknownTimeZone?0:this._date.offset}get timeZone(){if(this.isUnknownTimeZone)return\"unknown\";if(\"system\"===this._date.zone.type)return\"system\";const e=this.zone;return\"fixed\"===e.type?0===e.fixed?\"UTC\":e.formatOffset(0,\"short\"):e.name}stringify(){return JSON.stringify(this.toJSDate())}plus(e){return new m(this._date.plus(e))}diff(e,t=\"milliseconds\"){return this._date.diff(e._date,t)[t]}toISODate(){return this._date.toISODate()}toISOString(e){return e?this._date.toISO({suppressMilliseconds:!0,includeOffset:!this.isUnknownTimeZone}):this._date.toISO({includeOffset:!this.isUnknownTimeZone})}toISOTime(e,t){return this._date.toISOTime({suppressMilliseconds:e,includeOffset:t&&!this.isUnknownTimeZone})}toFormat(e,t){return this.isUnknownTimeZone&&(e=e.replaceAll(\"Z\",\"\")),this._date.toFormat(e,t)}toJSDate(){return this._date.toJSDate()}toSQLValue(){return this._date.toFormat(\"yyyy-LL-dd HH:mm:ss\")}toSQLWithKeyword(){return`timestamp '${this.toSQLValue()}'`}toDateTime(){return this._date}toNumber(){return this._date.toMillis()}getTime(){return this._date.toMillis()}toUTC(){return new m(this._date.toUTC())}toLocal(){return new m(this._date.toLocal())}toString(){return this.toISOString(!0)}static fromReaderAsTimeStampOffset(e){if(!e)return null;const t=n.fromISO(e,{setZone:!0});return new m(t)}}function h(e,n=!0){if(e instanceof r)return e;if(\"system\"===e.toLowerCase())return\"system\";if(\"utc\"===e.toLowerCase())return\"UTC\";if(\"unknown\"===e.toLowerCase())return t.instance;if(/^[+-]?[0-9]{1,2}([:][0-9]{2})?$/.test(e)){const t=s.parseSpecifier(\"UTC\"+(e.startsWith(\"+\")||e.startsWith(\"-\")?\"\":\"+\")+e);if(t)return t}const a=i.create(e);if(!a.isValid){if(n)throw new d(o.TimeZoneNotRecognized);return null}return a}export{m as ArcadeDate,d as ArcadeDateError,o as ArcadeDateErrorCodes,a as arcadeDateErrorMessages,h as createDateTimeZone};\n"],
  "mappings": "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",
  "names": ["r", "o", "e", "r", "a", "d"]
}
