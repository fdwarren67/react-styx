{
  "version": 3,
  "sources": ["../../@arcgis/core/views/webgl/rasterUtils.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ZEROS as e}from\"../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{PixelType as t,SizedPixelFormat as n,PixelFormat as r,TextureSamplingMode as a,TextureWrapMode as i,UniformType as o}from\"./enums.js\";import{Texture as s}from\"./Texture.js\";import{TextureDescriptor as u}from\"./TextureDescriptor.js\";function f(e,o,f=\"nearest\",m=!1){const c=!(m&&\"u8\"===o.pixelType),l=c?t.FLOAT:t.UNSIGNED_BYTE,_=null==o.pixels||0===o.pixels.length?null:c?o.getAsRGBAFloat():o.getAsRGBA(),g=e.capabilities.textureFloatLinear,p=new u;return p.width=o.width,p.height=o.height,p.internalFormat=c?n.RGBA32F:r.RGBA,p.samplingMode=!g||\"bilinear\"!==f&&\"cubic\"!==f?a.NEAREST:a.LINEAR,p.dataType=l,p.wrapMode=i.CLAMP_TO_EDGE,new s(e,p,_)}function m(e,r){const{spacing:o,offsets:f,coefficients:m,size:[c,l]}=r,_=o[0]>1,g=new u;g.width=_?4*c:c,g.height=l,g.internalFormat=n.RGBA32F,g.dataType=t.FLOAT,g.samplingMode=a.NEAREST,g.wrapMode=i.CLAMP_TO_EDGE;const p=new Float32Array(_?c*l*16:2*f.length);if(_&&null!=m)for(let t=0,n=0;t<m.length;t++)p[n++]=m[t],t%3==2&&(p[n++]=1);else for(let t=0;t<l;t++)for(let e=0;e<c;e++){const n=4*(t*c+e),r=2*(e*l+t);p[n]=f[r],p[n+1]=f[r+1],p[n+3]=-1===f[r]?0:1}return new s(e,g,p)}function c(e,t){const n=new u;return n.internalFormat=r.RGBA,n.width=t.length/4,n.height=1,n.samplingMode=a.NEAREST,n.wrapMode=i.CLAMP_TO_EDGE,new s(e,n,t)}function l(t,n,r,a=1,i=!0){return{u_flipY:i,u_applyTransform:!!t,u_opacity:a,u_transformSpacing:t?t.spacing:e,u_transformGridSize:t?t.size:e,u_targetImageSize:n,u_srcImageSize:r}}function _(e,t){return{u_colormapOffset:t||0,u_colormapMaxIndex:e?e.length/4-1:0}}function g(e,t){return{u_scale:e,u_offset:t}}function p(e){return{u_bandCount:e.bandCount,u_minOutput:e.minOutput,u_maxOutput:e.maxOutput,u_minCutOff:e.minCutOff,u_maxCutOff:e.maxCutOff,u_factor:e.factor,u_useGamma:e.useGamma,u_gamma:e.gamma,u_gammaCorrection:e.gammaCorrection}}function A(e){return{u_hillshadeType:e.hillshadeType,u_sinZcosAs:e.sinZcosAs,u_sinZsinAs:e.sinZsinAs,u_cosZs:e.cosZs,u_weights:e.weights,u_factor:e.factor,u_minValue:e.minValue,u_maxValue:e.maxValue}}function T(e,t){const n=e.gl,r=t.glName,a=new Map;if(null==r)return a;const i=n.getProgramParameter(r,n.ACTIVE_UNIFORMS);let o;for(let s=0;s<i;s++)o=n.getActiveUniform(r,s),o&&a.set(o.name,{location:n.getUniformLocation(r,o.name),info:o});return a}function O(e,t,n){Object.keys(n).forEach((r=>{const a=t.get(r)||t.get(r+\"[0]\");a&&E(e,r,n[r],a)}))}function h(e,t,n,r){n.length===r.length&&(r.some((e=>null==e))||n.some((e=>null==e))||n.forEach(((n,a)=>{t.setUniform1i(n,a),e.bindTexture(r[a],a)})))}function E(e,t,n,r){if(null===r||null==n)return!1;const{info:a}=r;switch(a.type){case o.FLOAT:a.size>1?e.setUniform1fv(t,n):e.setUniform1f(t,n);break;case o.FLOAT_VEC2:e.setUniform2fv(t,n);break;case o.FLOAT_VEC3:e.setUniform3fv(t,n);break;case o.FLOAT_VEC4:e.setUniform4fv(t,n);break;case o.FLOAT_MAT3:e.setUniformMatrix3fv(t,n);break;case o.FLOAT_MAT4:e.setUniformMatrix4fv(t,n);break;case o.INT:a.size>1?e.setUniform1iv(t,n):e.setUniform1i(t,n);break;case o.BOOL:e.setUniform1i(t,n?1:0);break;case o.INT_VEC2:case o.BOOL_VEC2:e.setUniform2iv(t,n);break;case o.INT_VEC3:case o.BOOL_VEC3:e.setUniform3iv(t,n);break;case o.INT_VEC4:case o.BOOL_VEC4:e.setUniform4iv(t,n);break;default:return!1}return!0}export{c as createColormapTexture,f as createRasterTexture,m as createTransformTexture,g as getBasicGridUniforms,_ as getColormapUniforms,l as getCommonUniforms,A as getShadedReliefUniforms,p as getStretchUniforms,T as getUniformLocationInfos,h as setTextures,O as setUniforms};\n"],
  "mappings": "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",
  "names": ["o", "f", "m", "c", "l", "_", "g", "p", "e", "r", "n"]
}
