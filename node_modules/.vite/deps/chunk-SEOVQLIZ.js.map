{
  "version": 3,
  "sources": ["../../@arcgis/core/layers/graphics/data/attributeSupport.js", "../../@arcgis/core/layers/graphics/data/QueryEngineCache.js", "../../@arcgis/core/layers/graphics/data/AttributesBuilder.js", "../../@arcgis/core/layers/graphics/data/QueryEngineResult.js", "../../@arcgis/core/layers/graphics/data/queryValidationUtils.js", "../../@arcgis/core/layers/graphics/data/QueryEngine.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Error.js\";import{WhereClauseCache as i}from\"../../../core/sql/WhereClauseCache.js\";import{kebabDict as r}from\"../../support/fieldType.js\";const s=new i(50,500),t=\"unsupported-query\",n=\" as \",o=new Set([\"esriFieldTypeOID\",\"esriFieldTypeSmallInteger\",\"esriFieldTypeBigInteger\",\"esriFieldTypeInteger\",\"esriFieldTypeSingle\",\"esriFieldTypeDouble\",\"esriFieldTypeLong\"]),a=new Set([\"esriFieldTypeDate\",\"esriFieldTypeDateOnly\",\"esriFieldTypeTimeOnly\",\"esriFieldTypeTimestampOffset\"]),l=new Set([\"esriFieldTypeString\",\"esriFieldTypeGUID\",\"esriFieldTypeGlobalID\",...o,...a]);function d(i,r,n={}){const o=c(r,i);if(!o){const n=s.getError(r,i);throw new e(t,\"invalid SQL expression\",{expression:r,error:n})}const a=n.expressionName||\"expression\";if(n.validateStandardized&&!o.isStandardized)throw new e(t,`${a} is not standard`,{expression:r});if(n.validateAggregate&&!o.isAggregate)throw new e(t,`${a} does not contain a valid aggregate function`,{expression:r});return o.fieldNames}function p(e,i,r,s){if(!r)return!0;const t=\"where clause\";return g(e,i,d(e,r,{validateStandardized:!0,expressionName:t}),{expressionName:t,query:s}),!0}function f(i,r,s,n,o){if(!s)return!0;const a=\"having clause\",l=d(i,s,{validateAggregate:!0,expressionName:a});g(i,r,l,{expressionName:a,query:o});const p=c(s,i),f=p?.getExpressions().every((e=>{const{aggregateType:r,field:s}=e,t=i.get(s)?.name;return n.some((e=>{const{onStatisticField:s,statisticType:n}=e,o=i.get(s)?.name;return o===t&&n.toLowerCase().trim()===r}))}));if(!f)throw new e(t,\"expressions in having clause should also exist in outStatistics\",{having:s});return!0}function c(e,i){return e?s.get(e,i):null}function u(e){return/\\((.*?)\\)/.test(e)?e:e.split(n)[0]}function y(e){return e.split(n)[1]}function g(i,r,s,n={}){const o=new Map;if(m(o,i,r,n.allowedFieldTypes??l,s),o.size){const i=n.expressionName??\"expression\";throw new e(t,`${i} contains invalid or missing fields`,{errors:Array.from(o.values()),query:n.query})}}function m(e,i,r,s,t){const n=t.includes(\"*\")?[...r,...t.filter((e=>\"*\"!==e))]:t;for(const a of n){if(i.get(a))T(e,i,r,s,a);else try{const t=d(i,u(a),{validateStandardized:!0});for(const n of t)T(e,i,r,s,n)}catch(o){e.set(a,{type:\"expression-error\",expression:a,error:o})}}}function T(e,i,s,t,n){const o=i.get(n);o?s.has(o.name)?\"all\"!==t&&!1===t?.has(o.type)&&e.set(n,{type:\"invalid-type\",fieldName:o.name,fieldType:r.fromJSON(o.type),allowedFieldTypes:Array.from(t,(e=>r.fromJSON(e)))}):e.set(n,{type:\"missing-field\",fieldName:o.name}):e.set(n,{type:\"invalid-field\",fieldName:n})}export{a as allDateAndTimeFieldTypes,y as getAliasFromFieldName,u as getExpressionFromFieldName,c as getWhereClause,o as numericFieldTypes,g as validateFields,f as validateHaving,p as validateWhere};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport\"../../../core/has.js\";const t=5;class e{constructor(){this._storage=new Map,this._purgeInterval=t,this._sweep=()=>{if(this._timer=void 0,!this._storage)return;const t=1e3*this._purgeInterval,e=performance.now()-t;for(const[s,r]of this._storage){if(!(r.time<e))return void(this._storage.size>0&&(this._timer=setTimeout(this._sweep,t)));this._storage.delete(s)}}}destroy(){this._storage?.clear(),this._storage=null,clearTimeout(this._timer)}put(t,e){this._storage?.set(t,new r(e)),this._scheduleSweep()}get(t){const e=this._storage?.get(t);if(e)return this._storage?.delete(t),e.time=performance.now(),this._storage?.set(t,e),e.items}clear(){this._storage?.clear()}_scheduleSweep(){this._storage&&(this._timer??=setTimeout(this._sweep,1e3*this._purgeInterval))}get test(){}}let s=0;class r{constructor(t){this.items=t,this.time=performance.now(),this.id=s++}}export{e as QueryEngineCache};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{getExpressionFromFieldName as t,getWhereClause as e,getAliasFromFieldName as i}from\"./attributeSupport.js\";import{getGeometry as s}from\"./geometryUtils.js\";import{isDateOnlyField as a,isTimestampOffsetField as l,isTimeOnlyField as r}from\"../../support/fieldUtils.js\";import{timeOnlyToMilliseconds as n}from\"../../../smartMapping/statistics/support/utils.js\";import{processNullValue as u,getNormalizedValue as o}from\"../../../statistics/utils.js\";import{loadArcade as d}from\"../../../support/arcadeOnDemand.js\";class c{constructor(s,a,l){this._fieldDataCache=new Map,this._returnDistinctMap=new Map,this.returnDistinctValues=s.returnDistinctValues??!1,this.fieldsIndex=l,this.featureAdapter=a;const r=s.outFields;if(r&&!r.includes(\"*\")){this.outFields=r;let s=0;for(const a of r){const r=t(a),n=this.fieldsIndex.get(r),u=n?null:e(r,l),o=n?n.name:i(a)||\"FIELD_EXP_\"+s++;this._fieldDataCache.set(a,{alias:o,clause:u})}}}countDistinctValues(t){return this.returnDistinctValues?(t.forEach((t=>this.getAttributes(t))),this._returnDistinctMap.size):t.length}getAttributes(t){const e=this._processAttributesForOutFields(t);return this._processAttributesForDistinctValues(e)}getFieldValue(t,i,s){const a=s?s.name:i;let l=null;return this._fieldDataCache.has(a)?l=this._fieldDataCache.get(a)?.clause:s||(l=e(i,this.fieldsIndex),this._fieldDataCache.set(a,{alias:a,clause:l})),s?this.featureAdapter.getAttribute(t,a):l?.calculateValue(t,this.featureAdapter)}getDataValues(t,e,i=!0){const s=e.normalizationType,d=e.normalizationTotal,c=this.fieldsIndex.get(e.field),h=a(c)||l(c),f=r(c);return t.map((t=>{let a=e.field&&this.getFieldValue(t,e.field,this.fieldsIndex.get(e.field));if(e.field2?(a=`${u(a)}${e.fieldDelimiter}${u(this.getFieldValue(t,e.field2,this.fieldsIndex.get(e.field2)))}`,e.field3&&(a=`${a}${e.fieldDelimiter}${u(this.getFieldValue(t,e.field3,this.fieldsIndex.get(e.field3)))}`)):\"string\"==typeof a&&i&&(h?a=a?new Date(a).getTime():null:f&&(a=a?n(a):null)),s&&Number.isFinite(a)){const i=\"field\"===s&&e.normalizationField?this.getFieldValue(t,e.normalizationField,this.fieldsIndex.get(e.normalizationField)):null;a=o(a,s,i,d)}return a}))}async getExpressionValues(t,e,i,a,l){const{arcadeUtils:r}=await d(),n=r.hasGeometryOperations(e);n&&await r.enableGeometryOperations();const u=r.createFunction(e),o=r.getViewInfo(i),c={fields:this.fieldsIndex.fields};return t.map((t=>{const e={attributes:this.featureAdapter.getAttributes(t),layer:c,geometry:n?{...s(a.geometryType,a.hasZ,a.hasM,this.featureAdapter.getGeometry(t)),spatialReference:i?.spatialReference}:null},d=r.createExecContext(e,o,l);return r.executeFunction(u,d)}))}validateItem(t,i){return this._fieldDataCache.has(i)||this._fieldDataCache.set(i,{alias:i,clause:e(i,this.fieldsIndex)}),this._fieldDataCache.get(i)?.clause?.testFeature(t,this.featureAdapter)??!1}validateItems(t,i){return this._fieldDataCache.has(i)||this._fieldDataCache.set(i,{alias:i,clause:e(i,this.fieldsIndex)}),this._fieldDataCache.get(i)?.clause?.testSet(t,this.featureAdapter)??!1}_processAttributesForOutFields(t){const e=this.outFields;if(!e?.length)return this.featureAdapter.getAttributes(t);const i={};for(const s of e){const{alias:e,clause:a}=this._fieldDataCache.get(s);i[e]=a?a.calculateValue(t,this.featureAdapter):this.featureAdapter.getAttribute(t,e)}return i}_processAttributesForDistinctValues(t){if(null==t||!this.returnDistinctValues)return t;const e=this.outFields,i=[];if(e)for(const l of e){const{alias:e}=this._fieldDataCache.get(l);i.push(t[e])}else for(const l in t)i.push(t[l]);const s=`${(e||[\"*\"]).join(\",\")}=${i.join(\",\")}`;let a=this._returnDistinctMap.get(s)||0;return this._returnDistinctMap.set(s,++a),a>1?null:t}}export{c as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{clone as e}from\"../../../core/lang.js\";import{millisecondsPerTimeUnit as t}from\"../../../core/timeUtils.js\";import{polygonCentroid as i,extentCentroid as s}from\"../../../geometry/support/centroid.js\";import{getPolygonExtent as a,getGeometryExtent as r}from\"../../../geometry/support/extentUtils.js\";import{toQuantizationTransform as n}from\"../../../geometry/support/quantizationUtils.js\";import{isValid as o,equals as l}from\"../../../geometry/support/spatialReferenceUtils.js\";import u from\"./AttributesBuilder.js\";import{cleanFromGeometryEngine as c,getGeometry as m,transformCentroid as d}from\"./geometryUtils.js\";import{project as h}from\"./projectionSupport.js\";import{getDateInNumber as p}from\"./queryUtils.js\";import{makeEdgeCandidate as f,makeVertexCandidate as y}from\"./SnappingCandidate.js\";import{isDateField as g,isDateOnlyField as x,isTimestampOffsetField as T,isStringField as I,isTimeOnlyField as F}from\"../../support/fieldUtils.js\";import _ from\"../../../rest/support/AutoIntervalBinParameters.js\";import V from\"../../../rest/support/DateBinParameters.js\";import v from\"../../../rest/support/FixedBoundariesBinParameters.js\";import b from\"../../../rest/support/FixedIntervalBinParameters.js\";import{isNullCountSupported as S,calculateStringStatistics as R,calculateStatistics as B,processSummaryStatisticsResult as z,calculateUniqueValuesCount as A,createUVResult as w,calculateClassBreaks as M,resolveCBResult as P,calculateHistogram as D,getAttributeComparator as q,calculatePercentile as N,binIndex as Z,getBinParams as j}from\"../../../statistics/utils.js\";const G=\"bin\";class C{constructor(e,t,i){this.items=e,this.query=t,this.geometryType=i.geometryType,this.hasM=i.hasM,this.hasZ=i.hasZ,this.fieldsIndex=i.fieldsIndex,this.objectIdField=i.objectIdField,this.spatialReference=i.spatialReference,this.featureAdapter=i.featureAdapter}get size(){return this.items.length}createQueryResponseForCount(){const e=new u(this.query,this.featureAdapter,this.fieldsIndex);if(!this.query.outStatistics)return e.countDistinctValues(this.items);const{groupByFieldsForStatistics:t,having:i,outStatistics:s}=this.query,a=t?.length;if(!!!a)return 1;const r=new Map,n=new Map,o=new Set;for(const l of s){const{statisticType:s}=l,a=\"exceedslimit\"!==s?l.onStatisticField:void 0;if(!n.has(a)){const i=[];for(const s of t){const t=this._getAttributeValues(e,s,this.items,r);i.push(t)}n.set(a,this._calculateUniqueValues(i,this.items,e.returnDistinctValues))}const u=n.get(a);for(const t in u){const{data:s,items:a}=u[t],r=s.join(\",\");i&&!e.validateItems(a,i)||o.add(r)}}return o.size}async createQueryResponse(){let e;if(this.query.outStatistics){e=this.query.outStatistics.some((e=>\"exceedslimit\"===e.statisticType))?this._createExceedsLimitQueryResponse():await this._createStatisticsQueryResponse(this.query,this.items)}else e=this._createFeatureQueryResponse(this.query);if(this.query.returnQueryGeometry){const t=this.query.geometry;o(this.query.outSR)&&!l(t.spatialReference,this.query.outSR)?e.queryGeometry=c({spatialReference:this.query.outSR,...h(t,t.spatialReference,this.query.outSR)}):e.queryGeometry=c({spatialReference:this.query.outSR,...t})}return e}createSnappingResponse(e,t){const i=this.featureAdapter,s=O(this.hasZ,this.hasM),{point:a,mode:r}=e,n=\"number\"==typeof e.distance?e.distance:e.distance.x,o=\"number\"==typeof e.distance?e.distance:e.distance.y,l={candidates:[]},u=\"esriGeometryPolygon\"===this.geometryType,c=\"esriGeometryPolyline\"===this.geometryType||\"esriGeometryPoint\"===this.geometryType,m=this._getPointCreator(r,this.spatialReference,t),d=new H(null,0),h=new H(null,0),p={x:0,y:0,z:0};for(const g of this.items){const t=i.getGeometry(g);if(null==t)continue;const{coords:r}=t,x=t.isPoint?Q:t.lengths;if(d.coords=r,h.coords=r,e.returnEdge){let e=0;for(let t=0;t<x.length;t++){const r=x[t],c=e;for(let t=0;t<r;t++,e+=s){if(!u&&t===r-1)continue;const y=d;y.coordsIndex=e;const x=h;x.coordsIndex=t===r-1?c:e+s;const T=p;if(!E(p,a,y,x))continue;const I=(a.x-T.x)/n,F=(a.y-T.y)/o,_=I*I+F*F;_<=1&&l.candidates.push(f(i.getObjectId(g),m(T),Math.sqrt(_),m(y),m(x)))}}}if(\"all\"===e.vertexMode){let e=0;for(let t=0;t<x.length;t++){const r=x[t],c=e,p=h;p.coordsIndex=c;for(let t=0;t<r;t++,e+=s){const s=d;if(s.coordsIndex=e,u&&t===r-1&&s.x===p.x&&s.y===p.y)continue;const c=(a.x-s.x)/n,h=(a.y-s.y)/o,f=c*c+h*h;f<=1&&l.candidates.push(y(i.getObjectId(g),m(s),Math.sqrt(f)))}}}else if(c&&\"ends\"===e.vertexMode){let e=0;const t=[];for(let i=0;i<x.length;i++){t.push(e);const a=x[i];e+=a*s,!u&&a>1&&t.push(e-s)}for(const s of t){const e=d;e.coordsIndex=s;const t=(a.x-e.x)/n,r=(a.y-e.y)/o,u=t*t+r*r;u<=1&&l.candidates.push(y(i.getObjectId(g),m(e),Math.sqrt(u)))}}}return l.candidates.sort(((e,t)=>e.distance-t.distance)),l}_getPointCreator(e,t,i){const s=null==i||l(t,i)?e=>e:e=>h(e,t,i),{hasZ:a}=this,r=0;return\"3d\"===e?a?({x:e,y:t,z:i})=>s({x:e,y:t,z:i}):({x:e,y:t})=>s({x:e,y:t,z:r}):({x:e,y:t})=>s({x:e,y:t})}async createSummaryStatisticsResponse(e){const{field:t,valueExpression:i,normalizationField:s,normalizationType:a,normalizationTotal:r,minValue:n,maxValue:o,scale:l,timeZone:u,outStatisticTypes:c}=e,m=this.fieldsIndex.get(t),d=g(m)||x(m)||T(m),h=await this._getDataValues({field:t,valueExpression:i,normalizationField:s,normalizationType:a,normalizationTotal:r,scale:l,timeZone:u},this.items),p=S({normalizationType:a,normalizationField:s,minValue:n,maxValue:o}),f={value:.5,fieldType:m?.type},y=I(m)?R({values:h,supportsNullCount:p,percentileParams:f,outStatisticTypes:c}):B({values:h,minValue:n,maxValue:o,useSampleStdDev:!a,supportsNullCount:p,percentileParams:f,outStatisticTypes:c});return z(y,c,d)}async createUniqueValuesResponse(e){const{field:t,valueExpression:i,domains:s,returnAllCodedValues:a,scale:r,timeZone:n}=e,o=await this._getDataValues({field:t,field2:e.field2,field3:e.field3,fieldDelimiter:e.fieldDelimiter,valueExpression:i,scale:r,timeZone:n},this.items,!1),l=A(o);return w(l,s,a,e.fieldDelimiter)}async createClassBreaksResponse(e){const{field:t,valueExpression:i,normalizationField:s,normalizationType:a,normalizationTotal:r,classificationMethod:n,standardDeviationInterval:o,minValue:l,maxValue:u,numClasses:c,scale:m,timeZone:d}=e,h=await this._getDataValues({field:t,valueExpression:i,normalizationField:s,normalizationType:a,normalizationTotal:r,scale:m,timeZone:d},this.items),p=M(h,{field:t,normalizationField:s,normalizationType:a,normalizationTotal:r,classificationMethod:n,standardDeviationInterval:o,minValue:l,maxValue:u,numClasses:c});return P(p,n)}async createHistogramResponse(e){const{field:t,valueExpression:i,normalizationField:s,normalizationType:a,normalizationTotal:r,classificationMethod:n,standardDeviationInterval:o,minValue:l,maxValue:u,numBins:c,scale:m,timeZone:d}=e,h=await this._getDataValues({field:t,valueExpression:i,normalizationField:s,normalizationType:a,normalizationTotal:r,scale:m,timeZone:d},this.items);return D(h,{field:t,normalizationField:s,normalizationType:a,normalizationTotal:r,classificationMethod:n,standardDeviationInterval:o,minValue:l,maxValue:u,numBins:c})}_sortFeatures(e,t,i){if(e.length>1&&t?.length)for(const s of t.slice().reverse()){const t=s.split(\" \"),a=t[0],r=this.fieldsIndex.get(a),n=!!t[1]&&\"desc\"===t[1].toLowerCase(),o=q(r?.type,n);e.sort(((e,t)=>{const s=i(e,a,r),n=i(t,a,r);return o(s,n)}))}}_createFeatureQueryResponse(e){const{items:t,geometryType:i,hasM:s,hasZ:a,objectIdField:r,spatialReference:o}=this,{outFields:l,outSR:u,quantizationParameters:m,resultRecordCount:d,resultOffset:h,returnZ:p,returnM:f}=e,y=null!=d&&t.length>(h||0)+d,g=l&&(l.includes(\"*\")?[...this.fieldsIndex.fields]:l.map((e=>this.fieldsIndex.get(e))));return{exceededTransferLimit:y,features:this._createFeatures(e,t),fields:g,geometryType:i,hasM:s&&f,hasZ:a&&p,objectIdFieldName:r,spatialReference:c(u||o),transform:m&&n(m)||null}}_createFeatures(e,t){const i=new u(e,this.featureAdapter,this.fieldsIndex),{hasM:s,hasZ:a}=this,{orderByFields:r,quantizationParameters:o,returnGeometry:l,returnCentroid:c,maxAllowableOffset:h,resultOffset:p,resultRecordCount:f,returnZ:y=!1,returnM:g=!1}=e,x=a&&y,T=s&&g;let I=[],F=0;const _=[...t];if(this._sortFeatures(_,r,((e,t,s)=>i.getFieldValue(e,t,s))),this.geometryType&&(l||c)){const e=n(o)??void 0,t=\"esriGeometryPolygon\"===this.geometryType||\"esriGeometryPolyline\"===this.geometryType;if(l&&!c)for(const s of _){const a=this.featureAdapter.getGeometry(s),r={attributes:i.getAttributes(s),geometry:m(this.geometryType,this.hasZ,this.hasM,a,h,e,x,T)};t&&a&&!r.geometry&&(r.centroid=d(this,this.featureAdapter.getCentroid(s,this),e)),I[F++]=r}else if(!l&&c)for(const s of _)I[F++]={attributes:i.getAttributes(s),centroid:d(this,this.featureAdapter.getCentroid(s,this),e)};else for(const s of _)I[F++]={attributes:i.getAttributes(s),centroid:d(this,this.featureAdapter.getCentroid(s,this),e),geometry:m(this.geometryType,this.hasZ,this.hasM,this.featureAdapter.getGeometry(s),h,e,x,T)}}else for(const n of _){const e=i.getAttributes(n);e&&(I[F++]={attributes:e})}const V=p||0;if(null!=f){const e=V+f;I=I.slice(V,Math.min(I.length,e))}return I}_createExceedsLimitQueryResponse(){let e=!1,t=Number.POSITIVE_INFINITY,i=Number.POSITIVE_INFINITY,s=Number.POSITIVE_INFINITY;for(const a of this.query.outStatistics??[])if(\"exceedslimit\"===a.statisticType){t=null!=a.maxPointCount?a.maxPointCount:Number.POSITIVE_INFINITY,i=null!=a.maxRecordCount?a.maxRecordCount:Number.POSITIVE_INFINITY,s=null!=a.maxVertexCount?a.maxVertexCount:Number.POSITIVE_INFINITY;break}if(\"esriGeometryPoint\"===this.geometryType)e=this.items.length>t;else if(this.items.length>i)e=!0;else{const t=O(this.hasZ,this.hasM),i=this.featureAdapter;e=this.items.reduce(((e,t)=>{const s=i.getGeometry(t);return e+(null!=s&&s.coords.length||0)}),0)/t>s}return{fields:[{name:\"exceedslimit\",type:\"esriFieldTypeInteger\",alias:\"exceedslimit\",sqlType:\"sqlTypeInteger\",domain:null,defaultValue:null}],features:[{attributes:{exceedslimit:Number(e)}}]}}async _createStatisticsQueryResponse(e,t,i={attributes:{}}){const s=[],a=new Map,r=new Map,n=new Map,o=new Map,l=new u(e,this.featureAdapter,this.fieldsIndex),c=e.outStatistics,{groupByFieldsForStatistics:m,having:d,orderByFields:h,resultRecordCount:p}=e,f=m?.length,y=!!f,g=y?m[0]:null,x=y&&!this.fieldsIndex.get(g);for(const u of c??[]){const{outStatisticFieldName:e,statisticType:c}=u,h=u,p=\"exceedslimit\"!==c?u.onStatisticField:void 0,T=\"percentile_disc\"===c||\"percentile_cont\"===c,F=\"EnvelopeAggregate\"===c||\"CentroidAggregate\"===c||\"ConvexHullAggregate\"===c,_=y&&1===f&&(p===g||x)&&\"count\"===c;if(y){if(!n.has(p)){const e=[];for(const i of m){const s=this._getAttributeValues(l,i,t,a);e.push(s)}n.set(p,this._calculateUniqueValues(e,t,!F&&l.returnDistinctValues))}const i=n.get(p);if(!i)continue;const s=Object.keys(i);for(const r of s){const{count:s,data:n,items:u,itemPositions:c}=i[r],f=n.join(\",\");if(!d||l.validateItems(u,d)){const i=o.get(f)||{attributes:{}};if(F){i.aggregateGeometries||(i.aggregateGeometries={});const{aggregateGeometries:e,outStatisticFieldName:t}=await this._getAggregateGeometry(h,u);i.aggregateGeometries[t]=e}else{let r=null;if(_)r=s;else{const e=this._getAttributeValues(l,p,t,a),i=c.map((t=>e[t]));r=T&&\"statisticParameters\"in h?this._getPercentileValue(h,i):this._getStatisticValue(h,i,null,l.returnDistinctValues)}i.attributes[e]=r}let r=0;m.forEach(((e,t)=>i.attributes[this.fieldsIndex.get(e)?e:\"EXPR_\"+ ++r]=n[t])),o.set(f,i)}}}else if(F){i.aggregateGeometries||(i.aggregateGeometries={});const{aggregateGeometries:e,outStatisticFieldName:s}=await this._getAggregateGeometry(h,t);i.aggregateGeometries[s]=e}else{const s=this._getAttributeValues(l,p,t,a);i.attributes[e]=T&&\"statisticParameters\"in h?this._getPercentileValue(h,s):this._getStatisticValue(h,s,r,l.returnDistinctValues)}const V=\"min\"!==c&&\"max\"!==c||!I(this.fieldsIndex.get(p))&&!this._isAnyDateField(p)?null:this.fieldsIndex.get(p)?.type;s.push({name:e,alias:e,type:V||\"esriFieldTypeDouble\"})}const T=y?Array.from(o.values()):[i];return this._sortFeatures(T,h,((e,t)=>e.attributes[t])),p&&(T.length=Math.min(p,T.length)),{fields:s,features:T}}_isAnyDateField(e){const t=this.fieldsIndex.get(e);return g(t)||x(t)||T(t)||F(t)}async _getAggregateGeometry(e,t){const{convexHull:n,union:o}=await import(\"../../../geometry/geometryEngineJSON.js\"),{statisticType:l,outStatisticFieldName:u}=e,{featureAdapter:c,spatialReference:d,geometryType:h,hasZ:p,hasM:f}=this,y=t.map((e=>m(h,p,f,c.getGeometry(e)))),g=n(d,y,!0)[0],x={aggregateGeometries:null,outStatisticFieldName:null};if(\"EnvelopeAggregate\"===l){const e=g?a(g):r(o(d,y));x.aggregateGeometries={...e,spatialReference:d},x.outStatisticFieldName=u||\"extent\"}else if(\"CentroidAggregate\"===l){const e=g?i(g):s(r(o(d,y)));x.aggregateGeometries={x:e[0],y:e[1],spatialReference:d},x.outStatisticFieldName=u||\"centroid\"}else\"ConvexHullAggregate\"===l&&(x.aggregateGeometries=g,x.outStatisticFieldName=u||\"convexHull\");return x}_getStatisticValue(e,t,i,s){const{onStatisticField:a,statisticType:r}=e;let n=null;n=i?.has(a)?i.get(a):I(this.fieldsIndex.get(a))||this._isAnyDateField(a)?R({values:t,returnDistinct:s}):B({values:s?[...new Set(t)]:t,minValue:null,maxValue:null,useSampleStdDev:!0}),i&&i.set(a,n);return n[\"var\"===r?\"variance\":r]}_getPercentileValue(e,t){const{onStatisticField:i,statisticParameters:s,statisticType:a}=e,{value:r,orderBy:n}=s,o=this.fieldsIndex.get(i);return N(t,{value:r,orderBy:n,fieldType:o?.type,isDiscrete:\"percentile_disc\"===a})}_getAttributeValues(e,t,i,s){if(s.has(t))return s.get(t);const a=this.fieldsIndex.get(t),r=i.map((i=>e.getFieldValue(i,t,a)));return s.set(t,r),r}_calculateUniqueValues(e,t,i){const s={},a=t.length;for(let r=0;r<a;r++){const a=t[r],n=[];for(const t of e)n.push(t[r]);const o=n.join(\",\");null==s[o]?s[o]={count:1,data:n,items:[a],itemPositions:[r]}:(i||s[o].count++,s[o].items.push(a),s[o].itemPositions.push(r))}return s}async _getDataValues(t,i,s=!0){const a=new u(this.query,this.featureAdapter,this.fieldsIndex),{valueExpression:r,scale:n,timeZone:o}=t;return r?a.getExpressionValues(i,r,{viewingMode:\"map\",scale:n,spatialReference:this.query.outSR||this.spatialReference},{geometryType:this.geometryType,hasZ:this.hasZ,hasM:this.hasM},o):a.getDataValues(i,e(t),s)}async _calculateHistogramBins(e,t,i){if(null==t.min&&null==t.max)return[];const s=t.intervals,a=t.min??0,r=t.max??0,n=s.map((([e,t])=>({minValue:e,maxValue:t,count:0,items:[]})));for(let o=0;o<e.length;o++){const t=e[o],l=i[o];if(null!=t&&t>=a&&t<=r){const e=Z(s,t);e>-1&&(n[e].count++,n[e].items.push(l))}}return n}async createQueryBinsResponse(e){const t=e.bin?.splitBy;if(!t)return this._createBinsResponse(e);const{value:i,outAlias:s,valueType:a}=t,r=[],n=[{name:s??i,alias:s??i,type:a??\"esriFieldTypeString\"},{name:G,alias:G,type:\"esriFieldTypeInteger\"}],o=new u(e,this.featureAdapter,this.fieldsIndex),l=new Map,c=[...this.items];this._sortFeatures(c,[i],((e,t,i)=>o.getFieldValue(e,t,i)));const m=this._getAttributeValues(o,i,c,l),d=this._calculateUniqueValues([m],c,o.returnDistinctValues);for(const u in d){const{items:t}=d[u],a=await this._createBinsResponse(e,t);if(r.push(...a.features.map((e=>({...e,attributes:{...e.attributes,[s??i]:u}})))),a.fields)for(const e of a.fields)n.some((t=>t.name===e.name))||n.push(e)}return{fields:n,features:r}}async _createBinsResponse(e,t){const i=e.bin;switch(t=t??this.items,i.type){case\"autoIntervalBin\":return this._createAutoIntervalBinsResponse(_.fromJSON(i),e,t);case\"dateBin\":return this._createDateBinsResponse(V.fromJSON(i),e,t);case\"fixedBoundariesBin\":return this._createFixedBoundariesBinsResponse(v.fromJSON(i),e,t);case\"fixedIntervalBin\":return this._createFixedIntervalBinsResponse(b.fromJSON(i),e,t)}}async _createAutoIntervalBinsResponse(e,t,i){const{field:s,normalizationField:a,numBins:r,normalizationType:n,normalizationTotal:o,start:l,end:u}=e,c=await this._getDataValues({field:e.field,normalizationField:e.normalizationField,normalizationType:e.normalizationType,normalizationTotal:e.normalizationTotal,timeZone:t.outTimeReference?.ianaTimeZone},i),m=j(c,{field:s,normalizationField:a,normalizationType:n,normalizationTotal:o,numBins:r,minValue:p(l,!1),maxValue:p(u,!1)}),d=await this._calculateHistogramBins(c,m,i);return this._createFeaturesFromHistogramBins(d,t)}async _createDateBinsResponse(e,i,s){const{field:a,interval:r,start:n,end:o}=e,l=r.unit,u=\"quarters\"===l?3*t.months:t[l],c=r.value*u/t.milliseconds,m=await this._getDataValues({field:e.field,timeZone:i.outTimeReference?.ianaTimeZone},s),d=F(this.fieldsIndex.get(a)),h=j(m,{field:a,classificationMethod:\"defined-interval\",definedInterval:c,minValue:p(n,d),maxValue:p(o,d)},!0),f=await this._calculateHistogramBins(m,h,s);return this._createFeaturesFromHistogramBins(f,i)}async _createFixedBoundariesBinsResponse(e,t,i){const{field:s}=e,a=await this._getDataValues({field:s,timeZone:t.outTimeReference?.ianaTimeZone},i),r=F(this.fieldsIndex.get(s)),n=e.boundaries.map((e=>p(e,r))).sort(((e,t)=>e-t)),o=[];for(let c=0;c<n.length-1;c++)o.push([n[c],n[c+1]]);const l={intervals:o,min:n.at(0),max:n.at(-1)},u=await this._calculateHistogramBins(a,l,i);return this._createFeaturesFromHistogramBins(u,t)}async _createFixedIntervalBinsResponse(e,t,i){const{field:s,interval:a,start:r,end:n}=e,o=await this._getDataValues({field:e.field,normalizationField:e.normalizationField,normalizationType:e.normalizationType,normalizationTotal:e.normalizationTotal,timeZone:t.outTimeReference?.ianaTimeZone},i),l=F(this.fieldsIndex.get(s)),u=j(o,{field:s,classificationMethod:\"defined-interval\",definedInterval:a,minValue:p(r,l),maxValue:p(n,l)},!0),c=await this._calculateHistogramBins(o,u,i);return this._createFeaturesFromHistogramBins(c,t)}async _createFeaturesFromHistogramBins(e,t){const{upperBoundaryAlias:i,lowerBoundaryAlias:s}=t,a=s||\"lowerBoundary\",r=i||\"upperBoundary\",n=[],o=[{name:a,alias:a,type:\"esriFieldTypeDouble\"},{name:r,alias:r,type:\"esriFieldTypeDouble\"}],l=t.bin?.stackBy?.value,u=t.bin?.stackBy?.outAlias;l&&o.push({name:G,alias:G,type:\"esriFieldTypeInteger\"},{name:u??l,alias:u??l,type:\"esriFieldTypeString\"});let c=0;for(const m of e){const{minValue:e,maxValue:i,items:s}=m,d={attributes:{}};let h;if(d.attributes[a]=e,d.attributes[r]=i,l?(h=await this._createStatisticsQueryResponse({...t,groupByFieldsForStatistics:[l],orderByFields:[l]},s),d.attributes[G]=++c,\"flat\"===t.bin.jsonStyle?n.push(...h.features.map((({attributes:{EXPR_1:e,...t},...i})=>({...i,attributes:u??e?{...t,[u??e]:e,...d.attributes}:{...t,...d.attributes}})))):(d.stackedAttributes=h.features.map((({attributes:{EXPR_1:e,...t}})=>u??e?{...t,[u??e]:e}:t)),n.push(d))):(t.bin?.splitBy&&(d.attributes[G]=++c),h=await this._createStatisticsQueryResponse(t,s,d),n.push(d)),h.fields)for(const t of h.fields)o.some((e=>e.name===t.name))||o.push(t)}return\"desc\"===t.binOrder&&n.reverse(),{fields:o,features:n}}}function E(e,t,i,s){const a=s.x-i.x,r=s.y-i.y,n=t.x-i.x,o=t.y-i.y,l=a*a+r*r;if(0===l)return!1;const u=n*a+o*r,c=Math.min(1,Math.max(0,u/l));return e.x=i.x+a*c,e.y=i.y+r*c,!0}function O(e,t){return e?t?4:3:t?3:2}class H{constructor(e,t){this.coords=e,this.coordsIndex=t}get x(){return this.coords[this.coordsIndex]}get y(){return this.coords[this.coordsIndex+1]}get z(){return this.coords[this.coordsIndex+2]}}const Q=[1];export{C as QueryEngineResult};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Error.js\";import{numericFieldTypes as t,allDateAndTimeFieldTypes as i,validateFields as s,validateWhere as r,validateHaving as n}from\"./attributeSupport.js\";import{checkProjectionSupport as o}from\"./projectionSupport.js\";import{checkSpatialQuerySupport as a}from\"./spatialQuerySupport.js\";import{loadArcade as l}from\"../../../support/arcadeOnDemand.js\";const u=\"unsupported-query\";async function p(t,i){const s=t.bin;if(!s.onField&&!s.onExpression?.value||\"autoIntervalBin\"===s.type&&null==s.parameters.numberOfBins||\"dateBin\"===s.type&&(null==s.parameters.number||null==s.parameters.unit)||\"fixedBoundariesBin\"===s.type&&null==s.parameters.boundaries||\"fixedIntervalBin\"===s.type&&null==s.parameters.interval)throw new e(u,\"Unsupported query options\",{query:t});return c(t,i)}async function c(t,{fieldsIndex:i,geometryType:s,spatialReference:r,availableFields:n}){if(null!=t.geometryPrecision||t.multipatchOption&&\"xyFootprint\"!==t.multipatchOption||t.pixelSize||t.relationParam||t.text)throw new e(u,\"Unsupported query options\",{query:t});return d(i,n,t),m(i,n,t),Promise.all([a(t,s,r),o(r,t.outSR)]).then((()=>t))}function d(t,i,n){const{outFields:o,orderByFields:a,returnDistinctValues:l,outStatistics:p}=n,c=p?p.map((e=>e.outStatisticFieldName&&e.outStatisticFieldName.toLowerCase())).filter(Boolean):[];if(a&&a.length>0){const e=\" asc\",r=\" desc\",o=a.map((t=>{const i=t.toLowerCase();return i.includes(e)?i.split(e)[0]:i.includes(r)?i.split(r)[0]:t})).filter((e=>!c.includes(e)));s(t,i,o,{expressionName:\"orderByFields\",query:n})}if(o&&o.length>0)s(t,i,o,{expressionName:\"outFields\",query:n,allowedFieldTypes:\"all\"});else if(l)throw new e(u,\"outFields should be specified for returnDistinctValues\",{query:n});r(t,i,n.where,n)}const f=new Set([...t,...i]);function m(t,i,r){const{outStatistics:o,groupByFieldsForStatistics:a,having:l}=r,p=a?.length,c=o?.length;if(l){if(!p||!c)throw new e(u,\"outStatistics and groupByFieldsForStatistics should be specified with having\",{query:r});n(t,i,l,o,r)}if(c){if(!F(o))return;const n=o.map((e=>e.onStatisticField)).filter(Boolean);s(t,i,n,{expressionName:\"onStatisticFields\",query:r}),p&&s(t,i,a,{expressionName:\"groupByFieldsForStatistics\",query:r});for(const a of o){const{onStatisticField:n,statisticType:o}=a;if((\"percentile_disc\"===o||\"percentile_cont\"===o)&&\"statisticParameters\"in a){const{statisticParameters:t}=a;if(!t)throw new e(u,\"statisticParameters should be set for percentile type\",{definition:a,query:r})}else t.get(n)&&\"count\"!==o&&\"min\"!==o&&\"max\"!==o&&s(t,i,[n],{expressionName:`outStatistics with '${o}' statistic type`,allowedFieldTypes:f,query:r})}}}async function y(t,i,{fieldsIndex:s,geometryType:r,spatialReference:n,availableFields:l}){if(null!=t.geometryPrecision||t.multipatchOption||t.pixelSize||t.relationParam||t.text||t.outStatistics||t.groupByFieldsForStatistics||t.having||t.orderByFields)throw new e(u,\"Unsupported query options\",{query:t});return d(s,l,t),Promise.all([h(s,l,i,t),a(t,r,n),o(n,t.outSR)]).then((()=>t))}async function h(t,i,r,n){let o=[];if(r.valueExpression){const{arcadeUtils:e}=await l();o=e.extractFieldNames(r.valueExpression)}if(r.field&&o.push(r.field),r.field2&&o.push(r.field2),r.field3&&o.push(r.field3),r.normalizationField&&o.push(r.normalizationField),!o.length&&!r.valueExpression)throw new e(u,\"field or valueExpression is required\",{params:r});s(t,i,o,{expressionName:\"statistics\",query:n})}function F(e){return null!=e&&e.every((e=>\"exceedslimit\"!==e.statisticType))}export{p as validateAttributeBinsQuery,c as validateQuery,y as validateStatisticsQuery};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{indexOf as e,PositionHint as t}from\"../../../core/arrayUtils.js\";import{toConst as s}from\"../../../core/compilerUtils.js\";import i from\"../../../core/Error.js\";import\"../../../core/has.js\";import r from\"../../../core/JSONSupport.js\";import{clone as a}from\"../../../core/lang.js\";import{removeMaybe as n,destroyMaybe as u}from\"../../../core/maybe.js\";import{signalFromSignalOrOptions as l,throwIfAborted as o}from\"../../../core/promiseUtils.js\";import{getMetersPerUnitForSR as h}from\"../../../core/unitUtils.js\";import{getTransformation as c}from\"../../../geometry/projection.js\";import{set as m,negativeInfinity as f,create as d,expandWithAABB as y}from\"../../../geometry/support/aaBoundingBox.js\";import{fromValues as p,create as g}from\"../../../geometry/support/aaBoundingRect.js\";import{getBoundsXY as x}from\"../../../geometry/support/boundsUtils.js\";import{isExtent as w,isPolygon as F}from\"../../../geometry/support/jsonUtils.js\";import{equals as _,isValid as S}from\"../../../geometry/support/spatialReferenceUtils.js\";import{convertFromGeometry as R}from\"../featureConversionUtils.js\";import{getWhereClause as Q}from\"./attributeSupport.js\";import{cleanFromGeometryEngine as I,getGeometry as j}from\"./geometryUtils.js\";import{project as E,projectMany as b}from\"./projectionSupport.js\";import{QueryEngineCache as A}from\"./QueryEngineCache.js\";import{queryCapabilities as T}from\"./QueryEngineCapabilities.js\";import{QueryEngineResult as v}from\"./QueryEngineResult.js\";import{queryEngineEmptyResult as C,normalizeAttributeBinsQuery as P,normalizeQuery as z}from\"./queryUtils.js\";import{validateAttributeBinsQuery as M,validateQuery as G,validateStatisticsQuery as O}from\"./queryValidationUtils.js\";import{getSpatialQueryOperator as q,canQueryWithRBush as U}from\"./spatialQuerySupport.js\";import{getTimeExtent as k,getTimeOperator as B}from\"./timeSupport.js\";import Z from\"../../support/FieldsIndex.js\";import{noBudget as H}from\"../../../views/support/Scheduler.js\";const J=\"unsupported-query\";class N{constructor(e,t=null,s,i,r){this.attributes=e,this.geometry=s,this.centroid=i,this.filterFlags=r,this.groupId=-1,this.displayId=t}}class L{constructor(e){this._changeHandle=null,this.capabilities={query:T},this.geometryType=e.geometryType,this.hasM=!!e.hasM,this.hasZ=!!e.hasZ,this.objectIdField=e.objectIdField,this.spatialReference=e.spatialReference,this.definitionExpression=e.definitionExpression,this.featureStore=e.featureStore,this.aggregateAdapter=e.aggregateAdapter,this._cache=e.cache??new A,this.timeInfo=e.timeInfo,this._changeHandle=this.featureStore.events.on(\"changed\",(()=>this._clearCache())),this.fieldsIndex=r.isSerializable(e.fieldsIndex)?e.fieldsIndex:Z.fromJSON(e.fieldsIndex),!e.availableFields||1===e.availableFields.length&&\"*\"===e.availableFields[0]?this.availableFields=new Set(this.fieldsIndex.fields.map((e=>e.name))):this.availableFields=new Set(e.availableFields.map((e=>this.fieldsIndex.get(e)?.name)).filter((e=>null!=e))),e.scheduler&&e.priority&&(this._frameTask=e.scheduler.registerTask(e.priority))}destroy(){this._changeHandle=n(this._changeHandle),this._frameTask=n(this._frameTask),this._clearCache(),u(this._cache)}get featureAdapter(){return this.featureStore.featureAdapter}_clearCache(){this._cache.clear(),this._allFeaturesPromise=null,this._timeExtentPromise=null,this._fullExtentPromise=null}async executeQuery(e,t){const s=l(t);try{const t=await this._executeQuery(e,{},s);return await t.createQueryResponse()}catch(i){if(i!==C)throw i;return new v([],e,this).createQueryResponse()}}async executeQueryForCount(e={},t){const s=l(t);try{return(await this._executeQuery(e,{returnGeometry:!1,returnCentroid:!1,outSR:null},s)).createQueryResponseForCount()}catch(i){if(i!==C)throw i;return 0}}async executeQueryForExtent(e,t){const s=l(t),i=e.outSR;try{const t=await this._executeQuery(e,{returnGeometry:!0,returnCentroid:!1,outSR:null},s),r=t.size;if(!r)return{count:0,extent:null};return{count:r,extent:await this._getBounds(t.items,t.spatialReference,i||this.spatialReference)}}catch(r){if(r===C)return{count:0,extent:null};throw r}}async executeQueryForIds(e,t){return this.executeQueryForIdSet(e,t).then((e=>Array.from(e)))}async executeQueryForIdSet(e,t){const s=l(t);try{const t=await this._executeQuery(e,{returnGeometry:!0,returnCentroid:!1,outSR:null},s),i=t.items,r=new Set;return await this.reschedule((()=>{for(const e of i)r.add(t.featureAdapter.getObjectId(e))}),s),r}catch(i){if(i===C)return new Set;throw i}}async executeQueryForLatestObservations(e,t){const s=l(t);if(!this.timeInfo?.trackIdField)throw new i(J,\"Missing timeInfo or timeInfo.trackIdField\",{query:e,timeInfo:this.timeInfo});try{const t=await this._executeQuery(e,{},s);return await this.reschedule((()=>this._filterLatest(t)),s),await t.createQueryResponse()}catch(r){if(r!==C)throw r;return new v([],e,this).createQueryResponse()}}async executeAttributeBinsQuery(e,t){const s=l(t);let i;e=a(e);try{e=await this.schedule((()=>P(e,this.definitionExpression,this.spatialReference)),s),e=await this.reschedule((()=>M(e,{availableFields:this.availableFields,fieldsIndex:this.fieldsIndex,geometryType:this.geometryType,spatialReference:this.spatialReference})),s);const t=await this.reschedule((()=>this._executeSceneFilterQuery(e,s)),s);i=await this.reschedule((()=>this._executeGeometryQuery(e,t,s)),s),await this.reschedule((()=>this._executeAggregateIdsQuery(i)),s),await this.reschedule((()=>this.executeObjectIdsQuery(i)),s),await this.reschedule((()=>this.executeTimeQuery(i)),s),await this.reschedule((()=>this.executeAttributesQuery(i)),s)}catch(r){if(r!==C)throw r;i=new v([],e,this)}return i.createQueryBinsResponse(e)}async executeQueryForSummaryStatistics(e={},t,s){const i=l(s),{field:r,normalizationField:a,valueExpression:n}=t;return(await this._executeQueryForStatistics(e,{field:r,normalizationField:a,valueExpression:n},i)).createSummaryStatisticsResponse(t)}async executeQueryForUniqueValues(e={},t,s){const i=l(s),{field:r,field2:a,field3:n,valueExpression:u}=t;return(await this._executeQueryForStatistics(e,{field:r,field2:a,field3:n,valueExpression:u},i)).createUniqueValuesResponse(t)}async executeQueryForClassBreaks(e={},t,s){const i=l(s),{field:r,normalizationField:a,valueExpression:n}=t;return(await this._executeQueryForStatistics(e,{field:r,normalizationField:a,valueExpression:n},i)).createClassBreaksResponse(t)}async executeQueryForHistogram(e={},t,s){const i=l(s),{field:r,normalizationField:a,valueExpression:n}=t;return(await this._executeQueryForStatistics(e,{field:r,normalizationField:a,valueExpression:n},i)).createHistogramResponse(t)}async fetchRecomputedExtents(e){const t=l(e);this._timeExtentPromise||=k(this.timeInfo,this.featureStore);const[s,i]=await Promise.all([this._getFullExtent(),this._timeExtentPromise]);return o(t),{fullExtent:s,timeExtent:i}}async _getBounds(e,t,s){const i=m(d(),f);await this.featureStore.forEachBounds(e,(e=>y(i,e)));const r={xmin:i[0],ymin:i[1],xmax:i[3],ymax:i[4],spatialReference:I(this.spatialReference)};this.hasZ&&isFinite(i[2])&&isFinite(i[5])&&(r.zmin=i[2],r.zmax=i[5],r.hasZ=!0);const a=E(r,t,s);if(a.spatialReference=I(s),a.xmax-a.xmin==0){const e=h(a.spatialReference);a.xmin-=e,a.xmax+=e}if(a.ymax-a.ymin==0){const e=h(a.spatialReference);a.ymin-=e,a.ymax+=e}if(this.hasZ&&null!=a.zmin&&null!=a.zmax&&a.zmax-a.zmin==0){const e=h(a.spatialReference);a.zmin-=e,a.zmax+=e}return a}_getFullExtent(){return this._fullExtentPromise||=\"getFullExtent\"in this.featureStore&&this.featureStore.getFullExtent?Promise.resolve(this.featureStore.getFullExtent(this.spatialReference)):this._getAllFeatures().then((e=>this._getBounds(e,this.spatialReference,this.spatialReference))),this._fullExtentPromise}async schedule(e,t){return this._frameTask?.schedule(e,t)??e(H)}async reschedule(e,t){return this._frameTask?.reschedule(e,t)??e(H)}async _getAllFeaturesQueryEngineResult(e){return new v(await this._getAllFeatures(),e,this)}async _getAllFeatures(){if(null==this._allFeaturesPromise){const e=[];this._allFeaturesPromise=(async()=>await this.featureStore.forEach((t=>e.push(t))))().then((()=>s(e)))}const e=this._allFeaturesPromise,t=await e;return e===this._allFeaturesPromise?t.slice():this._getAllFeatures()}async _executeQuery(e,t,s){e=a(e),e=await this.schedule((()=>z(e,this.definitionExpression,this.spatialReference)),s),e=await this.reschedule((()=>G(e,{availableFields:this.availableFields,fieldsIndex:this.fieldsIndex,geometryType:this.geometryType,spatialReference:this.spatialReference})),s),e={...e,...t};const i=await this.reschedule((()=>this._executeSceneFilterQuery(e,s)),s),r=await this.reschedule((()=>this._executeGeometryQuery(e,i,s)),s);return await this.reschedule((()=>this._executeAggregateIdsQuery(r)),s),await this.reschedule((()=>this.executeObjectIdsQuery(r)),s),await this.reschedule((()=>this.executeTimeQuery(r)),s),await this.reschedule((()=>this.executeAttributesQuery(r)),s),r}async _executeSceneFilterQuery(e,t){if(null==e.sceneFilter)return null;const{outSR:s,returnGeometry:i,returnCentroid:r}=e,a=this.featureStore.featureSpatialReference,n=e.sceneFilter.geometry,u=null==a||_(a,n.spatialReference)?n:E(n,a);if(!u)return null;const l=i||r,o=S(s)&&!_(this.spatialReference,s)&&l?async e=>this._project(e,s):e=>e,h=this.featureAdapter,c=await this.reschedule((()=>this.searchFeatures(V(u))),t);if(\"disjoint\"===e.sceneFilter.spatialRelationship){if(!c.length)return null;const s=new Set;for(const e of c)s.add(h.getObjectId(e));const i=await this.reschedule((()=>this._getAllFeatures()),t),r=await this.reschedule((async()=>{const r=await q(\"esriSpatialRelDisjoint\",u,this.geometryType,this.hasZ,this.hasM),a=e=>!s.has(h.getObjectId(e))||r(h.getGeometry(e)),n=await this.runSpatialFilter(i,a,t);return new v(n,e,this)}),t);return o(r)}if(!c.length)return new v([],e,this);if(this._canExecuteSinglePass(u,e))return o(new v(c,e,this));const m=await q(\"esriSpatialRelContains\",u,this.geometryType,this.hasZ,this.hasM),f=await this.runSpatialFilter(c,(e=>m(h.getGeometry(e))),t);return o(new v(f,e,this))}async _executeGeometryQuery(s,i,r){if(null!=i&&0===i.items.length)return i;const{geometry:a,outSR:n,returnGeometry:u,returnCentroid:l}=s,o=i?null:this._getCacheKey(s),h=o?this._cache.get(o):null;if(h)return new v(h,s,this);const c=S(n)&&!_(this.spatialReference,n),m=u||l,f=async e=>(c&&m&&await this._project(e,n),o&&this._cache.put(o,e.items),e),d=this.featureStore.featureSpatialReference,y=!a||null==d||_(d,a.spatialReference)?a:E(a,d);if(!y)return f(null!=i?i:await this._getAllFeaturesQueryEngineResult(s));const p=this.featureAdapter;let g=await this.reschedule((()=>this.searchFeatures(V(a))),r);const x=s.spatialRel??\"esriSpatialRelIntersects\";if(\"esriSpatialRelDisjoint\"===x){if(!g.length)return f(null!=i?i:await this._getAllFeaturesQueryEngineResult(s));const e=new Set;for(const s of g)e.add(p.getObjectId(s));const t=null!=i?i.items:await this.reschedule((()=>this._getAllFeatures()),r),a=await this.reschedule((async()=>{const i=await q(x,y,this.geometryType,this.hasZ,this.hasM),a=t=>!e.has(p.getObjectId(t))||i(p.getGeometry(t)),n=await this.runSpatialFilter(t,a,r);return new v(n,s,this)}),r);return f(a)}if(null!=i){const s=new t;g=g.filter((t=>e(i.items,t,i.items.length,s)>=0))}if(!g.length){const e=new v([],s,this);return o&&this._cache.put(o,e.items),e}if(this._canExecuteSinglePass(y,s))return f(new v(g,s,this));const w=await q(x,y,this.geometryType,this.hasZ,this.hasM),F=await this.runSpatialFilter(g,(e=>w(p.getGeometry(e))),r);return f(new v(F,s,this))}_executeAggregateIdsQuery(e){if(0===e.items.length||!e.query.aggregateIds?.length||null==this.aggregateAdapter)return;const t=new Set;for(const i of e.query.aggregateIds){this.aggregateAdapter.getFeatureObjectIds(i).forEach((e=>t.add(e)))}const s=this.featureAdapter.getObjectId;e.items=e.items.filter((e=>t.has(s(e))))}executeObjectIdsQuery(e){if(0===e.items.length||!e.query.objectIds?.length)return;const t=new Set(e.query.objectIds),s=this.featureAdapter.getObjectId;e.items=e.items.filter((e=>t.has(s(e))))}executeTimeQuery(e){if(0===e.items.length)return;const t=B(this.timeInfo,e.query.timeExtent,this.featureAdapter);null!=t&&(e.items=e.items.filter(t))}executeAttributesQuery(e){if(0===e.items.length)return;const t=Q(e.query.where,this.fieldsIndex);if(t){if(!t.isStandardized)throw new TypeError(\"Where clause is not standardized\");e.items=e.items.filter((e=>t.testFeature(e,this.featureAdapter)))}}async runSpatialFilter(e,t,s){if(!t)return e;if(null==this._frameTask)return e.filter((e=>t(e)));let i=0;const r=new Array,a=async n=>{for(;i<e.length;){const u=e[i++];t(u)&&(r.push(u),n.madeProgress()),n.done&&await this.reschedule((e=>a(e)),s)}};return this.reschedule((e=>a(e)),s).then((()=>r))}_filterLatest(e){const{trackIdField:t,startTimeField:s,endTimeField:i}=this.timeInfo,r=i||s,a=new Map,n=this.featureAdapter.getAttribute;for(const u of e.items){const e=n(u,t),s=n(u,r),i=a.get(e);(!i||s>n(i,r))&&a.set(e,u)}e.items=Array.from(a.values())}_getCacheKey(e){const{geometry:t,spatialRel:s,returnGeometry:i,returnCentroid:r,outSR:a,resultType:n,cacheHint:u}=e;if(\"tile\"!==n&&!u)return null;const l=i||r;return S(a)&&!_(this.spatialReference,a)&&l?JSON.stringify([t,s,a]):JSON.stringify([t,s])}_canExecuteSinglePass(e,t){const{spatialRel:s}=t;return U(e)&&(\"esriSpatialRelEnvelopeIntersects\"===s||\"esriGeometryPoint\"===this.geometryType&&(\"esriSpatialRelIntersects\"===s||\"esriSpatialRelContains\"===s))}async _project(e,t){if(!t||_(this.spatialReference,t))return e;const i=this.featureAdapter;let r;try{const e=await this._getFullExtent();r=c(this.spatialReference,t,e)}catch{}const a=await b(e.items.map((e=>j(this.geometryType,this.hasZ,this.hasM,i.getGeometry(e)))),this.spatialReference,t,r);return e.items=s(a.map(((t,s)=>i.cloneWithGeometry(e.items[s],R(t,this.hasZ,this.hasM))))),e}async searchFeatures(e){const t=new Set;await Promise.all(e.map((e=>this.featureStore.forEachInBounds(e,(e=>t.add(e))))));const s=Array.from(t.values());return t.clear(),s}async _executeQueryForStatistics(e,t,s){e=a(e);try{e=await this.schedule((()=>z(e,this.definitionExpression,this.spatialReference)),s),e=await this.reschedule((()=>O(e,t,{availableFields:this.availableFields,fieldsIndex:this.fieldsIndex,geometryType:this.geometryType,spatialReference:this.spatialReference})),s);const i=await this.reschedule((()=>this._executeSceneFilterQuery(e,s)),s),r=await this.reschedule((()=>this._executeGeometryQuery(e,i,s)),s);return await this.reschedule((()=>this._executeAggregateIdsQuery(r)),s),await this.reschedule((()=>this.executeObjectIdsQuery(r)),s),await this.reschedule((()=>this.executeTimeQuery(r)),s),await this.reschedule((()=>this.executeAttributesQuery(r)),s),r}catch(i){if(i!==C)throw i;return new v([],e,this)}}get test(){}}function V(e){if(U(e)){if(w(e))return[p(Math.min(e.xmin,e.xmax),Math.min(e.ymin,e.ymax),Math.max(e.xmin,e.xmax),Math.max(e.ymin,e.ymax))];if(F(e))return e.rings.map((e=>p(Math.min(e[0][0],e[2][0]),Math.min(e[0][1],e[2][1]),Math.max(e[0][0],e[2][0]),Math.max(e[0][1],e[2][1]))))}return[x(g(),e)]}export{N as Feature,L as QueryEngine,V as getQueryBBoxes};\n"],
  "mappings": "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",
  "names": ["s", "r", "t", "n", "o", "a", "l", "d", "i", "c", "p", "e", "g", "f", "_a", "u", "y", "m", "t", "e", "s", "r", "c", "s", "a", "l", "r", "u", "n", "o", "y", "t", "e", "i", "d", "h", "f", "m", "G", "C", "e", "t", "i", "c", "s", "a", "r", "n", "o", "l", "u", "m", "d", "h", "p", "g", "x", "Q", "y", "T", "E", "I", "F", "f", "V", "v", "u", "p", "t", "i", "s", "c", "r", "n", "d", "m", "w", "o", "a", "l", "e", "g", "f", "y", "h", "L", "e", "t", "s", "l", "i", "S", "C", "r", "w", "p", "a", "n", "u", "x", "c", "o", "h", "I", "m", "f", "d", "y", "g", "F", "b"]
}
