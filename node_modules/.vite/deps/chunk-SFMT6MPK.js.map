{
  "version": 3,
  "sources": ["../../@arcgis/core/views/3d/webgl-engine/lib/UpdatePolicy.js", "../../@arcgis/core/views/3d/layers/interfaces.js", "../../@arcgis/core/views/3d/webgl-engine/lib/Object3D.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/RibbonLineTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/materials/RibbonLineMaterial.js", "../../@arcgis/core/views/3d/support/ElevationProvider.js", "../../@arcgis/core/views/3d/layers/graphics/elevationAlignmentUtils.js", "../../@arcgis/core/views/3d/layers/graphics/featureExpressionInfoUtils.js", "../../@arcgis/core/views/3d/layers/graphics/ElevationContext.js", "../../@arcgis/core/views/3d/webgl-engine/lib/DirtyEvents.js", "../../@arcgis/core/views/3d/webgl-engine/lib/WebGLLayer.js", "../../@arcgis/core/views/3d/webgl-engine/lib/LocalOriginFactory.js", "../../@arcgis/core/views/3d/webgl-engine/lib/testUtils.js", "../../@arcgis/core/views/3d/webgl-engine/lib/GridLocalOriginFactory.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nvar C;!function(C){C[C.ASYNC=0]=\"ASYNC\",C[C.SYNC=1]=\"SYNC\"}(C||(C={}));export{C as UpdatePolicy};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nvar e,a,t;!function(e){e[e.RasterImage=0]=\"RasterImage\",e[e.Features=1]=\"Features\"}(e||(e={})),function(e){e[e.MapLayer=0]=\"MapLayer\",e[e.ViewLayer=1]=\"ViewLayer\",e[e.Outline=2]=\"Outline\",e[e.SnappingHint=3]=\"SnappingHint\"}(a||(a={})),function(e){e[e.WithRasterImage=0]=\"WithRasterImage\",e[e.WithoutRasterImage=1]=\"WithoutRasterImage\"}(t||(t={}));export{e as DrapeSourceType,t as DrapeTargetType,a as DrapedRenderGroup};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{copy as t,multiply as e,hasIdentityRotation as i}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{IDENTITY as s,create as r}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{m as o,t as a,j as n,i as m,g as h,p as c,c as l}from\"../../../../chunks/vec32.js\";import{fromValues as d,create as u}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{a as g,c as f}from\"../../../../chunks/sphere.js\";import{maxScale as b}from\"../../support/mathUtils.js\";import{Object3DState as _}from\"./basicInterfaces.js\";import{ContentObject as p}from\"./ContentObject.js\";import{ContentObjectType as v}from\"./ContentObjectType.js\";import{Object3DOccludeeStateID as j,Object3DHighlightStateID as y}from\"./Object3DStateID.js\";import{assert as S}from\"./Util.js\";import{affectsGeometry as x}from\"./VertexAttribute.js\";import{addObject3DStateID as V,removeObject3DStateID as O}from\"../materials/renderers/utils.js\";class A extends p{get geometries(){return this._geometries}get transformation(){return this._transformation??s}set transformation(e){this._transformation=t(this._transformation??r(),e),this._invalidateBoundingVolume(),this._emit(\"transformationChanged\",this)}get shaderTransformation(){return this._shaderTransformation}set shaderTransformation(e){this._shaderTransformation=e?t(this._shaderTransformation??r(),e):null,this._invalidateBoundingVolume(),this._emit(\"shaderTransformationChanged\",this)}get effectiveTransformation(){return this.shaderTransformation??this.transformation}constructor(t={}){super(),this.type=v.Object,this._shaderTransformation=null,this._parentLayer=null,this._visible=!0,this.castShadow=t.castShadow??!0,this.usesVerticalDistanceToGround=t.usesVerticalDistanceToGround??!1,this.graphicUid=t.graphicUid,this.layerUid=t.layerUid,t.isElevationSource&&(this.lastValidElevationBB=new L),this._geometries=t.geometries?Array.from(t.geometries):new Array}dispose(){this._geometries.length=0}get parentLayer(){return this._parentLayer}set parentLayer(t){S(null==this._parentLayer||null==t,\"Object3D can only be added to a single Layer\"),this._parentLayer=t}addGeometry(t){t.visible=this._visible,this._geometries.push(t),this._emit(\"geometryAdded\",{object:this,geometry:t}),this._invalidateBoundingVolume()}removeGeometry(t){const e=this._geometries.splice(t,1)[0];e&&(this._emit(\"geometryRemoved\",{object:this,geometry:e}),this._invalidateBoundingVolume())}removeAllGeometries(){for(;this._geometries.length>0;)this.removeGeometry(0)}geometryVertexAttributeUpdated(t,e,i=!1){this._emit(\"attributesChanged\",{object:this,geometry:t,attribute:e,sync:i}),x(e)&&this._invalidateBoundingVolume()}get visible(){return this._visible}set visible(t){if(this._visible!==t){this._visible=t;for(const t of this._geometries)t.visible=this._visible;this._emit(\"visibilityChanged\",this)}}maskOccludee(){const t=new j;for(const e of this._geometries)e.occludees=V(e.occludees,t);return this._emit(\"occlusionChanged\",this),t}removeOcclude(t){for(const e of this._geometries)e.occludees=O(e.occludees,t);this._emit(\"occlusionChanged\",this)}highlight(t){const e=new y(t);for(const i of this._geometries)i.addHighlight(e);return this._emit(\"highlightChanged\",this),e}removeHighlight(t){for(const e of this._geometries)e.removeHighlight(t);this._emit(\"highlightChanged\",this)}removeStateID(t){t.channel===_.Highlight?this.removeHighlight(t):this.removeOcclude(t)}getCombinedStaticTransformation(t,i){return e(i,this.transformation,t.transformation)}getCombinedShaderTransformation(t,i=r()){return e(i,this.effectiveTransformation,t.transformation)}get boundingVolumeWorldSpace(){return this._bvWorldSpace||(this._bvWorldSpace=this._bvWorldSpace||new M,this._validateBoundingVolume(this._bvWorldSpace,E.WorldSpace)),this._bvWorldSpace}get boundingVolumeObjectSpace(){return this._bvObjectSpace||(this._bvObjectSpace=this._bvObjectSpace||new M,this._validateBoundingVolume(this._bvObjectSpace,E.ObjectSpace)),this._bvObjectSpace}_validateBoundingVolume(t,e){const i=e===E.ObjectSpace;for(const s of this._geometries){const e=s.boundingInfo;e&&T(e,t,i?s.transformation:this.getCombinedShaderTransformation(s))}o(g(t.bounds),t.min,t.max,.5);for(const s of this._geometries){const e=s.boundingInfo;if(null==e)continue;const r=i?s.transformation:this.getCombinedShaderTransformation(s),o=b(r);a(W,e.center,r);const m=n(W,g(t.bounds)),h=e.radius*o;t.bounds[3]=Math.max(t.bounds[3],m+h)}}_invalidateBoundingVolume(){const t=this._bvWorldSpace?.bounds;this._bvObjectSpace=this._bvWorldSpace=void 0,this._parentLayer&&t&&this._parentLayer.notifyObjectBBChanged(this,t)}_emit(t,e){this._parentLayer&&this._parentLayer.events.emit(t,e)}get test(){}}class L{constructor(){this.min=d(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),this.max=d(-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE)}isEmpty(){return this.max[0]<this.min[0]&&this.max[1]<this.min[1]&&this.max[2]<this.min[2]}}class M extends L{constructor(){super(...arguments),this.bounds=f()}}function T(t,e,s){const r=t.bbMin,o=t.bbMax;if(i(s)){const t=m(C,s[12],s[13],s[14]);h(B,r,t),h(U,o,t);for(let i=0;i<3;++i)e.min[i]=Math.min(e.min[i],B[i]),e.max[i]=Math.max(e.max[i],U[i])}else if(a(B,r,s),c(r,o))for(let i=0;i<3;++i)e.min[i]=Math.min(e.min[i],B[i]),e.max[i]=Math.max(e.max[i],B[i]);else{a(U,o,s);for(let t=0;t<3;++t)e.min[t]=Math.min(e.min[t],B[t],U[t]),e.max[t]=Math.max(e.max[t],B[t],U[t]);for(let t=0;t<3;++t){l(B,r),l(U,o),B[t]=o[t],U[t]=r[t],a(B,B,s),a(U,U,s);for(let t=0;t<3;++t)e.min[t]=Math.min(e.min[t],B[t],U[t]),e.max[t]=Math.max(e.max[t],B[t],U[t])}}}const C=u(),B=u(),U=u(),W=u();var E;!function(t){t[t.WorldSpace=0]=\"WorldSpace\",t[t.ObjectSpace=1]=\"ObjectSpace\"}(E||(E={}));export{A as Object3D};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{isColorOrColorEmission as e,ShaderOutput as t}from\"../core/shaderLibrary/ShaderOutput.js\";import{ReloadableShaderModule as i}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{OITPass as l}from\"../lib/OITPass.js\";import{blending as s,oitDepthTest as n,depthWrite as o,getDrawBuffers as u,OITPolygonOffset as p}from\"../lib/OrderIndependentTransparency.js\";import{RenderSlot as c}from\"../lib/RenderSlot.js\";import{stencilWriteMaskOn as a,stencilToolMaskBaseParams as f,stencilBaseAllZerosParams as d,depthCompareAlways as T,stencilToolTransparentOccluderParams as h,stencilWriteMaskOff as O,stencilToolMaskOccluderParams as m,depthCompareLess as E}from\"../lib/StencilUtils.js\";import{VertexAttribute as P}from\"../lib/VertexAttribute.js\";import{R}from\"../../../../chunks/RibbonLine.glsl.js\";import{PrimitiveType as I,SpecialDrawBuffers as b}from\"../../../webgl/enums.js\";import{makePipelineState as N,defaultColorWrite as S,premultipliedAlphaToPremultipliedAlpha as g}from\"../../../webgl/renderState.js\";class A extends r{constructor(e,t){super(e,t,new i(R,(()=>import(\"./RibbonLine.glsl.js\"))),W),this.primitiveType=t.wireframe?I.LINES:I.TRIANGLE_STRIP}_makePipelineState(i,r){const{oitPass:c,output:T,hasOccludees:h,hasPolygonOffset:O}=i,m=c===l.NONE,E=c===l.FrontFace;return N({blending:e(T)?s(c):null,depthTest:{func:n(c)},depthWrite:o(i),drawBuffers:T===t.Depth?{buffers:[b.NONE]}:u(c,T),colorWrite:S,stencilWrite:h?a:null,stencilTest:h?r?f:d:null,polygonOffset:m||E?O?_:null:p})}initializePipeline(e){if(e.occluder){const i=e.hasPolygonOffset?_:null;this._occluderPipelineTransparent=N({blending:g,polygonOffset:i,depthTest:T,depthWrite:null,colorWrite:S,stencilWrite:null,stencilTest:h,drawBuffers:e.output===t.Depth?{buffers:[b.NONE]}:null}),this._occluderPipelineOpaque=N({blending:g,polygonOffset:i,depthTest:T,depthWrite:null,colorWrite:S,stencilWrite:O,stencilTest:m,drawBuffers:e.output===t.Depth?{buffers:[b.NONE]}:null}),this._occluderPipelineMaskWrite=N({blending:null,polygonOffset:i,depthTest:E,depthWrite:null,colorWrite:null,stencilWrite:a,stencilTest:f,drawBuffers:e.output===t.Depth?{buffers:[b.NONE]}:null})}return this._occludeePipeline=this._makePipelineState(e,!0),this._makePipelineState(e,!1)}getPipeline(e,t){if(e)return this._occludeePipeline;switch(t){case c.TRANSPARENT_OCCLUDER_MATERIAL:return this._occluderPipelineTransparent??super.getPipeline();case c.OCCLUDER_MATERIAL:return this._occluderPipelineOpaque??super.getPipeline();default:return this._occluderPipelineMaskWrite??super.getPipeline()}}}const _={factor:0,units:-4},W=new Map([[P.POSITION,0],[P.PREVPOSITION,1],[P.NEXTPOSITION,2],[P.SUBDIVISIONFACTOR,3],[P.UV0,4],[P.COLOR,5],[P.COLORFEATUREATTRIBUTE,5],[P.SIZE,6],[P.SIZEFEATUREATTRIBUTE,6],[P.OPACITYFEATUREATTRIBUTE,7],[P.OBJECTANDLAYERIDCOLOR,8]]);export{A as RibbonLineTechnique,W as vertexAttributeLocations};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Logger.js\";import{clamp as t}from\"../../../../core/mathUtils.js\";import{createRenderScreenPointArray3 as r}from\"../../../../core/screenUtils.js\";import{copy as i}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{i as s,d as a,f as n,h as o,g as l,c,l as p,j as h,t as f}from\"../../../../chunks/vec32.js\";import{create as m}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{ONES as u}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{PlaneIndex as T}from\"../../../../geometry/support/frustum.js\";import{create as d,distance2 as _,fromPoints as E,closestLineSegmentPoint as A}from\"../../../../geometry/support/lineSegment.js\";import{create as R,fromPoints as O,signedDistance as g,getNormal as I}from\"../../../../geometry/support/plane.js\";import{newLayout as S}from\"../../support/buffer/InterleavedLayout.js\";import{isHighlightOrOID as v,isColorOrColorEmission as P,isDepth as N,isColorEmissionHighlightOIDOrDepth as L,is2DGeometryOutput as b,ShaderOutput as C}from\"../core/shaderLibrary/ShaderOutput.js\";import{olidEnabled as U}from\"../effects/geometry/olidUtils.js\";import y from\"../lib/GLMaterial.js\";import{Material as D,RenderOccludedFlag as j}from\"../lib/Material.js\";import{RenderSlot as F}from\"../lib/RenderSlot.js\";import{isTranslationMatrix as w}from\"../lib/Util.js\";import{VertexAttribute as M}from\"../lib/VertexAttribute.js\";import{VisualVariablePassParameters as x}from\"./VisualVariablePassParameters.js\";import{LineMarkerAnchor as B}from\"../shaders/LineMarkerTechniqueConfiguration.js\";import{r as J}from\"../../../../chunks/RibbonLine.glsl.js\";import{vertexAttributeLocations as H,RibbonLineTechnique as z}from\"../shaders/RibbonLineTechnique.js\";import{RibbonLineTechniqueConfiguration as G,CapType as k}from\"../shaders/RibbonLineTechniqueConfiguration.js\";import{alphaCutoff as V}from\"../../../../webscene/support/AlphaCutoff.js\";var Z;!function(e){e[e.LEFT_JOIN_START=-2]=\"LEFT_JOIN_START\",e[e.LEFT_JOIN_END=-1]=\"LEFT_JOIN_END\",e[e.LEFT_CAP_START=-4]=\"LEFT_CAP_START\",e[e.LEFT_CAP_END=-5]=\"LEFT_CAP_END\",e[e.RIGHT_JOIN_START=2]=\"RIGHT_JOIN_START\",e[e.RIGHT_JOIN_END=1]=\"RIGHT_JOIN_END\",e[e.RIGHT_CAP_START=4]=\"RIGHT_CAP_START\",e[e.RIGHT_CAP_END=5]=\"RIGHT_CAP_END\"}(Z||(Z={}));class W extends D{constructor(e){super(e,q),this._configuration=new G,this.vertexAttributeLocations=H,this.produces=new Map([[F.OPAQUE_MATERIAL,e=>v(e)||P(e)&&this.parameters.renderOccluded===j.OccludeAndTransparentStencil],[F.OPAQUE_MATERIAL_WITHOUT_NORMALS,e=>N(e)],[F.OCCLUDER_MATERIAL,e=>L(e)&&this.parameters.renderOccluded===j.OccludeAndTransparentStencil],[F.TRANSPARENT_OCCLUDER_MATERIAL,e=>L(e)&&this.parameters.renderOccluded===j.OccludeAndTransparentStencil],[F.TRANSPARENT_MATERIAL,e=>P(e)&&this.parameters.writeDepth&&this.parameters.renderOccluded!==j.OccludeAndTransparentStencil],[F.TRANSPARENT_MATERIAL_WITHOUT_DEPTH,e=>P(e)&&!this.parameters.writeDepth&&this.parameters.renderOccluded!==j.OccludeAndTransparentStencil],[F.DRAPED_MATERIAL,e=>b(e)]])}getConfiguration(e,t){this._configuration.output=e,this._configuration.oitPass=t.oitPass,this._configuration.draped=t.slot===F.DRAPED_MATERIAL;const r=null!=this.parameters.stipplePattern&&e!==C.Highlight;return this._configuration.stippleEnabled=r,this._configuration.stippleOffColorEnabled=r&&null!=this.parameters.stippleOffColor,this._configuration.stipplePreferContinuous=r&&this.parameters.stipplePreferContinuous,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.roundJoins=\"round\"===this.parameters.join,this._configuration.capType=this.parameters.cap,this._configuration.applyMarkerOffset=null!=this.parameters.markerParameters&&$(this.parameters.markerParameters),this._configuration.hasPolygonOffset=this.parameters.hasPolygonOffset,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.vvSize=!!this.parameters.vvSize,this._configuration.vvColor=!!this.parameters.vvColor,this._configuration.vvOpacity=!!this.parameters.vvOpacity,this._configuration.innerColorEnabled=this.parameters.innerWidth>0&&null!=this.parameters.innerColor,this._configuration.falloffEnabled=this.parameters.falloff>0,this._configuration.hasOccludees=t.hasOccludees,this._configuration.occluder=this.parameters.renderOccluded===j.OccludeAndTransparentStencil,this._configuration.terrainDepthTest=t.terrainDepthTest&&P(e),this._configuration.cullAboveTerrain=t.cullAboveTerrain,this._configuration.wireframe=this.parameters.wireframe,this._configuration}get visible(){return this.parameters.color[3]>=V||null!=this.parameters.stipplePattern&&(this.parameters.stippleOffColor?.[3]??0)>V}intersectDraped({attributes:e,screenToWorldRatio:r},i,s,a,n,o){if(!s.options.selectionMode)return;const l=e.get(M.SIZE);let c=this.parameters.width;if(this.parameters.vvSize){const r=e.get(M.SIZEFEATUREATTRIBUTE).data[0];c*=t(this.parameters.vvSize.offset[0]+r*this.parameters.vvSize.factor[0],this.parameters.vvSize.minSize[0],this.parameters.vvSize.maxSize[0])}else l&&(c*=l.data[0]);const p=a[0],h=a[1],f=(c/2+4)*r;let m=Number.MAX_VALUE,u=0;const T=e.get(M.POSITION).data,d=K(this.parameters,e)?T.length-2:T.length-5;for(let _=0;_<d;_+=3){const e=T[_],r=T[_+1],i=(_+3)%T.length,s=p-e,a=h-r,n=T[i]-e,o=T[i+1]-r,l=t((n*s+o*a)/(n*n+o*o),0,1),c=n*l-s,f=o*l-a,d=c*c+f*f;d<m&&(m=d,u=_/3)}m<f*f&&n(o.dist,o.normal,u,!1)}intersect(r,f,m,u,d,R){if(!m.options.selectionMode||!r.visible)return;if(!w(f))return void e.getLogger(\"esri.views.3d.webgl-engine.materials.RibbonLineMaterial\").error(\"intersection assumes a translation-only matrix\");const S=r.attributes,v=S.get(M.POSITION).data;let P=this.parameters.width;if(this.parameters.vvSize){const e=S.get(M.SIZEFEATUREATTRIBUTE).data[0];P*=t(this.parameters.vvSize.offset[0]+e*this.parameters.vvSize.factor[0],this.parameters.vvSize.minSize[0],this.parameters.vvSize.maxSize[0])}else S.has(M.SIZE)&&(P*=S.get(M.SIZE).data[0]);const N=m.camera,L=se;i(L,m.point);const b=P*N.pixelRatio/2+4*N.pixelRatio;s(ue[0],L[0]-b,L[1]+b,0),s(ue[1],L[0]+b,L[1]+b,0),s(ue[2],L[0]+b,L[1]-b,0),s(ue[3],L[0]-b,L[1]-b,0);for(let e=0;e<4;e++)if(!N.unprojectFromRenderScreen(ue[e],Te[e]))return;O(N.eye,Te[0],Te[1],de),O(N.eye,Te[1],Te[2],_e),O(N.eye,Te[2],Te[3],Ee),O(N.eye,Te[3],Te[0],Ae);let C=Number.MAX_VALUE,U=0;const y=K(this.parameters,S)?v.length-2:v.length-5;for(let e=0;e<y;e+=3){ee[0]=v[e]+f[12],ee[1]=v[e+1]+f[13],ee[2]=v[e+2]+f[14];const t=(e+3)%v.length;if(te[0]=v[t]+f[12],te[1]=v[t+1]+f[13],te[2]=v[t+2]+f[14],g(de,ee)<0&&g(de,te)<0||g(_e,ee)<0&&g(_e,te)<0||g(Ee,ee)<0&&g(Ee,te)<0||g(Ae,ee)<0&&g(Ae,te)<0)continue;if(N.projectToRenderScreen(ee,ae),N.projectToRenderScreen(te,ne),ae[2]<0&&ne[2]>0){a(re,ee,te);const e=N.frustum,t=-g(e[T.NEAR],ee)/n(re,I(e[T.NEAR]));o(re,re,t),l(ee,ee,re),N.projectToRenderScreen(ee,ae)}else if(ae[2]>0&&ne[2]<0){a(re,te,ee);const e=N.frustum,t=-g(e[T.NEAR],te)/n(re,I(e[T.NEAR]));o(re,re,t),l(te,te,re),N.projectToRenderScreen(te,ne)}else if(ae[2]<0&&ne[2]<0)continue;ae[2]=0,ne[2]=0;const r=_(E(ae,ne,ce),L);r<C&&(C=r,c(oe,ee),c(le,te),U=e/3)}const D=m.rayBegin,j=m.rayEnd;if(C<b*b){let e=Number.MAX_VALUE;if(A(E(oe,le,ce),E(D,j,pe),ie)){a(ie,ie,D);const t=p(ie);o(ie,ie,1/t),e=t/h(D,j)}R(e,ie,U,!1)}}get _layout(){const e=S().vec3f(M.POSITION).vec3f(M.PREVPOSITION).vec3f(M.NEXTPOSITION).f32(M.SUBDIVISIONFACTOR).vec2f(M.UV0);return this.parameters.vvSize?e.f32(M.SIZEFEATUREATTRIBUTE):e.f32(M.SIZE),this.parameters.vvColor?e.f32(M.COLORFEATUREATTRIBUTE):e.vec4f(M.COLOR),this.parameters.vvOpacity&&e.f32(M.OPACITYFEATUREATTRIBUTE),U()&&e.vec4u8(M.OBJECTANDLAYERIDCOLOR),e}createBufferWriter(){return new X(this._layout,this.parameters)}createGLMaterial(e){return new Y(e)}validateParameters(e){\"miter\"!==e.join&&(e.miterLimit=0),null!=e.markerParameters&&(e.markerScale=e.markerParameters.width/e.width)}}class Y extends y{constructor(){super(...arguments),this._stipplePattern=null}dispose(){super.dispose(),this._stippleTextures.release(this._stipplePattern),this._stipplePattern=null}beginSlot(e){const t=this._material.parameters.stipplePattern;return this._stipplePattern!==t&&(this._material.setParameters({stippleTexture:this._stippleTextures.swap(t,this._stipplePattern)}),this._stipplePattern=t),this.getTechnique(z,e)}}class q extends x{constructor(){super(...arguments),this.width=0,this.color=u,this.join=\"miter\",this.cap=k.BUTT,this.miterLimit=5,this.writeDepth=!0,this.hasPolygonOffset=!1,this.stippleTexture=null,this.stipplePreferContinuous=!0,this.markerParameters=null,this.markerScale=1,this.hasSlicePlane=!1,this.vvFastUpdate=!1,this.isClosed=!1,this.falloff=0,this.innerWidth=0,this.wireframe=!1}get transparent(){return this.color[3]<1||null!=this.stipplePattern&&(this.stippleOffColor?.[3]??0)<1}}class X{constructor(e,t){this.vertexBufferLayout=e,this._parameters=t,this.numJoinSubdivisions=0;const r=t.stipplePattern?1:0;switch(this._parameters.join){case\"miter\":case\"bevel\":this.numJoinSubdivisions=r;break;case\"round\":this.numJoinSubdivisions=J+r}}_isClosed(e){return K(this._parameters,e)}allocate(e){return this.vertexBufferLayout.createBuffer(e)}elementCount(e){const t=2,r=e.get(M.POSITION).indices.length/2+1,i=this._isClosed(e);let s=i?2:2*t;return s+=((i?r:r-1)-(i?0:1))*(2*this.numJoinSubdivisions+4),s+=2,this._parameters.wireframe&&(s=2+4*(s-2)),s}write(e,t,r,i,a,n){const o=he,l=fe,p=me,m=r.get(M.POSITION),u=m.indices,T=m.data.length/3,d=r.get(M.DISTANCETOSTART)?.data;u&&u.length!==2*(T-1)&&console.warn(\"RibbonLineMaterial does not support indices\");const _=r.get(M.SIZEFEATUREATTRIBUTE)?.data[0]??r.get(M.SIZE)?.data[0]??1;let E=[1,1,1,1],A=0;const R=this.vertexBufferLayout.fields.has(M.COLORFEATUREATTRIBUTE);R?A=r.get(M.COLORFEATUREATTRIBUTE).data[0]:r.has(M.COLOR)&&(E=r.get(M.COLOR).data);const O=this.vertexBufferLayout.fields.has(M.OPACITYFEATUREATTRIBUTE),g=O?r.get(M.OPACITYFEATUREATTRIBUTE).data[0]:0,I=new Float32Array(a.buffer),S=U()?new Uint8Array(a.buffer):null,v=this.vertexBufferLayout.stride/4;let P=n*v;const N=P;let L=0;const b=d?(e,t,r)=>L=d[r]:(e,t,r)=>L+=h(e,t),C=(e,t,r,s,a,n,o)=>{if(I[P++]=t[0],I[P++]=t[1],I[P++]=t[2],I[P++]=e[0],I[P++]=e[1],I[P++]=e[2],I[P++]=r[0],I[P++]=r[1],I[P++]=r[2],I[P++]=s,I[P++]=o,I[P++]=a,I[P++]=_,R)I[P++]=A;else{const e=Math.min(4*n,E.length-4);I[P++]=E[e],I[P++]=E[e+1],I[P++]=E[e+2],I[P++]=E[e+3]}O&&(I[P++]=g),U()&&(i&&(S[4*P]=i[0],S[4*P+1]=i[1],S[4*P+2]=i[2],S[4*P+3]=i[3]),P++)};P+=v,s(l,m.data[0],m.data[1],m.data[2]),e&&f(l,l,e);const y=this._isClosed(r);if(y){const t=m.data.length-3;s(o,m.data[t],m.data[t+1],m.data[t+2]),e&&f(o,o,e)}else s(p,m.data[3],m.data[4],m.data[5]),e&&f(p,p,e),C(l,l,p,1,Z.LEFT_CAP_START,0,0),C(l,l,p,1,Z.RIGHT_CAP_START,0,0),c(o,l),c(l,p);const D=y?0:1,j=y?T:T-1;for(let h=D;h<j;h++){const t=(h+1)%T*3;s(p,m.data[t],m.data[t+1],m.data[t+2]),e&&f(p,p,e),b(o,l,h),C(o,l,p,0,Z.LEFT_JOIN_END,h,L),C(o,l,p,0,Z.RIGHT_JOIN_END,h,L);const r=this.numJoinSubdivisions;for(let e=0;e<r;++e){const t=(e+1)/(r+1);C(o,l,p,t,Z.LEFT_JOIN_END,h,L),C(o,l,p,t,Z.RIGHT_JOIN_END,h,L)}C(o,l,p,1,Z.LEFT_JOIN_START,h,L),C(o,l,p,1,Z.RIGHT_JOIN_START,h,L),c(o,l),c(l,p)}y?(s(p,m.data[3],m.data[4],m.data[5]),e&&f(p,p,e),L=b(o,l,j),C(o,l,p,0,Z.LEFT_JOIN_END,D,L),C(o,l,p,0,Z.RIGHT_JOIN_END,D,L)):(L=b(o,l,j),C(o,l,l,0,Z.LEFT_CAP_END,j,L),C(o,l,l,0,Z.RIGHT_CAP_END,j,L)),Q(I,N+v,I,N,v);P=Q(I,P-v,I,P,v),this._parameters.wireframe&&this._addWireframeVertices(a,N,P,v)}_addWireframeVertices(e,t,r,i){const s=new Float32Array(e.buffer,r*Float32Array.BYTES_PER_ELEMENT),a=new Float32Array(e.buffer,t*Float32Array.BYTES_PER_ELEMENT,r-t);let n=0;const o=e=>n=Q(a,e,s,n,i);for(let l=0;l<a.length-1;l+=2*i)o(l),o(l+2*i),o(l+1*i),o(l+2*i),o(l+1*i),o(l+3*i)}}function Q(e,t,r,i,s){for(let a=0;a<s;a++)r[i++]=e[t++];return i}function K(e,t){if(!e.isClosed)return!1;return t.get(M.POSITION).indices.length>2}function $(e){return e.anchor===B.Tip&&e.hideOnShortSegments&&\"begin-end\"===e.placement&&e.worldSpace}const ee=m(),te=m(),re=m(),ie=m(),se=m(),ae=r(),ne=r(),oe=m(),le=m(),ce=d(),pe=d(),he=m(),fe=m(),me=m(),ue=[r(),r(),r(),r()],Te=[m(),m(),m(),m()],de=R(),_e=R(),Ee=R(),Ae=R();export{q as Parameters,W as RibbonLineMaterial};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{isDehydratedPoint as e}from\"../../../layers/graphics/dehydratedFeatureUtils.js\";class r{constructor(e,r=null,t=0){this.array=e,this.spatialReference=r,this.offset=t}}function t(e){return\"array\"in e}function a(r,a,n=\"ground\"){if(e(a))return r.getElevation(a.x,a.y,a.z||0,a.spatialReference,n);if(t(a)){let e=a.offset;return r.getElevation(a.array[e++],a.array[e++],a.array[e]||0,a.spatialReference??r.spatialReference,n)}return r.getElevation(a[0],a[1],a[2]||0,r.spatialReference,n)}export{r as SamplePosition,a as getElevationAtPoint,t as isSamplePosition};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{copy as e}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as t}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{create as n}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{computeTranslationToOriginAndRotation as o}from\"../../../../geometry/projection/computeTranslationToOriginAndRotation.js\";import{projectBuffer as r}from\"../../../../geometry/projection/projectBuffer.js\";import{isDehydratedPoint as i}from\"../../../../layers/graphics/dehydratedFeatureUtils.js\";import{isSamplePosition as a,getElevationAtPoint as s}from\"../../support/ElevationProvider.js\";import{VertexAttribute as l}from\"../../webgl-engine/lib/VertexAttribute.js\";function u(e,t,n,o,i,a,s,l,u,c,f){const m=x[f.mode];let d,g,p=0;if(r(e,t,n,o,u.spatialReference,i,l))return m?.requiresAlignment(f)?(p=m.applyElevationAlignmentBuffer(o,i,a,s,l,u,c,f),d=a,g=s):(d=o,g=i),r(d,u.spatialReference,g,a,c.spatialReference,s,l)?p:void 0}function c(e,t,n,o,r){const l=(i(e)?e.z:a(e)?e.array[e.offset+2]:e[2])||0;switch(n.mode){case\"on-the-ground\":{const n=s(t,e,\"ground\")??0;return r.verticalDistanceToGround=0,r.sampledElevation=n,void(r.z=n)}case\"relative-to-ground\":{const i=s(t,e,\"ground\")??0,a=n.geometryZWithOffset(l,o);return r.verticalDistanceToGround=a,r.sampledElevation=i,void(r.z=a+i)}case\"relative-to-scene\":{const i=s(t,e,\"scene\")??0,a=n.geometryZWithOffset(l,o);return r.verticalDistanceToGround=a,r.sampledElevation=i,void(r.z=a+i)}case\"absolute-height\":{const i=n.geometryZWithOffset(l,o),a=s(t,e,\"ground\")??0;return r.verticalDistanceToGround=i-a,r.sampledElevation=a,void(r.z=i)}default:return void(r.z=0)}}function f(e,t,n,o){return c(e,t,n,o,D),D.z}function m(e,t,n){return\"on-the-ground\"===t&&\"on-the-ground\"===n?e.staysOnTheGround:t===n||\"on-the-ground\"!==t&&\"on-the-ground\"!==n?null==t||null==n?e.definedChanged:b.UPDATE:e.onTheGroundChanged}function d(e){return\"relative-to-ground\"===e||\"relative-to-scene\"===e}function g(e){return\"absolute-height\"!==e}function p(t,n,r,i,a){c(n,r,a,i,D),E(t,D.verticalDistanceToGround);const s=D.sampledElevation,l=e(C,t.transformation);O[0]=n.x,O[1]=n.y,O[2]=D.z;return o(n.spatialReference,O,l,i.spatialReference)?t.transformation=l:console.warn(\"Could not locate symbol object properly, it might be misplaced\"),s}function E(e,t){for(let n=0;n<e.geometries.length;++n){const o=e.geometries[n].getMutableAttribute(l.CENTEROFFSETANDDISTANCE);o&&o.data[3]!==t&&(o.data[3]=t,e.geometryVertexAttributeUpdated(e.geometries[n],l.CENTEROFFSETANDDISTANCE))}}function v(e,t,n,o,r,i){let a=0;const s=i.spatialReference;t*=3,o*=3;for(let l=0;l<r;++l){const r=e[t],l=e[t+1],u=e[t+2],c=i.getElevation(r,l,u,s,\"ground\")??0;a+=c,n[o]=r,n[o+1]=l,n[o+2]=c,t+=3,o+=3}return a/r}function h(e,t,n,o,r,i,a,s){let l=0;const u=s.calculateOffsetRenderUnits(a),c=s.featureExpressionInfoContext,f=i.spatialReference;t*=3,o*=3;for(let m=0;m<r;++m){const r=e[t],a=e[t+1],s=e[t+2],m=i.getElevation(r,a,s,f,\"ground\")??0;l+=m,n[o]=r,n[o+1]=a,n[o+2]=null==c?s+m+u:m+u,t+=3,o+=3}return l/r}function A(e,t,n,o,r,i,a,s){let l=0;const u=s.calculateOffsetRenderUnits(a),c=s.featureExpressionInfoContext,f=i.spatialReference;t*=3,o*=3;for(let m=0;m<r;++m){const r=e[t],a=e[t+1],s=e[t+2],m=i.getElevation(r,a,s,f,\"scene\")??0;l+=m,n[o]=r,n[o+1]=a,n[o+2]=null==c?s+m+u:m+u,t+=3,o+=3}return l/r}function T(e){const t=e.meterUnitOffset,n=e.featureExpressionInfoContext;return 0!==t||null!=n}function y(e,t,n,o,r,i,a,s){const l=s.calculateOffsetRenderUnits(a),u=s.featureExpressionInfoContext;t*=3,o*=3;for(let c=0;c<r;++c){const r=e[t],i=e[t+1],a=e[t+2];n[o]=r,n[o+1]=i,n[o+2]=null==u?a+l:l,t+=3,o+=3}return 0}class R{constructor(){this.verticalDistanceToGround=0,this.sampledElevation=0,this.z=0}}var b;!function(e){e[e.NONE=0]=\"NONE\",e[e.UPDATE=1]=\"UPDATE\",e[e.RECREATE=2]=\"RECREATE\"}(b||(b={}));const x={\"absolute-height\":{applyElevationAlignmentBuffer:y,requiresAlignment:T},\"on-the-ground\":{applyElevationAlignmentBuffer:v,requiresAlignment:()=>!0},\"relative-to-ground\":{applyElevationAlignmentBuffer:h,requiresAlignment:()=>!0},\"relative-to-scene\":{applyElevationAlignmentBuffer:A,requiresAlignment:()=>!0}},C=t(),D=new R,O=n();export{R as SampleElevationInfo,b as SymbolUpdateType,p as applyElevationAlignmentForHUD,u as applyPerVertexElevationAlignment,m as elevationModeChangeUpdateType,f as evaluateElevationAlignmentAtPoint,c as evaluateElevationInfoAtPoint,d as needsElevationUpdates2D,g as needsElevationUpdates3D,E as updateVertexPointGroundDistance};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Logger.js\";import{throwIfAborted as t}from\"../../../../core/promiseUtils.js\";import{hydrateGeometry as r}from\"../../../../layers/graphics/hydratedFeatures.js\";import{loadArcade as n}from\"../../../../support/arcadeOnDemand.js\";const c=()=>e.getLogger(\"esri.views.3d.layers.graphics.featureExpressionInfoUtils\");function o(e){return{cachedResult:e.cachedResult,arcade:e.arcade?{func:e.arcade.func,context:e.arcade.modules.arcadeUtils.createExecContext(null,{sr:e.arcade.context.spatialReference}),modules:e.arcade.modules}:null}}function u(e){const t=e?.expression;if(\"string\"==typeof t){const e=m(t);if(null!=e)return{cachedResult:e}}return null}async function a(e,r,c,o){const u=e?.expression;if(\"string\"!=typeof u)return null;const a=m(u);if(null!=a)return{cachedResult:a};const s=await n();t(c);const l=s.arcadeUtils,i=l.createSyntaxTree(u);return l.dependsOnView(i)?(null!=o&&o.error(\"Expressions containing '$view' are not supported on ElevationInfo\"),{cachedResult:0}):{arcade:{func:l.createFunction(i),context:l.createExecContext(null,{sr:r}),modules:s}}}function s(e,t,r){return e.arcadeUtils.createFeature(t.attributes,t.geometry,r)}function l(e,t){if(null!=e&&!p(e)){if(!t||!e.arcade)return void c().errorOncePerTick(\"Arcade support required but not provided\");const n=t;n._geometry&&(n._geometry=r(n._geometry)),e.arcade.modules.arcadeUtils.updateExecContext(e.arcade.context,t)}}function i(e){if(null!=e){if(p(e))return e.cachedResult;const t=e.arcade;let r=t?.modules.arcadeUtils.executeFunction(t.func,t.context);return\"number\"!=typeof r&&(e.cachedResult=0,r=0),r}return 0}function d(e,t=!1){let r=e?.featureExpressionInfo;const n=r?.expression;return t||\"0\"===n||(r=null),r??null}const f={cachedResult:0};function p(e){return null!=e.cachedResult}function m(e){return\"0\"===e?0:null}export{o as clone,a as createContext,u as createContextWithoutExpressionSupport,s as createFeature,i as execute,d as extractExpressionInfo,l as setContextFeature,f as zeroContext};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{getMetersPerUnit as t,supportsUnit as e}from\"../../../../symbols/support/unitConversionUtils.js\";import{execute as n,clone as s,setContextFeature as i,createFeature as r}from\"./featureExpressionInfoUtils.js\";class o{constructor(){this._meterUnitOffset=0,this._renderUnitOffset=0,this._unit=\"meters\",this._metersPerElevationInfoUnit=1,this._featureExpressionInfoContext=null,this.centerPointInElevationSR=null,this.mode=null}get featureExpressionInfoContext(){return this._featureExpressionInfoContext}get meterUnitOffset(){return this._meterUnitOffset}get unit(){return this._unit}set unit(e){this._unit=e,this._metersPerElevationInfoUnit=t(e)}get requiresSampledElevationInfo(){return\"absolute-height\"!==this.mode}reset(){this.mode=null,this._meterUnitOffset=0,this._renderUnitOffset=0,this._featureExpressionInfoContext=null,this.unit=\"meters\"}set offsetMeters(t){this._meterUnitOffset=t,this._renderUnitOffset=0}set offsetElevationInfoUnits(t){this._meterUnitOffset=t*this._metersPerElevationInfoUnit,this._renderUnitOffset=0}addOffsetRenderUnits(t){this._renderUnitOffset+=t}geometryZWithOffset(t,e){const n=this.calculateOffsetRenderUnits(e);return null!=this.featureExpressionInfoContext?n:t+n}calculateOffsetRenderUnits(t){let e=this._meterUnitOffset;const s=this.featureExpressionInfoContext;return null!=s&&(e+=n(s)*this._metersPerElevationInfoUnit),e/t.unitInMeters+this._renderUnitOffset}setFromElevationInfo(t){this.mode=t.mode,this.unit=e(t.unit)?t.unit:\"meters\",this.offsetElevationInfoUnits=t.offset??0}updateFeatureExpressionInfoContext(t,e,n){if(null==t)return void(this._featureExpressionInfoContext=null);const o=t?.arcade;o&&null!=e&&null!=n?(this._featureExpressionInfoContext=s(t),i(this._featureExpressionInfoContext,r(o.modules,e,n))):this._featureExpressionInfoContext=t}static fromElevationInfo(t){const e=new o;return null!=t&&e.setFromElevationInfo(t),e}}export{o as ElevationContext};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nconst e=[\"layerObjectAdded\",\"layerObjectRemoved\",\"layerObjectsAdded\",\"layerObjectsRemoved\",\"transformationChanged\",\"shaderTransformationChanged\",\"visibilityChanged\",\"occlusionChanged\",\"highlightChanged\",\"geometryAdded\",\"geometryRemoved\",\"attributesChanged\"];export{e as DirtyEventNames};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Evented.js\";import t from\"../../../../core/Handles.js\";import{destroyMaybe as s}from\"../../../../core/maybe.js\";import i from\"../../../../core/PooledArray.js\";import{ContentObject as r}from\"./ContentObject.js\";import{ContentObjectType as o}from\"./ContentObjectType.js\";import{DirtyEventNames as h}from\"./DirtyEvents.js\";import d from\"./Octree.js\";import{UpdatePolicy as c}from\"./UpdatePolicy.js\";class a extends r{constructor(s,r,d=\"\"){super(),this.stage=s,this.apiLayerUid=d,this.type=o.Layer,this.events=new e,this.visible=!0,this.sliceable=!1,this._objectsAdded=new i,this._handles=new t,this._objects=new i,this._pickable=!0,this.visible=r?.visible??!0,this._pickable=r?.pickable??!0,this.updatePolicy=r?.updatePolicy??c.ASYNC,this._disableOctree=r?.disableOctree??!1,s.add(this);for(const e of h)this._handles.add(this.events.on(e,(t=>s.handleEvent(e,t))))}destroy(){this._handles.size&&(this._handles.destroy(),this.stage.remove(this),this.invalidateSpatialQueryAccelerator())}get objects(){return this._objects}set pickable(e){this._pickable=e}get pickable(){return this._pickable&&this.visible}add(e){this._objects.push(e),e.parentLayer=this,this.events.emit(\"layerObjectAdded\",{layer:this,object:e}),null!=this._octree&&this._objectsAdded.push(e)}remove(e){this._objects.removeUnordered(e)&&(e.parentLayer=null,this.events.emit(\"layerObjectRemoved\",{layer:this,object:e}),null!=this._octree&&(this._objectsAdded.removeUnordered(e)||this._octree.remove([e])))}addMany(e){this._objects.pushArray(e);for(const t of e)t.parentLayer=this;this.events.emit(\"layerObjectsAdded\",{layer:this,objects:e}),null!=this._octree&&this._objectsAdded.pushArray(e)}removeMany(e){const t=new Array;if(this._objects.removeUnorderedMany(e,e.length,t),0!==t.length){for(const e of t)e.parentLayer=null;if(this.events.emit(\"layerObjectsRemoved\",{layer:this,objects:t}),null!=this._octree){for(let e=0;e<t.length;)this._objectsAdded.removeUnordered(t[e])?(t[e]=t[t.length-1],t.length-=1):++e;this._octree.remove(t)}}}sync(){this.updatePolicy!==c.SYNC&&this.stage.syncLayer(this.id)}notifyObjectBBChanged(e,t){null==this._octree||this._objectsAdded.includes(e)||this._octree.update(e,t)}getSpatialQueryAccelerator(){return null==this._octree&&this._objects.length>50&&!this._disableOctree?(this._octree=new d((e=>e.boundingVolumeWorldSpace.bounds)),this._octree.add(this._objects.data,this._objects.length)):null!=this._octree&&this._objectsAdded.length>0&&(this._octree.add(this._objectsAdded.data,this._objectsAdded.length),this._objectsAdded.clear()),this._octree}invalidateSpatialQueryAccelerator(){this._octree=s(this._octree),this._objectsAdded.clear()}}function l(e){return null!=e&&e.type===o.Layer}export{a as WebGLLayer,l as isWebGLLayer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{fromValues as r}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";class s{constructor(r,s){this.vec3=r,this.id=s}}function t(t,o,c,e){return new s(r(t,o,c),e)}export{s as LocalOrigin,t as fromValues};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nconst n={stableRendering:!1},e={rootOrigin:null};export{e as gridLocalOriginFactory,n as textTextureAtlas};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{generateUID as t}from\"../../../../core/uid.js\";import{d as i}from\"../../../../chunks/vec32.js\";import{create as r}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{fromValues as o}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{projectBuffer as s}from\"../../../../geometry/projection/projectBuffer.js\";import{Attribute as e}from\"./Attribute.js\";import{ContentObjectType as n}from\"./ContentObjectType.js\";import{Geometry as a}from\"./Geometry.js\";import{fromValues as h}from\"./LocalOriginFactory.js\";import{Object3D as m}from\"./Object3D.js\";import{gridLocalOriginFactory as c}from\"./testUtils.js\";import{VertexAttribute as g}from\"./VertexAttribute.js\";import{WebGLLayer as d}from\"./WebGLLayer.js\";import{RibbonLineMaterial as f}from\"../materials/RibbonLineMaterial.js\";class _{constructor(i){this._originSR=i,this._rootOriginId=\"root/\"+t(),this._origins=new Map,this._objects=new Map,this._gridSize=5e5}getOrigin(t){const r=this._origins.get(this._rootOriginId);if(null==r){const i=c.rootOrigin;if(null!=i)return this._origins.set(this._rootOriginId,h(i[0],i[1],i[2],this._rootOriginId)),this.getOrigin(t);const r=h(t[0]+Math.random()-.5,t[1]+Math.random()-.5,t[2]+Math.random()-.5,this._rootOriginId);return this._origins.set(this._rootOriginId,r),r}const o=this._gridSize,s=Math.round(t[0]/o),e=Math.round(t[1]/o),n=Math.round(t[2]/o),a=`${s}/${e}/${n}`;let m=this._origins.get(a);const g=.5*o;if(i(l,t,r.vec3),l[0]=Math.abs(l[0]),l[1]=Math.abs(l[1]),l[2]=Math.abs(l[2]),l[0]<g&&l[1]<g&&l[2]<g){if(m){const r=Math.max(...l);i(l,t,m.vec3),l[0]=Math.abs(l[0]),l[1]=Math.abs(l[1]),l[2]=Math.abs(l[2]);if(Math.max(...l)<r)return m}return r}return m||(m=h(s*o,e*o,n*o,a),this._origins.set(a,m)),m}_drawOriginBox(t,i=o(1,1,0,1)){const r=window.view,h=r._stage,c=i.toString();if(!this._objects.has(c)){this._material=new f({width:2,color:i}),h.add(this._material);const t=new d(h,{pickable:!1}),r=new m({castShadow:!1});h.add(r),t.add(r),this._objects.set(c,r)}const _=this._objects.get(c),l=[0,1,5,4,0,2,1,7,6,2,0,1,3,7,5,4,6,2,0],p=l.length,j=new Array(3*p),b=new Array,u=.5*this._gridSize;for(let o=0;o<p;o++)j[3*o]=t[0]+(1&l[o]?u:-u),j[3*o+1]=t[1]+(2&l[o]?u:-u),j[3*o+2]=t[2]+(4&l[o]?u:-u),o>0&&b.push(o-1,o);s(j,this._originSR,0,j,r.renderSpatialReference,0,p);const M=new a(this._material,[[g.POSITION,new e(j,b,3,!0)]],null,n.Line);h.add(M),_.addGeometry(M)}get test(){}}const l=r();export{_ as GridLocalOriginFactory};\n"],
  "mappings": "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",
  "names": ["C", "e", "a", "t", "A", "r", "o", "e", "n", "t", "s", "i", "E", "M", "m", "h", "C", "u", "B", "U", "H", "A", "e", "t", "W", "E", "i", "r", "c", "T", "h", "O", "m", "o", "B", "u", "f", "l", "n", "g", "C", "s", "P", "e", "W", "n", "p", "i", "u", "t", "r", "o", "s", "a", "l", "c", "h", "f", "m", "T", "d", "_", "R", "S", "v", "P", "N", "L", "b", "C", "U", "y", "M", "D", "j", "H", "A", "E", "O", "g", "I", "r", "e", "t", "a", "n", "u", "e", "t", "n", "o", "i", "a", "s", "l", "c", "f", "m", "d", "g", "p", "r", "b", "E", "C", "O", "v", "A", "T", "y", "c", "o", "e", "a", "e", "r", "c", "o", "u", "m", "s", "l", "i", "t", "p", "n", "d", "f", "o", "e", "n", "t", "s", "i", "l", "e", "a", "r", "s", "d", "e", "C", "t", "b", "s", "r", "t", "o", "c", "e", "n", "e", "_", "i", "t", "r", "e", "o", "s", "n", "a", "m", "g", "c", "l", "h", "W", "A", "p", "j", "b", "u", "M", "f"]
}
