{
  "version": 3,
  "sources": ["../../@arcgis/core/views/3d/webgl-engine/lib/OITPass.js", "../../@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/TerrainDepthTest.glsl.js", "../../@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nvar o;!function(o){o[o.NONE=0]=\"NONE\",o[o.ColorAlpha=1]=\"ColorAlpha\",o[o.FrontFace=2]=\"FrontFace\",o[o.COUNT=3]=\"COUNT\"}(o||(o={}));export{o as OITPass};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ReadDepth as e}from\"../output/ReadDepth.glsl.js\";import{If as r,glsl as t}from\"../../shaderModules/glsl.js\";import{Texture2DBindUniform as o}from\"../../shaderModules/Texture2DBindUniform.js\";function d(d,{occlusionPass:i,terrainDepthTest:a,cullAboveTerrain:s}){const n=d.vertex,p=d.fragment;if(!a)return n.code.add(\"void forwardViewPosDepth(vec3 pos) {}\"),void p.code.add(`${i?\"bool\":\"void\"} discardByTerrainDepth() { ${r(i,\"return false;\")}}`);d.varyings.add(\"viewPosDepth\",\"float\"),n.code.add(\"void forwardViewPosDepth(vec3 pos) {\\n    viewPosDepth = pos.z;\\n  }\"),p.include(e),p.uniforms.add(new o(\"terrainDepthTexture\",(e=>e.terrainDepth?.attachment))).code.add(t`\n    ${i?\"bool\":\"void\"} discardByTerrainDepth() {\n      float depth = texelFetch(terrainDepthTexture, ivec2(gl_FragCoord.xy), 0).r;\n      float linearDepth = linearizeDepth(depth);\n      ${i?\"return viewPosDepth < linearDepth && depth < 1.0;\":`if(viewPosDepth ${s?\">\":\"<=\"} linearDepth) discard;`}\n    }`)}export{d as terrainDepthTest};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{glsl as c}from\"../../shaderModules/glsl.js\";function e(e){e.code.add(c`vec4 premultiplyAlpha(vec4 v) {\nreturn vec4(v.rgb * v.a, v.a);\n}\nvec3 rgb2hsv(vec3 c) {\nvec4 K = vec4(0.0, -1.0 / 3.0, 2.0 / 3.0, -1.0);\nvec4 p = c.g < c.b ? vec4(c.bg, K.wz) : vec4(c.gb, K.xy);\nvec4 q = c.r < p.x ? vec4(p.xyw, c.r) : vec4(c.r, p.yzx);\nfloat d = q.x - min(q.w, q.y);\nfloat e = 1.0e-10;\nreturn vec3(abs(q.z + (q.w - q.y) / (6.0 * d + e)), min(d / (q.x + e), 1.0), q.x);\n}\nvec3 hsv2rgb(vec3 c) {\nvec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\nvec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\nreturn c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n}\nfloat rgb2v(vec3 c) {\nreturn max(c.x, max(c.y, c.z));\n}`)}export{e as ColorConversion};\n"],
  "mappings": ";;;;;;;;;;;;AAIA,IAAIA;AAAE,CAAC,SAASA,IAAE;AAAC,EAAAA,GAAEA,GAAE,OAAK,CAAC,IAAE,QAAOA,GAAEA,GAAE,aAAW,CAAC,IAAE,cAAaA,GAAEA,GAAE,YAAU,CAAC,IAAE,aAAYA,GAAEA,GAAE,QAAM,CAAC,IAAE;AAAO,EAAEA,OAAIA,KAAE,CAAC,EAAE;;;ACAqE,SAASC,GAAEA,IAAE,EAAC,eAAc,GAAE,kBAAiB,GAAE,kBAAiB,EAAC,GAAE;AAAC,QAAMC,KAAED,GAAE,QAAO,IAAEA,GAAE;AAAS,MAAG,CAAC,EAAE,QAAOC,GAAE,KAAK,IAAI,uCAAuC,GAAE,KAAK,EAAE,KAAK,IAAI,GAAG,IAAE,SAAO,MAAM,8BAA8B,EAAE,GAAE,eAAe,CAAC,GAAG;AAAE,EAAAD,GAAE,SAAS,IAAI,gBAAe,OAAO,GAAEC,GAAE,KAAK,IAAI,sEAAsE,GAAE,EAAE,QAAQ,CAAC,GAAE,EAAE,SAAS,IAAI,IAAI,EAAE,uBAAuB,CAAAC,OAAC;AAJxnB;AAI0nB,iBAAAA,GAAE,iBAAF,mBAAgB;AAAA,GAAW,CAAC,EAAE,KAAK,IAAI;AAAA,MAC3pB,IAAE,SAAO,MAAM;AAAA;AAAA;AAAA,QAGb,IAAE,sDAAoD,mBAAmB,IAAE,MAAI,IAAI,wBAAwB;AAAA,MAC7G;AAAC;;;ACL4C,SAAS,EAAEC,IAAE;AAAC,EAAAA,GAAE,KAAK,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAkB1E;AAAC;",
  "names": ["o", "d", "n", "e", "e"]
}
