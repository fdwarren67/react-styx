{
  "version": 3,
  "sources": ["../../@esri/calcite-components/dist/components/calcite-tree/customElement.js"],
  "sourcesContent": ["import { c as x } from \"../../chunks/runtime.js\";\nimport { html as y } from \"lit\";\nimport { LitElement as E, createEvent as T, setAttribute as A } from \"@arcgis/lumina\";\nimport { b, n as p, s as M, t as S } from \"../../chunks/dom.js\";\nimport { css as C } from \"@lit/reactive-element/css-tag.js\";\n/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.1.0 */\nfunction g(h) {\n  return h?.tagName === \"CALCITE-TREE-ITEM\";\n}\nfunction w(h) {\n  return Array.from(h.querySelectorAll(\"calcite-tree-item:not([disabled])\")).filter(\n    (t) => {\n      let e = t;\n      for (; e !== h && e !== void 0; ) {\n        const i = e.parentElement;\n        if (!(!g(i) || !i.hasChildren || i.expanded))\n          return !1;\n        e = e.parentElement;\n      }\n      return !0;\n    }\n  );\n}\nconst D = C`:host{display:block}:host(:focus){outline:2px solid transparent;outline-offset:2px}:host([hidden]){display:none}[hidden]{display:none}`;\nclass k extends E {\n  // #endregion\n  // #region Lifecycle\n  constructor() {\n    super(), this.items = [], this.lines = !1, this.parentExpanded = !1, this.scale = \"m\", this.selectedItems = [], this.selectionMode = \"single\", this.calciteTreeSelect = T({ cancelable: !1 }), this.listen(\"focus\", this.onFocus), this.listen(\"focusin\", this.onFocusIn), this.listen(\"focusout\", this.onFocusOut), this.listen(\"calciteInternalTreeItemSelect\", this.onInternalTreeItemSelect), this.listen(\"keydown\", this.keyDownHandler);\n  }\n  static {\n    this.properties = { child: 7, lines: 7, parentExpanded: 5, scale: 3, selectedItems: 0, selectionMode: 3 };\n  }\n  static {\n    this.styles = D;\n  }\n  willUpdate(t) {\n    t.has(\"parentExpanded\") && (this.hasUpdated || this.parentExpanded !== !1) && this.updateItems();\n    const e = this.el.parentElement?.closest(\"calcite-tree\");\n    this.lines = e ? e.lines : this.lines, this.scale = e ? e.scale : this.scale, this.selectionMode = e ? e.selectionMode : this.selectionMode, this.child = !!e;\n  }\n  // #endregion\n  // #region Private Methods\n  onFocus() {\n    if (!this.child) {\n      const t = this.el.querySelector(\"calcite-tree-item[selected]:not([disabled])\") || this.el.querySelector(\"calcite-tree-item:not([disabled])\");\n      b(t);\n    }\n  }\n  onFocusIn(t) {\n    (t.relatedTarget === this.el || !this.el.contains(t.relatedTarget)) && this.el.removeAttribute(\"tabindex\");\n  }\n  onFocusOut(t) {\n    !this.el.contains(t.relatedTarget) && (this.el.tabIndex = this.getRootTabIndex());\n  }\n  onInternalTreeItemSelect(t) {\n    if (this.child)\n      return;\n    const e = t.target, i = p(e.querySelectorAll(\"calcite-tree-item\"));\n    if (t.preventDefault(), t.stopPropagation(), this.selectionMode === \"ancestors\") {\n      this.updateAncestorTree(t);\n      return;\n    }\n    const o = this.selectionMode === \"none\", n = this.selectionMode !== null && (!e.hasChildren || e.hasChildren && (this.selectionMode === \"children\" || this.selectionMode === \"multichildren\")), l = this.selectionMode === \"multichildren\" && e.hasChildren, c = !o && t.detail.modifyCurrentSelection && (this.selectionMode === \"multiple\" || this.selectionMode === \"multichildren\"), u = !c && ((this.selectionMode === \"single\" || this.selectionMode === \"multiple\") && i.length <= 0 || this.selectionMode === \"children\" || this.selectionMode === \"multichildren\" || this.selectionMode === \"single-persist\" && !e.hasChildren), a = [\"multiple\", \"none\", \"single\", \"single-persist\"].includes(this.selectionMode) && e.hasChildren, d = [];\n    n && d.push(e), u && p(this.el.querySelectorAll(\"calcite-tree-item[selected]\")).forEach((r) => {\n      d.includes(r) || (r.selected = !1);\n    }), a && [\"multiple\", \"none\", \"single\", \"single-persist\"].includes(this.selectionMode) && (e.expanded = !e.expanded), l && i.forEach((s) => {\n      s.selected = !1, s.hasChildren && (s.expanded = !1);\n    }), c && window.getSelection().removeAllRanges(), c && e.selected ? d.forEach((s) => {\n      s.disabled || (s.selected = !1);\n    }) : o || d.forEach((s) => {\n      s.disabled || (s.selected = this.selectionMode !== \"single\" || !s.selected);\n    }), this.selectedItems = o ? [] : p(this.el.querySelectorAll(\"calcite-tree-item\")).filter((s) => s.selected), this.calciteTreeSelect.emit(), t.stopPropagation();\n  }\n  keyDownHandler(t) {\n    if (this.child)\n      return;\n    const e = this.el, i = t.target, o = [\"ArrowRight\", \"ArrowDown\", \"ArrowLeft\", \"ArrowUp\", \"Home\", \"End\", \"Tab\"];\n    if (!(g(i) && this.el.contains(i)) || !o.includes(t.key))\n      return;\n    const n = w(e);\n    if (t.key === \"Tab\") {\n      n.forEach((l) => l.tabIndex = -1);\n      return;\n    }\n    if (t.key === \"ArrowDown\") {\n      const l = n.indexOf(i);\n      n[l + 1]?.focus(), t.preventDefault();\n      return;\n    }\n    if (t.key === \"ArrowUp\") {\n      const l = n.indexOf(i);\n      n[l - 1]?.focus(), t.preventDefault();\n      return;\n    }\n    if (t.key === \"ArrowLeft\") {\n      if (i.hasChildren && i.expanded) {\n        i.expanded = !1, t.preventDefault();\n        return;\n      }\n      n.slice(0, n.indexOf(i)).reverse().find((u) => u.depth === i.depth - 1)?.focus(), t.preventDefault();\n      return;\n    }\n    if (t.key === \"ArrowRight\") {\n      if (!i.disabled && i.hasChildren)\n        if (!i.expanded)\n          i.expanded = !0, t.preventDefault();\n        else {\n          const l = n.indexOf(i);\n          n[l + 1]?.focus(), t.preventDefault();\n        }\n      return;\n    }\n    if (t.key === \"Home\") {\n      const l = n.shift();\n      l && (l.focus(), t.preventDefault());\n      return;\n    }\n    if (t.key === \"End\") {\n      const l = n.pop();\n      l && (l.focus(), t.preventDefault());\n      return;\n    }\n  }\n  updateAncestorTree(t) {\n    const e = t.target, i = t.detail.updateItem;\n    if (e.disabled || e.indeterminate && !i)\n      return;\n    const o = [];\n    let n = e.parentElement.closest(\"calcite-tree-item\");\n    for (; n; )\n      o.push(n), n = n.parentElement.closest(\"calcite-tree-item\");\n    const l = Array.from(e.querySelectorAll(\"calcite-tree-item:not([disabled])\")), c = l.filter((s) => !s.hasChildren), u = l.filter((s) => s.hasChildren);\n    let a;\n    i ? a = e.hasChildren ? !(e.selected || e.indeterminate) : !e.selected : a = e.selected, c.forEach((s) => {\n      s.selected = a, s.indeterminate = !1;\n    });\n    function d(s, r) {\n      const f = s.filter((m) => m.selected), I = s.filter((m) => !m.selected);\n      r.selected = f.length === s.length, r.indeterminate = f.length > 0 && I.length > 0;\n    }\n    u.reverse().forEach((s) => {\n      const r = Array.from(s.querySelectorAll(\":scope > calcite-tree > calcite-tree-item\"));\n      d(r, s);\n    }), i && (e.hasChildren ? d(l, e) : (e.selected = a, e.indeterminate = !1)), o.forEach((s) => {\n      const r = p(s.querySelectorAll(\"calcite-tree-item\")), f = r.filter((m) => m.selected);\n      if (f.length === 0) {\n        s.selected = !1, s.indeterminate = !1;\n        return;\n      }\n      const I = f.length < r.length;\n      s.indeterminate = I, s.selected = !I;\n    }), this.selectedItems = p(this.el.querySelectorAll(\"calcite-tree-item\")).filter((s) => s.selected), i && this.calciteTreeSelect.emit();\n  }\n  updateItems() {\n    this.items.forEach((t) => t.parentExpanded = this.parentExpanded);\n  }\n  handleDefaultSlotChange(t) {\n    const e = M(t).filter((i) => i.matches(\"calcite-tree-item\"));\n    this.items = e, this.updateItems();\n  }\n  getRootTabIndex() {\n    return this.child ? -1 : 0;\n  }\n  // #endregion\n  // #region Rendering\n  render() {\n    return this.el.ariaMultiSelectable = this.child ? void 0 : S(this.selectionMode === \"multiple\" || this.selectionMode === \"multichildren\"), this.el.role = this.child ? void 0 : \"tree\", A(this.el, \"tabIndex\", this.getRootTabIndex()), y`<slot @slotchange=${this.handleDefaultSlotChange}></slot>`;\n  }\n}\nx(\"calcite-tree\", k);\nexport {\n  k as Tree\n};\n"],
  "mappings": "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",
  "names": []
}
