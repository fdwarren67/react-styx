{
  "version": 3,
  "sources": ["../../@esri/calcite-components/dist/components/calcite-color-picker-hex-input/customElement.js"],
  "sourcesContent": ["import { c as T } from \"../../chunks/runtime.js\";\nimport { ref as g } from \"lit-html/directives/ref.js\";\nimport { keyed as k } from \"lit-html/directives/keyed.js\";\nimport C from \"color\";\nimport { html as b } from \"lit\";\nimport { LitElement as D, createEvent as L, safeClassMap as I } from \"@arcgis/lumina\";\nimport { n as u, h as c, i as p, a as x, b as d, r as B, o as $, c as H, O as V, d as A } from \"../../chunks/utils4.js\";\nimport { b as P } from \"../../chunks/dom.js\";\nimport { c as R } from \"../../chunks/component.js\";\nimport { css as K } from \"@lit/reactive-element/css-tag.js\";\n/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.1.0 */\nconst m = {\n  container: \"container\",\n  hexInput: \"hex-input\",\n  opacityInput: \"opacity-input\"\n}, z = K`:host{display:block}.container{display:flex;inline-size:100%;flex-wrap:nowrap;align-items:center}.hex-input{flex-grow:1;text-transform:uppercase}.opacity-input{inline-size:100px;margin-inline-start:-1px}:host([hidden]){display:none}[hidden]{display:none}`, f = C();\nclass U extends D {\n  constructor() {\n    super(...arguments), this.internalColor = f, this.alphaChannel = !1, this.allowEmpty = !1, this.hexLabel = \"Hex\", this.scale = \"m\", this.value = u(c(f, this.alphaChannel), this.alphaChannel, !0), this.calciteColorPickerHexInputChange = L({ cancelable: !1 });\n  }\n  static {\n    this.properties = { internalColor: 16, alphaChannel: 5, allowEmpty: 5, hexLabel: 1, messages: 0, numberingSystem: 1, scale: 3, value: 3 };\n  }\n  static {\n    this.styles = z;\n  }\n  // #endregion\n  // #region Public Methods\n  /** Sets focus on the component. */\n  async setFocus() {\n    return await R(this), P(this.hexInputNode);\n  }\n  // #endregion\n  // #region Lifecycle\n  connectedCallback() {\n    super.connectedCallback(), this.previousNonNullValue = this.value;\n    const { allowEmpty: t, alphaChannel: e, value: a } = this;\n    if (a) {\n      const n = u(a, e);\n      p(n, e) && this.internalSetValue(n, n, !1);\n      return;\n    }\n    t && this.internalSetValue(void 0, void 0, !1);\n  }\n  willUpdate(t) {\n    t.has(\"value\") && (this.hasUpdated || this.value !== u(c(f, this.alphaChannel), this.alphaChannel, !0)) && this.internalSetValue(this.value, t.get(\"value\"), !1);\n  }\n  // #endregion\n  // #region Private Methods\n  onHexInputBlur() {\n    const t = this.hexInputNode, e = t.value, a = `#${e}`, { allowEmpty: n, internalColor: l } = this, s = n && !e, i = x(a);\n    (d(a, !0) || d(a, !1)) && this.onHexInputChange(), !(s || p(a) && i) && (t.value = n && !l ? \"\" : this.formatHexForInternalInput(B(\n      // always display hex input in RRGGBB format\n      l.object()\n    )));\n  }\n  onOpacityInputBlur() {\n    const t = this.opacityInputNode, e = t.value, { allowEmpty: a, internalColor: n } = this;\n    a && !e || (t.value = a && !n ? \"\" : this.formatOpacityForInternalInput(n));\n  }\n  onOpacityInputInput() {\n    this.onOpacityInputChange();\n  }\n  onHexInputChange() {\n    let e = this.hexInputNode.value;\n    if (e) {\n      const a = u(e, !1);\n      if (p(a) && this.alphaChannel && this.internalColor) {\n        const l = u(this.internalColor.hexa(), !0).slice(-2);\n        e = `${a + l}`;\n      }\n    }\n    this.internalSetValue(e, this.value);\n  }\n  onOpacityInputChange() {\n    const t = this.opacityInputNode;\n    let e;\n    if (!t.value)\n      e = t.value;\n    else {\n      const a = $(Number(t.value));\n      e = this.internalColor?.alpha(a).hexa();\n    }\n    this.internalSetValue(e, this.value);\n  }\n  onInputFocus(t) {\n    t.type === \"calciteInternalInputTextFocus\" ? this.hexInputNode.selectText() : this.opacityInputNode.selectText();\n  }\n  onHexInputInput() {\n    const t = `#${this.hexInputNode.value}`, e = this.value;\n    p(t, this.alphaChannel) && x(t, this.alphaChannel) && this.internalSetValue(t, e);\n  }\n  onInputKeyDown(t) {\n    const { altKey: e, ctrlKey: a, metaKey: n, shiftKey: l } = t, { alphaChannel: s, hexInputNode: i, internalColor: o, value: h } = this, { key: r } = t, y = t.composedPath();\n    if (r === \"Tab\" && d(h, this.alphaChannel) || r === \"Enter\") {\n      y.includes(i) ? this.onHexInputChange() : this.onOpacityInputChange(), r === \"Enter\" && t.preventDefault();\n      return;\n    }\n    const w = r === \"ArrowDown\" || r === \"ArrowUp\", v = this.value;\n    if (w) {\n      if (!h) {\n        this.internalSetValue(this.previousNonNullValue, v), t.preventDefault();\n        return;\n      }\n      const E = r === \"ArrowUp\" ? 1 : -1, F = l ? 10 : 1;\n      this.internalSetValue(c(this.nudgeRGBChannels(o, F * E, y.includes(i) ? \"rgb\" : \"a\"), s), v), t.preventDefault();\n      return;\n    }\n    const N = e || a || n, S = r.length === 1, O = A.test(r);\n    S && !N && !O && t.preventDefault();\n  }\n  onHexInputPaste(t) {\n    const e = t.clipboardData.getData(\"text\");\n    p(e, this.alphaChannel) && x(e, this.alphaChannel) && (t.preventDefault(), this.hexInputNode.value = e.slice(1), this.internalSetValue(e, this.value));\n  }\n  internalSetValue(t, e, a = !0) {\n    if (t) {\n      const { alphaChannel: n } = this, l = u(t, n, n);\n      if (p(l, n)) {\n        const { internalColor: s } = this, i = C(l), o = u(c(i, n), n), h = !s || o !== u(c(s, n), n);\n        this.internalColor = i, this.previousNonNullValue = o, this.value = o, h && a && this.calciteColorPickerHexInputChange.emit();\n        return;\n      }\n    } else if (this.allowEmpty) {\n      this.internalColor = void 0, this.value = void 0, a && this.calciteColorPickerHexInputChange.emit();\n      return;\n    }\n    this.value = e;\n  }\n  storeHexInputRef(t) {\n    this.hexInputNode = t;\n  }\n  storeOpacityInputRef(t) {\n    this.opacityInputNode = t;\n  }\n  formatHexForInternalInput(t) {\n    return t ? t.replace(\"#\", \"\").slice(0, 6) : \"\";\n  }\n  formatOpacityForInternalInput(t) {\n    return t ? `${H(t.alpha())}` : \"\";\n  }\n  nudgeRGBChannels(t, e, a) {\n    let n;\n    const l = t.array(), s = l.slice(0, 3);\n    if (a === \"rgb\")\n      n = [\n        ...s.map((o) => o + e),\n        this.alphaChannel ? l[3] : void 0\n      ];\n    else {\n      const i = $(H(t.alpha()) + e);\n      n = [...s, i];\n    }\n    return C(n);\n  }\n  // #endregion\n  // #region Rendering\n  render() {\n    const { alphaChannel: t, hexLabel: e, internalColor: a, messages: n, scale: l, value: s } = this, i = this.formatHexForInternalInput(s), o = this.formatOpacityForInternalInput(a), h = l === \"l\" ? \"m\" : \"s\";\n    return b`<div class=${I(m.container)}><calcite-input-text class=${I(m.hexInput)} .label=${n?.hex || e} .maxLength=${this.alphaChannel ? 8 : 6} @keydown=${this.onInputKeyDown} @paste=${this.onHexInputPaste} @calciteInputTextChange=${this.onHexInputChange} @calciteInputTextInput=${this.onHexInputInput} @calciteInternalInputTextBlur=${this.onHexInputBlur} @calciteInternalInputTextFocus=${this.onInputFocus} prefix-text=# .scale=${h} .value=${i} ${g(this.storeHexInputRef)}></calcite-input-text>${t ? k(\"opacity-input\", b`<calcite-input-number class=${I(m.opacityInput)} .label=${n?.opacity} .max=${V.max} max-length=3 .min=${V.min} number-button-type=none .numberingSystem=${this.numberingSystem} @keydown=${this.onInputKeyDown} @calciteInputNumberInput=${this.onOpacityInputInput} @calciteInternalInputNumberBlur=${this.onOpacityInputBlur} @calciteInternalInputNumberFocus=${this.onInputFocus} .scale=${h} suffix-text=% .value=${o} ${g(this.storeOpacityInputRef)}></calcite-input-number>`) : null}</div>`;\n  }\n}\nT(\"calcite-color-picker-hex-input\", U);\nexport {\n  U as ColorPickerHexInput\n};\n"],
  "mappings": "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",
  "names": ["m", "h", "F", "S", "O", "U"]
}
