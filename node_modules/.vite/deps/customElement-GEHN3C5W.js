import {
  D,
  I
} from "./chunk-BMTY6R7M.js";
import {
  m as m2,
  p
} from "./chunk-VBBJGZOS.js";
import {
  b
} from "./chunk-6JIDXA46.js";
import {
  tt
} from "./chunk-VQ5234AM.js";
import {
  m
} from "./chunk-PXZ2RU65.js";
import "./chunk-S3EVYUV4.js";
import {
  S
} from "./chunk-B7E2AREE.js";
import {
  LitElement,
  createEvent,
  css,
  html,
  safeClassMap
} from "./chunk-MALSDV7D.js";
import "./chunk-EWTE5DHJ.js";

// node_modules/@esri/calcite-components/dist/components/calcite-sortable-list/customElement.js
var l = {
  container: "container",
  containerHorizontal: "container--horizontal",
  containerVertical: "container--vertical"
};
var C = css`:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:flex}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}.container{display:flex;flex:1 1 auto}.container--vertical{flex-direction:column}.container--horizontal{flex-direction:row}:host([hidden]){display:none}[hidden]{display:none}`;
var _E = class _E extends LitElement {
  // #endregion
  // #region Lifecycle
  constructor() {
    super(), this.dragEnabled = true, this.items = [], this.mutationObserver = b("mutation", () => {
      this.setUpSorting();
    }), this.disabled = false, this.handleSelector = "calcite-handle", this.layout = "vertical", this.loading = false, this.calciteListOrderChange = createEvent({ cancelable: false }), this.listen("calciteHandleNudge", this.calciteHandleNudgeNextHandler);
  }
  connectedCallback() {
    super.connectedCallback(), this.setUpSorting(), this.beginObserving();
  }
  load() {
    m.deprecated("component", {
      name: "sortable-list",
      removalVersion: 4,
      suggested: "block-group"
    });
  }
  updated() {
    m2(this);
  }
  disconnectedCallback() {
    super.disconnectedCallback(), D(this), this.endObserving();
  }
  // #endregion
  // #region Private Methods
  calciteHandleNudgeNextHandler(e) {
    this.handleNudgeEvent(e);
  }
  onGlobalDragStart() {
    this.endObserving();
  }
  onGlobalDragEnd() {
    this.beginObserving();
  }
  onDragEnd() {
  }
  onDragStart() {
  }
  onDragSort() {
    this.items = Array.from(this.el.children), this.calciteListOrderChange.emit();
  }
  handleNudgeEvent(e) {
    const { direction: r } = e.detail, t = e.composedPath().find((a) => a.matches(this.handleSelector)), i = this.items.find((a) => a.contains(t) || e.composedPath().includes(a)), c = this.items.length - 1, s = this.items.indexOf(i);
    let o = false, n;
    r === "up" ? s === 0 ? o = true : n = s - 1 : s === c ? n = 0 : s === c - 1 ? o = true : n = s + 2, this.endObserving(), o ? i.parentElement.appendChild(i) : i.parentElement.insertBefore(i, this.items[n]), this.items = Array.from(this.el.children), this.beginObserving(), requestAnimationFrame(() => tt(t)), "selected" in t && (t.selected = true);
  }
  setUpSorting() {
    this.items = Array.from(this.el.children), I(this);
  }
  beginObserving() {
    var _a;
    (_a = this.mutationObserver) == null ? void 0 : _a.observe(this.el, { childList: true, subtree: true });
  }
  endObserving() {
    var _a;
    (_a = this.mutationObserver) == null ? void 0 : _a.disconnect();
  }
  // #endregion
  // #region Rendering
  render() {
    const { disabled: e, layout: r } = this, t = r === "horizontal" || false;
    return p({ disabled: e, children: html`<div class=${safeClassMap({
      [l.container]: true,
      [l.containerVertical]: !t,
      [l.containerHorizontal]: t
    })}><slot></slot></div>` });
  }
};
_E.properties = { canPull: 0, canPut: 0, disabled: 7, dragSelector: 3, group: 3, handleSelector: 3, layout: 3, loading: 7 };
_E.styles = C;
var E = _E;
S("calcite-sortable-list", E);
export {
  E as SortableList
};
/*! Bundled license information:

@esri/calcite-components/dist/components/calcite-sortable-list/customElement.js:
  (*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
  See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
  v3.1.0 *)
*/
//# sourceMappingURL=customElement-GEHN3C5W.js.map
