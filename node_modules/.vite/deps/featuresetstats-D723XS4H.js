import {
  l
} from "./chunk-OCIUEMMN.js";
import {
  B,
  Be,
  ee,
  oe,
  q
} from "./chunk-TZ3DYYYB.js";
import "./chunk-6ZDD4C2B.js";
import "./chunk-LFIFTYRG.js";
import "./chunk-C5SNRHNJ.js";
import {
  D,
  i
} from "./chunk-B2CK3GCY.js";
import "./chunk-NINPG5JV.js";
import {
  a,
  r
} from "./chunk-S54EEJCS.js";
import "./chunk-4JHPTLMD.js";
import "./chunk-35I4PBUK.js";
import "./chunk-W7QCICS6.js";
import {
  m
} from "./chunk-3ODJ3YKN.js";
import {
  e,
  o
} from "./chunk-P6IUM5K3.js";
import "./chunk-Q7TEBZSN.js";
import "./chunk-CIALVDRG.js";
import "./chunk-K7TZXQ7O.js";
import "./chunk-552ZCNNH.js";
import "./chunk-XG7T2Y7N.js";
import "./chunk-SQOMDKJS.js";
import "./chunk-HB6TKF6E.js";
import "./chunk-OXPM753Y.js";
import "./chunk-N4U5VIP2.js";
import "./chunk-IVS2JCO6.js";
import "./chunk-4GOW35CM.js";
import "./chunk-TEJXT4W6.js";
import "./chunk-LW62SPEN.js";
import "./chunk-LSOJIRW6.js";
import "./chunk-FSFEOCO5.js";
import "./chunk-ZVIMKAJW.js";
import "./chunk-BIURGGHV.js";
import "./chunk-VSLEAHOZ.js";
import "./chunk-6K2FAOQG.js";
import "./chunk-N5DN7S3H.js";
import "./chunk-BECTSF5P.js";
import "./chunk-FX46DC27.js";
import "./chunk-2FUEBHWI.js";
import "./chunk-VTWDBFQT.js";
import "./chunk-BM4B3CH5.js";
import "./chunk-G2YC5GCV.js";
import "./chunk-GD5AHXAI.js";
import "./chunk-YWGYHRSH.js";
import "./chunk-DP2IAJQN.js";
import "./chunk-EAFC6V23.js";
import "./chunk-SMH2GUF6.js";
import "./chunk-AZP4AFW7.js";
import "./chunk-SCZRL2WP.js";
import "./chunk-OSHCNHH7.js";
import "./chunk-7LCEUMDD.js";
import "./chunk-6II7WQ2F.js";
import "./chunk-L7QO6TDW.js";
import "./chunk-EWTE5DHJ.js";

// node_modules/@arcgis/core/arcade/functions/featuresetstats.js
async function l2(n, t, e2, a2) {
  if (1 === e2.length) {
    if (o(e2[0])) return l(n, e2[0], q(e2[1], -1));
    if (ee(e2[0])) return l(n, e2[0].toArray(), q(e2[1], -1));
  } else if (2 === e2.length) {
    if (o(e2[0])) return l(n, e2[0], q(e2[1], -1));
    if (ee(e2[0])) return l(n, e2[0].toArray(), q(e2[1], -1));
    if (B(e2[0])) {
      const r2 = await e2[0].load(), i2 = await p(D.create(e2[1], { fieldsIndex: r2.getFieldsIndex(), timeZone: r2.dateFieldsTimeZoneDefaultUTC }), a2, t);
      return g(t, await e2[0].calculateStatistic(n, i2, q(e2[2], 1e3), t.abortSignal));
    }
  } else if (3 === e2.length && B(e2[0])) {
    const r2 = await e2[0].load(), i2 = await p(D.create(e2[1], { fieldsIndex: r2.getFieldsIndex(), timeZone: r2.dateFieldsTimeZoneDefaultUTC }), a2, t);
    return g(t, await e2[0].calculateStatistic(n, i2, q(e2[2], 1e3), t.abortSignal));
  }
  return l(n, e2, -1);
}
function g(t, e2) {
  return e2 instanceof i ? m.fromReaderAsTimeStampOffset(e2.toStorageFormat()) : e2 instanceof Date ? m.dateJSAndZoneToArcadeDate(e2, Be(t)) : e2;
}
async function p(n, t, e2) {
  const a2 = n.getVariables();
  if (a2.length > 0) {
    const r2 = {};
    for (const n2 of a2) r2[n2] = t.evaluateIdentifier(e2, { name: n2 });
    n.parameters = r2;
  }
  return n;
}
function y(n) {
  "async" === n.mode && (n.functions.stdev = function(t, e2) {
    return n.standardFunctionAsync(t, e2, (e3, a2, r2) => l2("stdev", t, r2, n));
  }, n.functions.variance = function(t, e2) {
    return n.standardFunctionAsync(t, e2, (e3, a2, r2) => l2("variance", t, r2, n));
  }, n.functions.average = function(t, e2) {
    return n.standardFunctionAsync(t, e2, (e3, a2, r2) => l2("mean", t, r2, n));
  }, n.functions.mean = function(t, e2) {
    return n.standardFunctionAsync(t, e2, (e3, a2, r2) => l2("mean", t, r2, n));
  }, n.functions.sum = function(t, e2) {
    return n.standardFunctionAsync(t, e2, (e3, a2, r2) => l2("sum", t, r2, n));
  }, n.functions.min = function(t, e2) {
    return n.standardFunctionAsync(t, e2, (e3, a2, r2) => l2("min", t, r2, n));
  }, n.functions.max = function(t, e2) {
    return n.standardFunctionAsync(t, e2, (e3, a2, r2) => l2("max", t, r2, n));
  }, n.functions.count = function(o2, s) {
    return n.standardFunctionAsync(o2, s, async (n2, c, u) => {
      if (oe(u, 1, 1, o2, s), B(u[0])) return u[0].count(n2.abortSignal);
      if (o(u[0]) || e(u[0])) return u[0].length;
      if (ee(u[0])) return u[0].length();
      throw new a(o2, r.InvalidParameter, s);
    });
  });
}
export {
  y as registerFunctions
};
//# sourceMappingURL=featuresetstats-D723XS4H.js.map
