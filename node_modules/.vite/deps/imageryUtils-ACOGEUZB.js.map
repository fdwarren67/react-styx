{
  "version": 3,
  "sources": ["../../@arcgis/core/layers/save/imageryUtils.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{save as e,saveAs as t}from\"./utils.js\";import{getWGS84ExtentForItem as r,removeTypeKeyword as a,typeKeyword as s,toggleTypeKeyword as i}from\"../../portal/support/portalItemUtils.js\";const y=\"Image Service\",l=\"imagery-layer-save\",n=\"imagery-layer-save-as\",m=\"imagery-tile-layer-save\",o=\"imagery-tile-layer-save-as\",c=\"WCS\",p=\"wcs-layer-save\",u=\"wcs-layer-save-as\";function g(e){if(\"imagery\"===e.type||\"wcs\"===e.type)return{isValid:!0};const{raster:t}=e,r=\"Function\"===t?.datasetFormat?t.primaryRasters?.rasters[0]:t;return{isValid:\"RasterTileServer\"===r?.datasetFormat&&(\"Raster\"===r.tileType||\"Map\"===r.tileType),errorMessage:\"imagery tile layer should be created from a tiled image service.\"}}function v(e){const t=e.layerJSON;return Promise.resolve(t&&Object.keys(t).length?t:null)}async function f(e,t){const{parsedUrl:y,title:l,fullExtent:n}=e;t.url=y.path,t.title||=l;try{t.extent=await r(n)}catch{t.extent=void 0}a(t,s.METADATA),i(t,s.TILED_IMAGERY,\"imagery-tile\"===e.type)}async function d(t,r){const a=\"imagery\"===t.type?l:\"imagery-tile\"===t.type?m:p,s=\"wcs\"===t.type?c:y;return e({layer:t,itemType:s,validateLayer:g,createItemData:v,errorNamePrefix:a},r)}async function I(e,r,a){const s=\"imagery\"===e.type?n:\"imagery-tile\"===e.type?o:u,i=\"wcs\"===e.type?c:y;return t({layer:e,itemType:i,validateLayer:g,createItemData:v,errorNamePrefix:s,newItem:r,setItemProperties:f},a)}export{d as save,I as saveAs};\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAI6L,IAAM,IAAE;AAAR,IAAwBA,KAAE;AAA1B,IAA+C,IAAE;AAAjD,IAAyE,IAAE;AAA3E,IAAqG,IAAE;AAAvG,IAAoI,IAAE;AAAtI,IAA4I,IAAE;AAA9I,IAA+JC,KAAE;AAAoB,SAAS,EAAE,GAAE;AAJ/X;AAIgY,MAAG,cAAY,EAAE,QAAM,UAAQ,EAAE,KAAK,QAAM,EAAC,SAAQ,KAAE;AAAE,QAAK,EAAC,QAAO,EAAC,IAAE,GAAE,IAAE,gBAAa,uBAAG,kBAAc,OAAE,mBAAF,mBAAkB,QAAQ,KAAG;AAAE,SAAM,EAAC,SAAQ,wBAAqB,uBAAG,mBAAgB,aAAW,EAAE,YAAU,UAAQ,EAAE,WAAU,cAAa,mEAAkE;AAAC;AAAC,SAAS,EAAE,GAAE;AAAC,QAAM,IAAE,EAAE;AAAU,SAAO,QAAQ,QAAQ,KAAG,OAAO,KAAK,CAAC,EAAE,SAAO,IAAE,IAAI;AAAC;AAAC,eAAe,EAAE,GAAE,GAAE;AAAC,QAAK,EAAC,WAAUC,IAAE,OAAMF,IAAE,YAAWG,GAAC,IAAE;AAAE,IAAE,MAAID,GAAE,MAAK,EAAE,UAAF,EAAE,QAAQF;AAAE,MAAG;AAAC,MAAE,SAAO,MAAM,EAAEG,EAAC;AAAA,EAAC,QAAM;AAAC,MAAE,SAAO;AAAA,EAAM;AAAC,IAAE,GAAE,EAAE,QAAQ,GAAE,EAAE,GAAE,EAAE,eAAc,mBAAiB,EAAE,IAAI;AAAC;AAAC,eAAe,EAAE,GAAE,GAAE;AAAC,QAAMC,KAAE,cAAY,EAAE,OAAKJ,KAAE,mBAAiB,EAAE,OAAK,IAAE,GAAE,IAAE,UAAQ,EAAE,OAAK,IAAE;AAAE,SAAO,EAAE,EAAC,OAAM,GAAE,UAAS,GAAE,eAAc,GAAE,gBAAe,GAAE,iBAAgBI,GAAC,GAAE,CAAC;AAAC;AAAC,eAAe,EAAE,GAAE,GAAEA,IAAE;AAAC,QAAM,IAAE,cAAY,EAAE,OAAK,IAAE,mBAAiB,EAAE,OAAK,IAAEH,IAAE,IAAE,UAAQ,EAAE,OAAK,IAAE;AAAE,SAAO,EAAE,EAAC,OAAM,GAAE,UAAS,GAAE,eAAc,GAAE,gBAAe,GAAE,iBAAgB,GAAE,SAAQ,GAAE,mBAAkB,EAAC,GAAEG,EAAC;AAAC;",
  "names": ["l", "u", "y", "n", "a"]
}
