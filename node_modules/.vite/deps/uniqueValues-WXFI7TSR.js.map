{
  "version": 3,
  "sources": ["../../@arcgis/core/smartMapping/support/binningUtils.js", "../../@arcgis/core/smartMapping/statistics/support/WorkerClient.js", "../../@arcgis/core/rest/query/executeQuery.js", "../../@arcgis/core/rest/generateRenderer.js", "../../@arcgis/core/rest/support/GenerateRendererParameters.js", "../../@arcgis/core/rest/support/UniqueValueDefinition.js", "../../@arcgis/core/smartMapping/statistics/support/predominanceUtils.js", "../../@arcgis/core/smartMapping/support/adapters/LayerAdapter.js", "../../@arcgis/core/smartMapping/support/adapters/support/utils.js", "../../@arcgis/core/smartMapping/support/adapters/support/histogramUtils.js", "../../@arcgis/core/smartMapping/support/adapters/InMemoryLayerAdapter.js", "../../@arcgis/core/smartMapping/support/adapters/FeatureLayerAdapter.js", "../../@arcgis/core/smartMapping/support/adapters/CSVLayerAdapter.js", "../../@arcgis/core/smartMapping/support/adapters/FeatureLayerBinningAdapter.js", "../../@arcgis/core/smartMapping/support/adapters/SceneLayerAdapter.js", "../../@arcgis/core/smartMapping/support/adapters/PointCloudLayerAdapter.js", "../../@arcgis/core/smartMapping/support/adapters/StreamLayerAdapter.js", "../../@arcgis/core/smartMapping/support/adapters/support/layerUtils.js", "../../@arcgis/core/smartMapping/statistics/uniqueValues.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport r from\"../../core/Error.js\";const e=\"aggregateCount\";function i(e,i){if(!e.view)throw new r(`${i}:missing-parameters`,\"'view' parameter is required for binning\");if(e.sqlExpression)throw new r(`${i}:invalid-parameters`,\"'sqlExpression' parameter is not supported for binning\");if(\"3d\"===e.view.type)throw new r(`${i}:invalid-parameters`,\"3d view is not supported for binning\")}export{e as aggregateCountField,i as verifyBinningParams};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport t from\"../../../core/Error.js\";import{open as e}from\"../../../core/workers/workers.js\";class n{constructor(){this.connection=null}async open(t){this.connection=await e(\"statsWorker\",{strategy:\"distributed\",signal:t})}destroy(){this.connection?.close()}static getInstance(){return n.instance||(n.instance=new n),n.instance}async summaryStatistics(e,n){if(!this.connection)throw new t(\"worker-client:summary-statistics\",\"connection is required\");return this.connection.invoke(\"summaryStatistics\",{attribute:e,features:n})}async uniqueValues(e,n){if(!this.connection)throw new t(\"worker-client:unique-values\",\"connection is required\");return this.connection.invoke(\"uniqueValues\",{attribute:e,features:n})}async classBreaks(e,n){if(!this.connection)throw new t(\"worker-client:class-breaks\",\"connection is required\");return this.connection.invoke(\"classBreaks\",{attribute:e,features:n})}async histogram(e,n){if(!this.connection)throw new t(\"worker-client:histogram\",\"connection is required\");return this.connection.invoke(\"histogram\",{attribute:e,features:n})}async heatmapStatistics(e,n){if(!this.connection)throw new t(\"worker-client:heatmap-statistics\",\"connection is required\");return this.connection.invoke(\"heatmapStatistics\",{attribute:e,features:n})}}export{n as WorkerClient};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport t from\"../../core/Error.js\";import has from\"../../core/has.js\";import{whenOrAbort as o}from\"../../core/promiseUtils.js\";import{getGlbFormatId as r,getGltfFormatId as e}from\"../../layers/support/infoFor3D.js\";import{DataLayerSource as n}from\"../../layers/support/source/DataLayerSource.js\";import{executeRawQueryJSON as s}from\"./executeQueryJSON.js\";import{executeRawQueryPBF as a}from\"./executeQueryPBF.js\";import i from\"../support/FeatureSet.js\";import u from\"../support/Query.js\";async function f(t,o,r,e){return m(o,await c(t,o,r,e),r,e)}async function c(t,o,r,e){const n={...e},i=p(o,r),u=null!=o.outStatistics?.[0],f=has(\"featurelayer-pbf-statistics\"),c=!u||f;let m;if(\"pbf\"===r?.format&&c)try{m=await a(t,i,n)}catch(d){if(\"query:parsing-pbf\"!==d.name)throw d;r.format=\"json\"}return\"json\"!==r?.format&&c||(m=await s(t,i,n)),l(r?.fieldsIndex,m.fields),m}function l(t,o){if(null!=t&&null!=o)for(const r of o){const o=t.get(r.name);o&&Object.assign(r,o.toJSON())}}async function m(t,r,e,n){const s=e?.infoFor3D;if(!d(t,s)||null==s||!r.assetMaps||!r.features?.length)return i.fromJSON(r);const{meshFeatureSetFromJSON:a}=await o(import(\"../support/meshFeatureSet.js\"),n);return a(t,s,r)}function p(o,s){let a=u.from(o);a.sourceSpatialReference=a.sourceSpatialReference??s?.sourceSpatialReference??null,(s?.gdbVersion||s?.dynamicDataSource)&&(a=a===o?a.clone():a,a.gdbVersion=o.gdbVersion||s.gdbVersion,a.dynamicDataSource=o.dynamicDataSource?n.from(o.dynamicDataSource):s.dynamicDataSource);const i=s?.infoFor3D;if(null!=i&&d(o,i)){a=a===o?a.clone():a,a.formatOf3DObjects=null;const n=r(i),s=e(i);for(const t of i.queryFormats){if(t===n){a.formatOf3DObjects=t;break}t!==s||a.formatOf3DObjects||(a.formatOf3DObjects=t)}if(!a.formatOf3DObjects)throw new t(\"query:unsupported-3d-query-formats\",\"Could not find any supported 3D object query format. Only supported formats are 3D_glb and 3D_gltf\");if(null==a.outFields||!a.outFields.includes(\"*\")){a=a===o?a.clone():a,null==a.outFields&&(a.outFields=[]);const{originX:t,originY:r,originZ:e,translationX:n,translationY:s,translationZ:u,scaleX:f,scaleY:c,scaleZ:l,rotationX:m,rotationY:p,rotationZ:d,rotationDeg:y}=i.transformFieldRoles;a.outFields.push(t,r,e,n,s,u,f,c,l,m,p,d,y)}}return a}function d(t,o){return null!=o&&!0===t.returnGeometry&&\"xyFootprint\"!==t.multipatchOption&&!t.outStatistics}export{f as executeQuery,c as executeRawQuery,l as normalizeFields};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../request.js\";import{fromJSON as t}from\"../renderers/support/jsonUtils.js\";import{parseUrl as n}from\"./utils.js\";import{executeQuery as i}from\"./query/executeQuery.js\";import a from\"./support/Query.js\";import s from\"./support/StatisticDefinition.js\";async function l(t,i,a,s){const l=n(t),{source:r,checkValueRange:u}=i,{classificationDefinition:c}=a,f={...a.toJSON(),f:\"json\"};let m=null;if(m=\"class-breaks-definition\"===c?.type?c.classificationField:c?.attributeField,r){const e={source:r?.toJSON()};f.layer=JSON.stringify(e)}f.classificationDef&&(f.classificationDef=JSON.stringify(f.classificationDef));let p={query:f};s&&(p={...s,...p});const y={url:l.path,field:m,checkValueRange:u},d=l.path+\"/generateRenderer\";return e(d,p).then((e=>o(y,e)))}function o(e,t){const{field:n,checkValueRange:l,url:o}=e,u=t?.data;if(!u)return;if(!l){const e=r(u);return Promise.resolve(e)}const c=new s({statisticType:\"min\",onStatisticField:n}),f=new s({statisticType:\"max\",onStatisticField:n}),m=new a({outStatistics:[c,f]});return i(o,m).then((e=>{const t=e.features[0].attributes;let n=null,i=null;for(const a in t)0===a.toLowerCase().indexOf(\"min\")?n=t[a]:i=t[a];return r(u,n,i)}))}function r(e,n,i){if(\"classBreaks\"===e.type){const a=t(e);return{classBreaks:a.classBreakInfos.map(((e,t)=>(0===t&&null!=n&&(e.minValue=n),t===a.classBreakInfos.length-1&&null!=i&&(e.maxValue=i),{minValue:e.minValue,maxValue:e.maxValue,label:e.label}))),normalizationTotal:a.normalizationTotal}}const{uniqueValueInfos:a}=e;return{uniqueValues:a?.map(((e,t)=>(0===t&&null!=n&&(e.value=n),t===a.length-1&&null!=i&&(e.value=i),{count:e.count,value:e.value,label:e.label})))??[]}}export{l as generateRenderer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import o from\"../../core/JSONSupport.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";let t=class extends o{constructor(r){super(r),this.classificationDefinition=null,this.where=null}};r([e({json:{name:\"classificationDef\",write:!0}})],t.prototype,\"classificationDefinition\",void 0),r([e({type:String,json:{write:!0}})],t.prototype,\"where\",void 0),t=r([s(\"esri.rest.support.GenerateRendererParameters\")],t);const i=t;export{i as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../core/JSONSupport.js\";import{property as i}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{enumeration as r}from\"../../core/accessorSupport/decorators/enumeration.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";let s=class extends e{constructor(t){super(t),this.type=\"unique-value-definition\",this.attributeField=null,this.attributeField2=null,this.attributeField3=null,this.fieldDelimiter=null}get uniqueValueFields(){const t=[];return this.attributeField&&t.push(this.attributeField),this.attributeField2&&t.push(this.attributeField2),this.attributeField3&&t.push(this.attributeField3),t}};t([r({uniqueValueDef:\"unique-value-definition\"})],s.prototype,\"type\",void 0),t([i()],s.prototype,\"attributeField\",void 0),t([i()],s.prototype,\"attributeField2\",void 0),t([i()],s.prototype,\"attributeField3\",void 0),t([i({json:{write:!0}})],s.prototype,\"fieldDelimiter\",void 0),t([i({json:{write:!0}})],s.prototype,\"uniqueValueFields\",null),s=t([o(\"esri.rest.support.UniqueValueDefinition\")],s);const u=s;export{u as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{isIntegerField as n,castIntegerFieldToFloat as a}from\"../../support/utils.js\";const e=\"no_dominant_category\";function l(n){return`(${n.map((n=>`${n} >= 0`)).join(\" OR \")})`}function u(n){return{expression:r(n,{returnFieldName:!0,defaultValue:`'${e}'`})}}function r(e,l){const{returnFieldName:u,defaultValue:r,layer:t}=l,i=[];if(u&&r){const n=e.map((n=>`${n} <= 0`)).join(\" AND \");i.push(`WHEN ${n} THEN ${r}`)}for(const o of e){const l=e.reduce(((n,a)=>(o!==a&&n.push(`${o} > ${a}`),n)),[]).join(\" AND \"),r=t&&n(t,o),s=u&&`'${o}'`?`'${o}'`:r?a(o):o;i.push(`WHEN ${l} THEN ${s}`)}return`CASE ${i.join(\" \")} ELSE ${r||\"0\"} END`}function t(n,a){const e=a.join(\" + \"),u={sqlExpression:`(${e})`,sqlWhere:l(a)},t={sqlExpression:`(( (${r(a,{layer:n})}) / (${e}) ) * 100)`,sqlWhere:`${l(a)} AND ((${e}) > 0)`};return{predominantCategory:{valueExpression:s(a)},size:{valueExpression:$(a),statisticsQuery:u,histogramQuery:u},opacity:{valueExpression:V(a),statisticsQuery:t,histogramQuery:t}}}function i(n){return n&&n.map((n=>`$feature[\"${n}\"];`)).join(\"\\n\")+\"\\n\"||\"\"}function o(n,a=!1){const e=n.map((n=>`\"${n}\"`)),l=\"\\n  if(value != null && value >= 0) {\\n    if (totalValue == null) { totalValue = 0; }\\n    totalValue = totalValue + value;\\n  }\\n  \";return`\\n  var fieldNames = [ ${e.join(\", \")} ];\\n  var numFields = ${e.length};\\n  var maxValueField = null;\\n  var maxValue = -Infinity;\\n  var value, i, totalValue = null;\\n\\n  for(i = 0; i < numFields; i++) {\\n    value = $feature[fieldNames[i]];\\n\\n    if(value > 0) {\\n      if(value > maxValue) {\\n        maxValue = value;\\n        maxValueField = fieldNames[i];\\n      }\\n      else if (value == maxValue) {\\n        maxValueField = null;\\n      }\\n    }\\n    ${a?l:\"\"}\\n  }\\n  `}function s(n){const a=o(n);return`\\n  ${i(n)}\\n  ${a}\\n  return maxValueField;\\n  `}function f(n){const a=o(n);return`\\n  ${i(n)}\\n  ${a}\\n  return maxValue;\\n  `}function v(n,a){const e=m(n),l=i(e),u=n.map((n=>n.label?`\"${n.label}\"`:`\"${n.fieldName}\"`)),r=e.map((n=>`Number($feature[\"${n}\"])`)),t=[];return a&&a.forEach(((n,a)=>{t.push(`function getValueForExpr${a}() {\\n  ${n.expression} \\n}`),r.push(`Number(getValueForExpr${a}())`),u.push(`\"${n.title||n.name}\"`)})),`\\n  ${l}\\n\\n  ${t.length?t.join(\"\\n\"):\"\"}\\n\\n  var values = [ ${r.join(\", \")} ];\\n  var aliases = [ ${u.join(\", \")} ];\\n  var numValues = ${r.length};\\n  var maxValueAlias = null;\\n  var maxValue = -Infinity;\\n  var value, i, totalValue = null;\\n\\n  for(i = 0; i < numValues; i++) {\\n    value = values[i];\\n\\n    if(value > 0) {\\n      if(value > maxValue) {\\n        maxValue = value;\\n        maxValueAlias = aliases[i];\\n      }\\n      else if (value == maxValue) {\\n        maxValueAlias = \"Tie\";\\n      }\\n    }\\n  }\\n  return maxValueAlias;\\n  `}function m(n){return n.filter((({fieldName:n})=>!!n)).map((n=>n.fieldName))}function p(n){return`\\n  ${i(n)}\\n  var fieldValues = [ ${n.map((n=>`$feature[\"${n}\"]`)).join(\", \")} ];\\n  var totalValue = Sum(fieldValues);\\n  var order = Reverse(Sort(fieldValues));\\n  return IIF(totalValue > 0, Round(((order[0] - order[1]) / totalValue) * 100, 2), null);\\n  `}function $(n){const a=i(n),e=n.map((n=>`\"${n}\"`));return`\\n  ${a}\\n  var fieldNames = [ ${e.join(\", \")} ];\\n  var numFields = ${e.length};\\n  var value, i, totalValue = null;\\n\\n  for(i = 0; i < numFields; i++) {\\n    value = $feature[fieldNames[i]];\\n\\n    if(value != null && value >= 0) {\\n      if (totalValue == null) { totalValue = 0; }\\n      totalValue = totalValue + value;\\n    }\\n  }\\n\\n  return totalValue;\\n  `}function V(n){const a=o(n,!0);return`\\n  ${i(n)}\\n  ${a}\\n\\n  var strength = null;\\n\\n  if (maxValueField != null && totalValue > 0) {\\n    strength = (maxValue / totalValue) * 100;\\n  }\\n\\n  return strength;\\n  `}function c(n,a){const e=i(m(n)),l=n.map((n=>`{\\n    value: Number($feature[\"${n.fieldName}\"]),\\n    alias: \"${n.label||n.fieldName}\"\\n    }`)),u=[];return a&&a.forEach(((n,a)=>{u.push(`function getValueForExpr${a}() {\\n  ${n.expression} \\n}`),l.push(`{\\n          value: Number(getValueForExpr${a}()),\\n          alias: \"${n.title||n.name}\"\\n          }`)})),`\\n  ${e}\\n\\n  ${u.length?u.join(\"\\n\"):\"\"}\\n\\n  var groups = [ ${l.join(\", \")} ];\\n  var numTopValues = Count(groups);\\n\\n  function getValuesArray(arr){\\n    var valuesArray = []\\n    for(var i in arr){\\n      valuesArray[i] = arr[i].value;\\n    }\\n    return valuesArray;\\n  }\\n\\n  function findAliases(top5Array, fullArray){\\n    var aliases = [];\\n    var found = \"\";\\n    for(var i in top5Array){\\n      for(var k in fullArray){\\n        if(top5Array[i] == fullArray[k].value && Find(fullArray[k].alias, found) == -1){\\n          found += fullArray[k].alias;\\n          aliases[Count(aliases)] = {\\n            alias: fullArray[k].alias,\\n            value: top5Array[i]\\n          };\\n        }\\n      }\\n    }\\n    return aliases;\\n  }\\n\\n  function getTopGroups(groupsArray){\\n    var values = getValuesArray(groupsArray);\\n    var top5Values = IIF(Max(values) > 0, Top(Reverse(Sort(values)),numTopValues), \"no data\");\\n    var top5Aliases = findAliases(top5Values,groupsArray);\\n\\n    if(TypeOf(top5Values) == \"String\"){\\n      return top5Values;\\n    } else {\\n      var content = \"\";\\n      for(var i in top5Aliases){\\n        if(top5Aliases[i].value > 0){\\n          content += (i+1) + \". \" + top5Aliases[i].alias + \" (\" + Text(top5Aliases[i].value, \"#,###\") + \")\";\\n          content += IIF(i < numTopValues-1, TextFormatting.NewLine, \"\");\\n        }\\n      }\\n    }\\n\\n    return content;\\n  }\\n\\n  getTopGroups(groups);\\n  `}export{m as fieldNamesFromFieldInfos,c as getArcadeForOrderedFields,p as getArcadeForPredominanceMargin,s as getArcadeForPredominantCategory,v as getArcadeForPredominantCategoryAlias,f as getArcadeForPredominantCategoryValue,V as getArcadeForStrengthOfPredominance,$ as getArcadeForSumOfFields,t as getPredominanceExpressions,u as getSQLForPredominantCategoryName,e as noDominantCategoryField};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Loadable.js\";import{property as t}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as e}from\"../../../core/accessorSupport/decorators/subclass.js\";let p=class extends r{constructor(o){super(o),this.adapterName=\"layer-adapter\"}};o([t({readOnly:!0})],p.prototype,\"adapterName\",void 0),o([t({constructOnly:!0})],p.prototype,\"layer\",void 0),o([t()],p.prototype,\"geometryType\",void 0),o([t()],p.prototype,\"objectIdField\",void 0),o([t()],p.prototype,\"supportsSQLExpression\",void 0),o([t()],p.prototype,\"hasQueryEngine\",void 0),o([t()],p.prototype,\"minScale\",void 0),o([t()],p.prototype,\"maxScale\",void 0),o([t()],p.prototype,\"fullExtent\",void 0),p=o([e(\"esri.smartMapping.support.adapters.LayerAdapter\")],p);const s=p;export{s as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/arrayUtils.js\";import{throwIfAborted as t}from\"../../../../core/promiseUtils.js\";import{CodedValue as n}from\"../../../../layers/support/CodedValue.js\";import\"../../../../core/has.js\";import l from\"../../../../layers/support/CodedValueDomain.js\";import\"../../../../layers/support/Domain.js\";import\"../../../../layers/support/InheritedDomain.js\";import\"../../../../layers/support/RangeDomain.js\";import i from\"../../../../layers/support/Field.js\";import{isTimeOnlyField as o,isStringField as a}from\"../../../../layers/support/fieldUtils.js\";import r from\"../../../../rest/support/StatisticDefinition.js\";import{noDominantCategoryField as s}from\"../../../statistics/support/predominanceUtils.js\";import{getRangeExpr as u,getSQLFilterForNormalization as c,mergeWhereClauses as m}from\"../../../statistics/support/utils.js\";import{isIntegerField as f,getDateDiffSQL as p,castIntegerFieldToFloat as d,isAnyDateField as y}from\"../../utils.js\";import{getEqualIntervalBins as g,isNullCountSupported as x,statisticTypes as v,processNullValue as h}from\"../../../../statistics/utils.js\";const F=/_value$/i,w=Math.LOG10E,E={SECOND:1e3,MINUTE:6e4,HOUR:36e5},S=10;function T(e){return e.map((e=>e.toJSON()))}function V(e,t){const n=[],l=e.layer,i=\"featureReduction\"in l?l.featureReduction:null,o=\"binning\"===i?.type,a=null!=i&&\"fields\"in i?i.fields?.map((e=>e.name?.toLowerCase())).filter(Boolean):[];if(!o||!t)return n;for(const r of t)a.includes(r.toLowerCase())||n.push(r);return n}function z(e,t,n){const l=[];if(t)for(const i of t){const t=e.getField(i);t&&n&&\"availableFields\"in n&&!n.availableFields?.includes(t.name)&&l.push(t.name)}return l}function $(e,t){const n=e&&e.features;if(0===n?.length)return{avg:null,count:0,max:null,median:null,min:null,nullcount:0,stddev:null,sum:null,variance:null};const l=n?.[0]?.attributes,i={};for(const o in l)i[o.replace(F,\"\").toLowerCase()]=l[o];return null!=i.totalcount&&i.totalcount>=i.count&&(i.nullcount=i.totalcount-i.count),delete i.totalcount,i.min===i.max&&null!=i.min&&null==i.stddev&&(i.stddev=i.variance=0),t&&([\"min\",\"max\",\"avg\",\"stddev\",\"sum\",\"variance\"].forEach((e=>{null!=i[e]&&(i[e]=Math.ceil(i[e]))})),i.min===i.max&&null!=i.min&&(i.avg=i.min,i.stddev=i.variance=0)),i}function C(e){const t=[],n=e.classBreaks,l=n[0].minValue,i=n[n.length-1].maxValue;n.forEach((e=>{t.push([e.minValue,e.maxValue])}));const o={field:e.field,normalizationType:e.normalizationType,normalizationField:e.normalizationField,normalizationTotal:e.normalizationTotal,layer:e.layer};return{min:l,max:i,intervals:t,sqlExpr:j(o),excludeZerosExpr:e.where,normTotal:e.normalizationTotal}}function j(e){const{field:t,normalizationType:n,normalizationField:l,normalizationTotal:i,layer:o}=e,a=f(o,t);let r=t;return\"percent-of-total\"===n?r=`((${a?d(t):t} / ${i}) * 100)`:\"log\"===n?r=`(log(${t}) * ${w})`:\"field\"===n?r=`(${a?d(t):t} / ${l})`:\"natural-log\"===n?r=`(log(${a?d(t):t}))`:\"square-root\"===n&&(r=`(power(${a?d(t):t}, 0.5))`),r}function q(e,t){let n;if(t=t.toLowerCase(),e)for(const l in e)if(l.toLowerCase()!==t){n=e[l];break}return n}function b(e,t){let n;if(t=t.toLowerCase(),e)for(const l in e)if(l.toLowerCase()===t){n=e[l];break}return n}function O(e,t,n,l,i){const o={},a=\"countOFExpr\";e&&e.features&&e.features.forEach((e=>{const t=e.attributes,n=q(t,a),l=b(t,a);null!=n&&null!=l&&0!==n&&(o[n]=l)}));const r=[];return g(t,n,l).forEach(((e,t)=>{const n=(t+1).toString();r.push({minValue:e[0],maxValue:e[1],count:o.hasOwnProperty(n)?o[n]:0})})),{bins:r,minValue:t,maxValue:n,normalizationTotal:i}}async function L(e,n){const l=e&&e.features,{field:i,field2:o,field3:a,fieldDelimiter:r,layer:s,view:u,signal:c,labels:m}=n,f=`countOF${!(!i||!o)?\"Expr\":i||\"Expr\"}`,p={};let d=!1;for(const t of l){const e=t.attributes,n=b(e,f);let l=i?b(e,i):q(e,f),s=o?b(e,o):null,u=a?b(e,a):null;null===l&&0===n&&(d=!0),(null==l||\"string\"==typeof l&&\"\"===l.trim())&&(l=null),o&&(null==s||\"string\"==typeof s&&\"\"===s.trim())&&(s=null),a&&(null==u||\"string\"==typeof u&&\"\"===u.trim())&&(u=null);let c=l;o&&(c=`${h(c)}${r}${h(s)}`,a&&(c=`${c}${r}${h(u)}`)),null==p[c]?p[c]={count:n,data:c}:p[c].count=p[c].count+n}if(i&&d){const e=i+\" is NULL\";try{const t=await s.queryFeatureCount({whereClause:e,view:u,signal:c});return p.null.count=p.null.count+t,R(p,m)}catch{return t(c),R(p,m)}}return R(p,m)}function R(e,t){if(t)for(const n in e)e[n].label=t[n];return{count:e}}async function D(e,t,i){const o=e?i.getField(e):null,a=o?i.getFieldDomain(o.name):null;if(a)return a;const{uniqueValueInfos:r}=await i.uniqueValues({field:e,sqlWhere:t.sqlWhere,features:t.features,useFeaturesInView:t.useFeaturesInView,view:t.view,signal:t.signal}),s=r.map((e=>new n({code:e.value})));return new l({codedValues:s})}async function I(e,t){if(!e.returnAllCodedValues)return[];const{field:n,field2:l,field3:i}=e;if(n&&!l){const e=n?t.getField(n):null,l=e?t.getFieldDomain(e.name):null;return l?[l]:[]}const o=[];return n&&(o.push(D(n,e,t)),l&&(o.push(D(l,e,t)),i&&o.push(D(i,e,t)))),Promise.all(o)}function N(e,t){return p(e,new Date(0),t,\"milliseconds\").sqlExpression}function U(e,t){return`EXTRACT(${t} FROM ${e}) * ${E[t]}`}function M(e){if(!e)return null;return d([\"HOUR\",\"MINUTE\",\"SECOND\"].map((t=>`(${U(e,t)})`)).join(\" + \"))}function B(e){return{viewingMode:\"2d\"===e.type?\"map\":e.viewingMode,scale:e.scale,spatialReference:e.spatialReference?.toJSON()}}function Q(e,t){const n=new Set(e.map((e=>e.value))),l=t.filter((e=>!n.has(e)));for(const i of l)e.push({value:i,count:0});e.sort(((e,n)=>t.indexOf(e.value)-t.indexOf(n.value)));for(const i of e)i.value===s&&(i.value=null);return{predominantCategoryInfos:e}}function P(t){const n=\"featureReduction\"in t?t.featureReduction:null;return((null!=n&&\"fields\"in n?n.fields:null)??[]).map((e=>{const n=W(e,t.fieldsIndex);return n?new i({type:n,name:e.name,alias:e.alias}):null})).filter(e)}function W(e,t){switch(e.statisticType){case\"avg\":case\"avg_angle\":return\"double\";case\"count\":return\"integer\";case\"min\":case\"max\":case\"sum\":return e.onStatisticField?t.get(e.onStatisticField)?.type??null:e.onStatisticExpression?\"string\"===e.onStatisticExpression.returnType?null:\"double\":null;case\"mode\":return e.onStatisticField?t.get(e.onStatisticField)?.type??null:e.onStatisticExpression?\"string\"===e.onStatisticExpression.returnType?\"string\":\"double\":null;default:return null}}function _(e,t){return y(t)?N(e,t?.name):o(t)?M(t?.name):null}function k(e,t,n){const{field:l,normalizationType:i,normalizationField:o,normalizationTotal:s,minValue:f,maxValue:p,filter:d}=t,y=e.supportsSQLExpression?_(e,n)||t.sqlExpression:null,g=j({field:l,normalizationType:i,normalizationField:o,normalizationTotal:s,layer:e}),h=y||g,F=h?u(h,f,p):null,w=c({field:l,normalizationField:o,normalizationType:i}),E=m(t.sqlWhere,w),S=m(E,F),T=x({normalizationField:o,normalizationType:i,sqlExpression:y,supportsSQLExpression:e.supportsSQLExpression,minValue:f,maxValue:p}),V=a(e.getField(l??void 0)),{include:z,exclude:$}=t.outStatisticTypes||{},C=v.filter((e=>(!z||z.includes(e))&&(!$||!$.includes(e))&&(\"nullcount\"===e?T:!V||\"count\"===e))),q=e.createQuery();return q.where=m(q.where,S),q.sqlFormat=y?\"standard\":null,q.outStatistics=C.map((t=>{const n=new r;let l=null,i=null,o=`${t}_value`;if(\"variance\"===t)l=\"var\",i=h;else if(\"nullcount\"===t){const t=e.objectIdField;l=\"count\",i=t&&e.getField(t)?t:\"1\",o=\"totalcount_value\"}else\"median\"===t?(l=\"percentile-continuous\",i=h,n.statisticParameters={value:.5}):(l=t,i=h);return n.statisticType=l,n.onStatisticField=i,n.outStatisticFieldName=o,n})),A(q,d),q}function A(e,t){t&&(e.geometry=t.geometry,e.spatialRelationship=t.spatialRelationship)}function H(e,t){const{field:n,field2:l,field3:i,sqlExpression:o}=t,a=!(!n||!l),r=e.createQuery();return r.where=m(r.where,t.sqlWhere),r.sqlFormat=o?\"standard\":null,r.outStatistics=[J(a?null:n,a?\"1\":o)].filter(Boolean),r.groupByFieldsForStatistics=[n||o,l,i].filter(Boolean),A(r,t.filter),r}function J(e,t){const n=\"countOF\"+(e||\"Expr\"),l=new r;return l.statisticType=\"count\",l.onStatisticField=t?\"1\":e,l.outStatisticFieldName=n,l}function Z(e,t,n,l=S,i,o,a){const{min:r,max:s,normTotal:u,excludeZerosExpr:c}=t,m=t.intervals||g(r,s,l),f=t.sqlExpr||n;return G(e,m,f,c,i,o,a).then((e=>({bins:e.map(((e,t)=>({minValue:m[t][0],maxValue:m[t][1],count:\"fulfilled\"===e.status?e.value:0}))),minValue:r,maxValue:s,normalizationTotal:u})))}function G(e,t,n,l,i,o,a){const r=[],s=t.length;for(let u=0;u<s;u++){const e=m(l,m(n+\" >= \"+t[u][0],null!==t[u][1]?n+(u===s-1?\" <= \":\" < \")+t[u][1]:\"\"));r.push(e)}return Promise.allSettled(r.map((t=>e.queryFeatureCount({whereClause:t,view:i,filter:o,signal:a}))))}export{S as defaultNumBins,T as ensureFeaturesJSON,C as generateBinParams,W as getAggregateFieldType,Z as getBins,I as getDomainsForFields,P as getFeatureReductionFields,j as getFieldExpr,O as getHistogramFromFeatureSet,z as getMissingFields,V as getMissingFieldsForBinning,Q as getPredominantCategoriesFromUVInfos,_ as getSQLExpressionForDateOrTimeField,$ as getSummaryStatisticsFromFeatureSet,k as getSummaryStatsQuery,H as getUVQuery,L as getUniqueValuesFromFeatureSet,B as getViewInfoParams,M as msForTimeOnlyFieldSQL,N as msSinceUnixEpochSQL,A as updateQueryWithFeatureFilter};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport i from\"../../../../core/Error.js\";import{resolveTimeZone as e}from\"../../../../intl/date.js\";import{isTimeOnlyField as n,isDateField as t,isTimestampOffsetField as a,isDateOnlyField as r}from\"../../../../layers/support/fieldUtils.js\";import o from\"../../../../rest/support/AttributeBinsQuery.js\";import l from\"../../../../rest/support/AutoIntervalBinParameters.js\";import s from\"../../../../rest/support/DateBinParameters.js\";import u from\"../../../../rest/support/FixedBoundariesBinParameters.js\";import m from\"../../../../rest/support/FixedIntervalBinParameters.js\";import d from\"../../../../rest/support/GenerateRendererParameters.js\";import p from\"../../../../rest/support/StatisticDefinition.js\";import{getSQLFilterForNormalization as f,mergeWhereClauses as c,getRangeExpr as y}from\"../../../statistics/support/utils.js\";import{isAnyDateField as z}from\"../../utils.js\";import{getSQLExpressionForDateOrTimeField as v,getFieldExpr as x,defaultNumBins as w,generateBinParams as T,updateQueryWithFeatureFilter as h,getViewInfoParams as F}from\"./utils.js\";import{createClassBreaksDefinition as B}from\"../../../../statistics/utils.js\";const V=\"countOFExpr\",j=\"lowerBoundary\",q=\"upperBoundary\";function I(i,e,t){const a=i.valueExpression||i.sqlExpression,r=i.signal;if(!a){const{field:a,normalizationType:o,normalizationField:l}=i,s=a?e.getField(a):null,u=z(s)||n(s),m={field:a,normalizationType:o,normalizationField:l,normalizationTotal:t,layer:e};return{sqlExpression:u?v(e,s):x(m),sqlWhere:u?null:i.sqlWhere||f({field:a,normalizationType:o,normalizationField:l}),filter:i.filter,signal:r}}return{valueExpression:i.valueExpression,sqlExpression:i.sqlExpression,sqlWhere:i.sqlWhere,filter:i.filter,signal:r}}async function M(i,e,n){const{field:t,normalizationType:a,normalizationField:r,signal:o}=i,l=f({field:t,normalizationType:a,normalizationField:r}),s=new d({classificationDefinition:B({field:t,normalizationType:a,normalizationField:r,classificationMethod:i.classificationMethod,standardDeviationInterval:i.standardDeviationInterval,definedInterval:i.definedInterval,breakCount:i.numBins||w}),where:c(l,n)});return e.generateRenderer(s,o).then((i=>{const{normalizationTotal:n,classBreaks:o}=i;return T({field:t,normalizationType:a,normalizationField:r,normalizationTotal:n,classBreaks:o,where:l,layer:e})}))}async function g(e,t,a,o,d){const{field:p,sqlExpression:f,normalizationField:c,classificationMethod:z,normalizationType:v}=e,T=p?t.getField(p):null,h=n(T),F=r(T)||h,B=e.numBins||w;if(F){if(v||z)throw new i(`${t.adapterName}:not-supported`,\"NormalizationType and classificationMethod are not supported for date-only and time-only fields\");const e=(o-a)/B/1e3,n=e/86400;return new s({field:p,expression:f,interval:{unit:h?\"seconds\":\"days\",value:Math.ceil(h?e:n)},start:a,end:o})}if(\"defined-interval\"===z)return new m({field:p,expression:f,normalizationField:c,normalizationTotal:d,normalizationType:v,interval:e.definedInterval??Math.ceil((o-a)/B),start:v?null:a,end:v?null:o,normalizationMinValue:v?a:null,normalizationMaxValue:v?o:null});if(\"manual\"===z)throw new i(`${t.adapterName}:not-supported`,\"Layer does not support manual classificationMethod\");if(\"natural-breaks\"===z||\"quantile\"===z||\"standard-deviation\"===z){const n=x({field:p,normalizationField:c,normalizationTotal:d,normalizationType:v,layer:t}),r=null!==e.minValue&&null!==e.maxValue?y(n,e.minValue,e.maxValue):void 0,o=await M(e,t,r);if(!o.intervals)throw new i(`${t.adapterName}:invalid`,\"Invalid intervals returned from generate renderer\");const l=[a,...o.intervals.map((i=>i[1]))];return new u({field:v?null:p,expression:v?n:f,boundaries:l})}return new l({field:p,normalizationField:c,normalizationTotal:d,normalizationType:v,expression:f,numBins:B,start:v?null:a,end:v?null:o,normalizationMinValue:v?a:null,normalizationMaxValue:v?o:null})}function E(i,e,n,t){return null!=n&&null!=t?Promise.resolve({min:n,max:t}):e.summaryStatistics({...i,outStatisticTypes:{include:[\"min\",\"max\"]}}).then((i=>({min:i.min,max:i.max})))}async function b(i,n,r,l){const{field:s,minValue:u,maxValue:m,filter:d,view:f}=i,y=s?n.getField(s):null,z=t(y)||a(y),v=I(i,n,r),{min:x,max:w}=await E(v,n,u,m);if(null==x||null==w)return{query:null,min:x,max:w};const T=new p({statisticType:\"count\",outStatisticFieldName:V,onStatisticField:\"1\"}),F=c(l,v.sqlWhere),B=\"lowerBoundary\",j=\"upperBoundary\",q=new o({binParameters:await g(i,n,x,w,r),outStatistics:[T],binOrder:i.sortOrder,where:F,lowerBoundaryAlias:B,upperBoundaryAlias:j,outTimeZone:f?.timeZone&&z?e(f.timeZone):null});return h(q,d),{query:q,min:x,max:w}}function D(i,e=!1){if(\"string\"!=typeof i)return i;return(e?new Date(`1970-01-01T${i}Z`):new Date(i)).getTime()}function P(i,e,t){const a=n(e);return{...t,bins:i.features.map((i=>({minValue:D(i.attributes[j],a),maxValue:D(i.attributes[q],a),count:i.attributes[V]})))}}function S(i,e,n){const{valueExpression:t,view:a}=i,{featuresJSON:r,graphics:o,fieldInfos:l}=e,s={field:i.field,valueExpression:t,normalizationType:i.normalizationType,normalizationField:i.normalizationField,normalizationTotal:n,minValue:i.minValue,maxValue:i.maxValue,standardDeviationInterval:i.standardDeviationInterval,classificationMethod:i.classificationMethod,numBins:i.numBins};return t&&a&&(r||o)&&(s.viewInfoParams=F(a),s.timeZone=a.timeZone,s.fieldInfos=l),s}export{M as binParamsFromGenRend,D as formatHistogramBinValue,b as getAttributeBinsQuery,E as getDataRange,S as getHistogramAttributeDefinition,I as getQueryParamsForExpr,P as processQueryAttributeBinsResult};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{pickRandom as t}from\"../../../core/arrayUtils.js\";import r from\"../../../core/Error.js\";import a from\"../../../core/Logger.js\";import{assertIsSome as i}from\"../../../core/maybe.js\";import{timeout as s,throwIfAborted as o}from\"../../../core/promiseUtils.js\";import{whenOnce as n}from\"../../../core/reactiveUtils.js\";import{property as l}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import{subclass as u}from\"../../../core/accessorSupport/decorators/subclass.js\";import{toQuantizationTransform as m}from\"../../../geometry/support/quantizationUtils.js\";import{kebabDict as p}from\"../../../layers/support/fieldType.js\";import{isTimeOnlyField as y}from\"../../../layers/support/fieldUtils.js\";import c from\"../../../rest/support/QuantizationParameters.js\";import{getArcadeForPredominantCategory as f}from\"../../statistics/support/predominanceUtils.js\";import{summaryStatistics as d,uniqueValues as h,histogram as w,classBreaks as g,heatmapStatistics as F}from\"../../statistics/support/statsWorker.js\";import{mergeWhereClauses as S}from\"../../statistics/support/utils.js\";import{WorkerClient as v}from\"../../statistics/support/WorkerClient.js\";import{getFieldsList as q,isAnyDateField as V,fieldDelimiter as x}from\"../utils.js\";import _ from\"./LayerAdapter.js\";import{getHistogramAttributeDefinition as z,getAttributeBinsQuery as T,processQueryAttributeBinsResult as N}from\"./support/histogramUtils.js\";import{ensureFeaturesJSON as M,getSummaryStatsQuery as L,getSummaryStatisticsFromFeatureSet as E,getViewInfoParams as C,getMissingFields as j,updateQueryWithFeatureFilter as b,getUVQuery as k,getUniqueValuesFromFeatureSet as I,getBins as O,getDomainsForFields as Q,getPredominantCategoriesFromUVInfos as J}from\"./support/utils.js\";import{processSummaryStatisticsResult as B,createUVResult as P,resolveCBResult as U}from\"../../../statistics/utils.js\";import{loadArcade as A}from\"../../../support/arcadeOnDemand.js\";const $=5;let G=null,R=class extends _{constructor(){super(...arguments),this._hasLocalSource=!1,this.adapterName=\"in-memory-layer-adapter\"}destroy(){this.workerClient?.destroy()}async _waitForLayerViewUpdate(e){if(!e)throw new r(`${this.adapterName}:insufficient-data\", \"layerView is required to fetch the features`);const t=new AbortController,i=n((()=>!e.updating),t.signal);await s(i,5e3,t).catch((e=>{throw a.getLogger(this).warn(\"LayerView is taking too long to update. Aborting fetch from layerView.\"),e}))}async _fetchFeatureSetFromMemory(e,t,a){const i=this.layer;if(this._hasLocalSource&&\"queryFeatures\"in i)return i.queryFeatures(e);if(!t)throw new r(`${this.adapterName}:insufficient-data`,\"view is required to fetch the features from layerView\");const s=await t.whenLayerView(this.layer);return await this._waitForLayerViewUpdate(s),s.queryFeatures(e,{signal:a})}async _fetchFeaturesFromMemory(e,t,a,i){const s=this.layer,o=\"json\"===i;if(this._hasLocalSource&&\"queryFeatures\"in s){const e=await s.queryFeatures(t);return o?M(e.features):e.features}if(await this._waitForLayerViewUpdate(e),o&&\"queryFeaturesJSON\"in e&&e.queryFeaturesJSON){const{features:r}=await e.queryFeaturesJSON(t,{signal:a});return r}if(!(\"queryFeatures\"in e))throw new r(`${this.adapterName}:not-supported`,\"'queryFeatures' is not supported on the layerView\");const n=await e.queryFeatures(t,{signal:a});return o?M(n.features):n.features}_fetchFeaturesForStats(e,t){return q({field:e.field,field2:e.field2,field3:e.field3,normalizationField:e.normalizationField,valueExpression:e.valueExpression}).then((r=>this.getSampleFeatures({sampleSize:-1,view:e.view,returnGeometry:e.returnGeometry,filter:e.filter,requiredFields:r,signal:e.signal},t)))}async _summaryStatsFromClientQuery(e,t){const{view:r,signal:a}=e,i=L(this,e,t),s=await this._fetchFeatureSetFromMemory(i,r,a),o=E(s,V(t)||y(t));return B(o,e.outStatisticTypes)}async _getNormalizationTotalFromMemory(e,t,a){const{featuresJSON:i,graphics:s,layerView:o,query:n}=t,l={include:[\"sum\"]},u=(!i&&!s&&o&&\"querySummaryStatistics\"in o?await o.querySummaryStatistics(n,{field:e},{signal:a}):i?await this.workerClient.summaryStatistics({field:e,outStatisticTypes:l},i):await d({attribute:{field:e,outStatisticTypes:l},features:s??[]})).sum;if(null==u)throw new r(`${this.adapterName}:invalid`,\"invalid normalizationTotal\");return u}async _summaryStatsFromMemory(e,t){const{view:r,field:a,valueExpression:i,normalizationType:s,signal:o}=e,n={field:a,valueExpression:i,normalizationType:s,normalizationField:e.normalizationField,normalizationTotal:e.normalizationTotal,minValue:e.minValue,maxValue:e.maxValue,outStatisticTypes:e.outStatisticTypes},{featuresJSON:l,graphics:u,layerView:m,query:y,fieldInfos:c}=await this._processStatsFromMemoryParams({...e,layerViewFunc:\"querySummaryStatistics\"});return i&&r&&(l||u)&&(n.fieldType=t?.type?p.toJSON(t.type):null,n.viewInfoParams=C(r),n.timeZone=r.timeZone,n.fieldInfos=c),\"percent-of-total\"===s&&null==e.normalizationTotal&&(n.normalizationTotal=await this._getNormalizationTotalFromMemory(a,{featuresJSON:l,graphics:u,layerView:m,query:y},o)),!l&&!u&&m&&\"querySummaryStatistics\"in m?m.querySummaryStatistics(y,n,{signal:o}):l?this.workerClient.summaryStatistics(n,l):d({attribute:n,features:u})}async _getFilteredFeatures(e,t){let r=[];if(\"intersects\"===t?.spatialRelationship){const{intersect:a}=await import(\"../../../geometry/geometryEngineAsync.js\"),i=null!=t.geometry?t.geometry:null;for(const t of e){const e=null!=t.geometry?t.geometry:null;if(e&&i){await a(e,i)&&r.push(t)}}}else r=e;return e.length&&\"declaredClass\"in e[0]&&\"esri.Graphic\"===e[0].declaredClass?{graphics:r}:{featuresJSON:r}}async _processStatsFromMemoryParams(e){const{features:t,filter:r}=e;if(t?.length)return this._getFilteredFeatures(t,r);const{view:a,field:i,field2:s,field3:o,normalizationField:n,valueExpression:l,layerViewFunc:u,signal:m}=e;let p=e.returnGeometry;if(null==p&&l){if(!G){const{arcadeUtils:e}=await A();G=e}const e=G.hasGeometryOperations(l);e&&await G.enableGeometryOperations(),p=e}let y=null,c=null,f=null,d=null,h=null;if(a)try{const e=\"subtype-sublayer\"===this.layer.type?this.layer.parent:this.layer;y=await a.whenLayerView(e),c=null!=u&&u in y&&\"function\"==typeof y[u]}catch{c=!1}if(c)try{await this._waitForLayerViewUpdate(y);const e=await q({field:i,field2:s,field3:o,normalizationField:n,valueExpression:l});j(this,e,y).length?c=!1:(f=this.layer.createQuery(),f.outFields=e,f.returnGeometry=!1,b(f,r)),y.suspended&&(c=!1)}catch{c=!1}return c||(d=await this._fetchFeaturesForStats({field:i,field2:s,field3:o,valueExpression:l,normalizationField:n,returnGeometry:p,filter:r,view:a,signal:m},\"json\"),h=(await q({valueExpression:l})).map((e=>this.getField(e)?.toJSON())).filter(Boolean)),{layerView:y,query:f,featuresJSON:d,fieldInfos:h}}async _uvFromClientQuery(e,t){const{view:r,signal:a}=e,i=k(this,e),s=await this._fetchFeatureSetFromMemory(i,r,a),o=await I(s,{layer:this,field:e.field,field2:e.field2,field3:e.field3,fieldDelimiter:x,view:e.view,signal:e.signal});return P(o,t,e.returnAllCodedValues,x)}async _uvFromMemory(e,t){const{view:r,field:a,valueExpression:i,returnAllCodedValues:s,signal:o}=e,{featuresJSON:n,graphics:l,layerView:u,query:m,fieldInfos:p}=await this._processStatsFromMemoryParams({...e,layerViewFunc:\"queryUniqueValues\"}),y={field:a,field2:e.field2,field3:e.field3,fieldDelimiter:x,valueExpression:i,domains:t,returnAllCodedValues:s};return i&&r&&(n||l)&&(y.viewInfoParams=C(r),y.timeZone=r.timeZone,y.fieldInfos=p),!n&&!l&&u&&\"queryUniqueValues\"in u?u.queryUniqueValues(m,y,{signal:o}):n?this.workerClient.uniqueValues(y,n):h({attribute:y,features:l})}_histogramForField(e){let t=null;return t=null!=e.minValue&&null!=e.maxValue?Promise.resolve({min:e.minValue,max:e.maxValue}):this.summaryStatistics({...e,outStatisticTypes:{include:[\"min\",\"max\",\"count\"]}}).then((e=>{if(!e.count)throw new r(`${this.adapterName}:insufficient-data`,\"Either the layer has no features or none of the features have data for the field\");return{min:e.min,max:e.max}})),t.then((t=>O(this,{min:t.min,max:t.max},e.field,e.numBins??void 0,e.view,e.filter,e.signal)))}async _histogramFromQueryAttributeBinsFromMemory(e){const{field:t,normalizationType:r,signal:a}=e,i=await this._processStatsFromMemoryParams({...e,layerViewFunc:\"queryAttributeBins\"}),{featuresJSON:s,graphics:o,layerView:n,query:l}=i,u=\"percent-of-total\"===r?e.normalizationTotal??await this._getNormalizationTotalFromMemory(t,i,a):void 0;if(!n||!(\"queryAttributeBins\"in n)||s||o){const t=z(e,i,u);return s?this.workerClient.histogram(t,s):w({attribute:t,features:o})}const{query:m,min:p,max:y}=await T(e,this,u,l?.where);if(!m)return{bins:[],minValue:p,maxValue:y,normalizationTotal:u};const c=await n.queryAttributeBins(m,{signal:a});return N(c,t?this.getField(t):null,{minValue:p,maxValue:y,normalizationTotal:u})}async _histogramFromMemory(e){const{field:t,signal:r}=e,a=await this._processStatsFromMemoryParams({...e,layerViewFunc:\"queryHistogram\"}),{featuresJSON:i,graphics:s,layerView:o,query:n}=a,l=\"percent-of-total\"===e.normalizationType?e.normalizationTotal??await this._getNormalizationTotalFromMemory(t,a,r):void 0,u=z(e,a,l);return!i&&!s&&o&&\"queryHistogram\"in o?o.queryHistogram(n,u,{signal:r}):i?this.workerClient.histogram(u,i):w({attribute:u,features:s})}_classBreaksFromInterpolation(e){const{minValue:t,maxValue:r}=e,a=e.numClasses||$,i=[],s=(r-t)/a;for(let l=0;l<a;l++){const e=t+l*s;i.push({minValue:e,maxValue:e+s})}i[a-1].maxValue=r;const o={classBreaks:i,normalizationTotal:e.normalizationTotal},n=U(o,e.classificationMethod);return Promise.resolve(n)}async _classBreaksFromMemory(e){const{view:t,field:r,valueExpression:a,signal:i}=e,{featuresJSON:s,graphics:o,layerView:n,query:l,fieldInfos:u}=await this._processStatsFromMemoryParams({...e,layerViewFunc:\"queryClassBreaks\"}),m={field:r,valueExpression:a,normalizationType:e.normalizationType,normalizationField:e.normalizationField,normalizationTotal:e.normalizationTotal,minValue:e.minValue,maxValue:e.maxValue,standardDeviationInterval:e.standardDeviationInterval,classificationMethod:e.classificationMethod,numClasses:e.numClasses};return a&&t&&(s||o)&&(m.viewInfoParams=C(t),m.timeZone=t.timeZone,m.fieldInfos=u),\"percent-of-total\"===e.normalizationType&&null==e.normalizationTotal&&(m.normalizationTotal=await this._getNormalizationTotalFromMemory(r,{featuresJSON:s,graphics:o,layerView:n,query:l},i)),!s&&!o&&n&&\"queryClassBreaks\"in n?n.queryClassBreaks(l,m,{signal:i}):s?this.workerClient.classBreaks(m,s):g({attribute:m,features:o})}async _heatmapStatsFromMemory(e){const{view:t,field:r,radius:a,signal:s}=e;i(t,\"InMemoryLayerAdapter: must have a view\");try{const r=await t.whenLayerView(this.layer);if(\"queryHeatmapStatistics\"in r&&!r.updating&&!e.filter)return await r.queryHeatmapStatistics({field:e.field,radius:e.radius})}catch{o(s)}const{featuresJSON:n,graphics:l}=await this._processStatsFromMemoryParams({...e,returnGeometry:!0}),u=new c({extent:t.extent,tolerance:\"2d\"===t.type?t.state.resolution:t.pixelSizeAt?.(t.center)}),p={field:r,radius:a,transform:m(u),spatialReference:t.spatialReference?.toJSON(),size:t.size};return n?.length||l?.length?n?this.workerClient.heatmapStatistics(p,n):F({attribute:p,features:l}):{min:null,max:null}}getField(e=\"\"){return this.layer.getField(e)}getFieldUsageInfo(e){return this.getField(e)?{supportsLabelingInfo:!0,supportsRenderer:!0,supportsPopupTemplate:!0,supportsLayerQuery:!0,supportsStatistics:!0}:null}getFieldDomain(e,t){return this.layer.getFieldDomain(e,t)}createQuery(){return this.layer.createQuery()}async summaryStatistics(e){const{field:t,valueExpression:a,sqlExpression:i,features:s,view:o}=e,n=t?this.getField(t):null,l=!!a,u=\"3d\"===o?.type;if(!a&&i&&!this.supportsSQLExpression)throw new r(`${this.adapterName}:not-supported`,\"Layer does not support standardized SQL expression for queries\");return l||s||u?this._summaryStatsFromMemory(e,n):this._summaryStatsFromClientQuery(e,n)}async uniqueValues(e){const{valueExpression:t,sqlExpression:a,features:i,view:s}=e,o=await Q(e,this),n=!!t,l=\"3d\"===s?.type;if(!t&&a&&!this.supportsSQLExpression)throw new r(`${this.adapterName}:not-supported`,\"Layer does not support standardized SQL expression for queries\");return n||i||l?this._uvFromMemory(e,o):this._uvFromClientQuery(e,o)}async histogram(e){const{features:t,valueExpression:a,normalizationType:i,sqlExpression:s}=e,o=t||!!a;if(!a&&s&&!this.supportsSQLExpression)throw new r(`${this.adapterName}:not-supported`,\"Layer does not support standardized SQL expression for queries\");return o||i?this._histogramFromMemory(e):this._histogramForField(e)}async classBreaks(e){return!1!==e.analyzeData?this._classBreaksFromMemory(e):this._classBreaksFromInterpolation(e)}async queryFeatureCount(e){const{whereClause:t,view:a,signal:i}=e;if(!a)throw new r(`${this.adapterName}:insufficient-data`,\"view is required to fetch the features from layerView\");const s=this.layer.createQuery();s.where=S(s.where,t);const o=await a.whenLayerView(this.layer);return await n((()=>!o.updating),i),o.queryFeatureCount(s,{signal:i})}async generateRenderer(e,t){throw new r(`${this.adapterName}:not-supported`,\"Layer does not support generateRenderer operation\")}async predominantCategories(e){const{fields:t,view:r,signal:a,filter:i}=e,s=f(t),o=await this._uvFromMemory({valueExpression:s,view:r,signal:a,filter:i});return J(o.uniqueValueInfos,t)}async heatmapStatistics(e){return this._heatmapStatsFromMemory(e)}async getSampleFeatures(e,a){const{view:i,sampleSize:s,requiredFields:o,returnGeometry:n,filter:l,signal:u}=e,m=this.layer.createQuery(),p=1;if(m.outSpatialReference=i?.spatialReference,m.returnGeometry=!!n,m.outFields=o,b(m,l),!i)throw new r(`${this.adapterName}:not-supported`,\"view is required to get sample features for Layer\");const y=await i.whenLayerView(this.layer);if(j(this,o,y).length)throw new r(`${this.adapterName}:not-supported`,\"Required fields need to be passed in the outFields for Layer\");const c=await this._fetchFeaturesFromMemory(y,m,u,a),f=null!=s&&s>0&&s<=c.length?s:c.length;return t(c,f,p)}load(e){const t=this.layer.load(e).then((async t=>{this.geometryType=t.geometryType,this.objectIdField=t.objectIdField,this.supportsSQLExpression=\"stream\"===t.type||!!t.capabilities?.query?.supportsSqlExpression,this.minScale=t.minScale,this.maxScale=t.maxScale,this.fullExtent=\"fullExtent\"in t?t.fullExtent:t.parent?.fullExtent,this._hasLocalSource=!1,this.hasQueryEngine=!0,this.workerClient=v.getInstance(),await this.workerClient.open(e.signal)}));return this.addResolvingPromise(t),Promise.resolve(this)}};e([l({readOnly:!0})],R.prototype,\"adapterName\",void 0),e([l({constructOnly:!0})],R.prototype,\"layer\",void 0),R=e([u(\"esri.smartMapping.support.adapters.InMemoryLayerAdapter\")],R);const D=R;export{D as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../Graphic.js\";import{pickRandom as r}from\"../../../core/arrayUtils.js\";import i from\"../../../core/Error.js\";import{throwIfAborted as s}from\"../../../core/promiseUtils.js\";import{property as a}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import{isHostedAgolService as n}from\"../../../layers/support/arcgisLayerUrl.js\";import{isTimeOnlyField as l,isNumericField as u}from\"../../../layers/support/fieldUtils.js\";import{generateRenderer as m}from\"../../../rest/generateRenderer.js\";import c from\"../../../rest/support/GenerateRendererParameters.js\";import h from\"../../../rest/support/StatisticDefinition.js\";import p from\"../../../rest/support/UniqueValueDefinition.js\";import{getArcadeForPredominantCategory as d,getSQLForPredominantCategoryName as f}from\"../../statistics/support/predominanceUtils.js\";import{mergeWhereClauses as y,getSQLFilterForNormalization as F,getRangeExpr as S}from\"../../statistics/support/utils.js\";import{WorkerClient as g}from\"../../statistics/support/WorkerClient.js\";import{isAnyDateField as w,fieldDelimiter as v}from\"../utils.js\";import x from\"./InMemoryLayerAdapter.js\";import{getQueryParamsForExpr as _,getDataRange as E,getAttributeBinsQuery as q,processQueryAttributeBinsResult as z,binParamsFromGenRend as V}from\"./support/histogramUtils.js\";import{ensureFeaturesJSON as L,getSummaryStatsQuery as T,getSummaryStatisticsFromFeatureSet as Q,getUVQuery as j,getUniqueValuesFromFeatureSet as b,defaultNumBins as N,updateQueryWithFeatureFilter as C,getHistogramFromFeatureSet as B,getFieldExpr as M,getDomainsForFields as R,getBins as I,getPredominantCategoriesFromUVInfos as $,getMissingFields as O}from\"./support/utils.js\";import{processSummaryStatisticsResult as k,createUVResult as A,getEqualIntervalBins as D,createClassBreaksDefinition as G,resolveCBResult as U}from\"../../../statistics/utils.js\";import{getScaleToResolutionFactor as J}from\"../../../views/2d/viewpointUtils.js\";const P=5,W=2e4,H=4e5;let Z=class extends x{constructor(){super(...arguments),this.adapterName=\"feature-layer-adapter\"}_isStatsSupportedOnService(){const e=this.layer;if(!e.capabilities?.query?.supportsStatistics||\"multipatch\"===this.geometryType&&!n(e.url)&&e.version<10.5)throw new i(`${this.adapterName}:not-supported`,\"Layer does not support statistics query\");return Promise.resolve()}_fetchFeaturesFromService(e,t){return this.layer.queryFeatures(e,{signal:t}).then((e=>e.features))}_fetchFeaturesJSONFromService(e,t){return this._fetchFeaturesFromService(e,t).then(L)}_summaryStatsFromGenRend(e){const t=e.normalizationType,r=e.normalizationField;return this.classBreaks({field:e.field,numClasses:P,classificationMethod:\"standard-deviation\",standardDeviationInterval:.25,normalizationType:t,normalizationField:\"field\"===t?r:void 0,minValue:e.minValue,maxValue:e.maxValue,filter:e.filter,signal:e.signal}).then((t=>{let r,i,s;if(t.classBreakInfos?.some((e=>(e.hasAvg&&(r=e),!!r))),r){const e=r.maxValue-r.minValue;i=r.minValue+e/2,s=4*e}const a={min:t.minValue,max:t.maxValue,avg:i,stddev:s};return k(a,e.outStatisticTypes)}))}async _summaryStatsFromServiceQuery(e,t){await this._isStatsSupportedOnService(),\"percent-of-total\"===e.normalizationType&&(e.normalizationTotal=await this._getNormalizationTotal(e.field,e.normalizationType,e.filter));const r=w(t)||l(t),i=T(this,e,t),s=await this.layer.queryFeatures(i,{signal:e.signal}),a=Q(s,r);return k(a,e.outStatisticTypes)}_uvFromGenRenderer(e,t){const r=e.field??void 0,i=new p({attributeField:r}),s=new c({classificationDefinition:i});return this.generateRenderer(s,e.signal).then((e=>{const t={},i=this.getField(r);return e.uniqueValues.forEach((e=>{let r=e.value;null!=r&&\"\"!==r&&(\"string\"!=typeof r||\"\"!==r.trim()&&\"<null>\"!==r.toLowerCase())||(r=null),null==t[r]?t[r]={count:e.count,data:u(i)&&r?Number(r):r}:t[r].count=t[r].count+e.count})),{count:t}})).then((r=>A(r,[t],e.returnAllCodedValues)))}async _uvFromServiceQuery(e,t){return this._isStatsSupportedOnService().then((()=>this.layer.queryFeatures(j(this,e),{signal:e.signal}))).then((t=>b(t,{layer:this,field:e.field,field2:e.field2,field3:e.field3,fieldDelimiter:v,view:e.view,signal:e.signal}))).then((r=>A(r,t,e.returnAllCodedValues,v)))}_getNormalizationTotal(e,t,r,i){return e&&\"percent-of-total\"===t?this.summaryStatistics({field:e,outStatisticTypes:{include:[\"sum\"]},filter:r,signal:i}).then((e=>e.sum)):Promise.resolve(null)}_histogramForExpr(e){return this._getNormalizationTotal(e.field,e.normalizationType,e.filter,e.signal).then((t=>{const r=_(e,this,t);return E(r,this,e.minValue,e.maxValue).then((i=>{const s=i.min,a=i.max;if(null==s||null==a)return{bins:[],minValue:s,maxValue:a,normalizationTotal:t};const o=e.numBins||N,n=D(s,a,o),l=K(r.sqlExpression,n,null!=e.minValue&&null!=e.maxValue),u=new h({statisticType:\"count\",outStatisticFieldName:\"countOFExpr\",onStatisticField:\"1\"}),m=this.layer.createQuery();return m.where=y(m.where,r.sqlWhere),m.sqlFormat=\"standard\",m.outStatistics=[u],m.groupByFieldsForStatistics=[l],m.orderByFields=[l],C(m,e.filter),this._isStatsSupportedOnService().then((()=>this.layer.queryFeatures(m,{signal:r.signal}))).then((e=>B(e,s,a,o,t)))}))}))}async _histogramFromQueryAttributeBins(e){const{field:t,normalizationType:r,filter:i,signal:s}=e,a=await this._getNormalizationTotal(t,r,i,s),o=this.layer.createQuery(),{query:n,min:l,max:u}=await q(e,this,a,o?.where);if(!n)return{bins:[],minValue:l,maxValue:u,normalizationTotal:a};const m=await this.layer.queryAttributeBins(n,{signal:s});return z(m,t?this.getField(t):null,{minValue:l,maxValue:u,normalizationTotal:a})}_classBreaksFromGenRend(e){const{field:t,normalizationType:r,normalizationField:i,normalizationTotal:s,signal:a}=e,o=F({field:t,normalizationType:r,normalizationField:i}),n=M({field:t,normalizationType:r,normalizationField:i,normalizationTotal:s,layer:this}),l=S(n,e.minValue,e.maxValue),u=G({field:t,normalizationType:r,normalizationField:i,classificationMethod:e.classificationMethod,standardDeviationInterval:e.standardDeviationInterval,breakCount:e.numClasses||P}),m=new c({classificationDefinition:u});return m.where=y(o,l),this.generateRenderer(m,a).then((t=>U(t,e.classificationMethod)))}async summaryStatistics(e){const{field:t,normalizationType:r,valueExpression:a,sqlExpression:o,view:n,features:u,useFeaturesInView:m}=e,c=t?this.getField(t):null,h=w(c)||l(c),p=a&&!(o&&this.supportsSQLExpression),d=this._hasLocalSource||u||m,f=n&&\"3d\"===n.type;if(d||p)return p||u||m||f?this._summaryStatsFromMemory(e,c):this._summaryStatsFromClientQuery(e,c);if(!this.supportsSQLExpression&&(h||o||\"natural-log\"===r||\"square-root\"===r))throw new i(`${this.adapterName}:not-supported`,\"Layer does not support standardized SQL expression for queries\");return(r&&!this.supportsSQLExpression?this._summaryStatsFromGenRend(e):this._summaryStatsFromServiceQuery(e,c)).catch((()=>(s(e.signal),this._summaryStatsFromMemory(e,c))))}async uniqueValues(e){const{valueExpression:t,sqlExpression:r,features:i,useFeaturesInView:a,signal:o}=e,n=t&&!(r&&this.supportsSQLExpression),l=this._hasLocalSource||i||a||n,u=e.view,m=u&&\"3d\"===u.type,c=await R(e,this);return l?n||i||a||m?this._uvFromMemory(e,c):this._uvFromClientQuery(e,c):this._uvFromServiceQuery(e,c).catch((t=>(s(o),!e.field||e.field2||e.field3||e.filter?t:this._uvFromGenRenderer(e,c[0])))).catch((()=>(s(o),m?this._uvFromMemory(e,c):this._uvFromClientQuery(e,c))))}async histogram(e){const{field:t,normalizationType:r,normalizationField:a,classificationMethod:o,view:n,filter:u,signal:m}=e,c=t?this.getField(t):null,h=w(c)||l(c),p=e.valueExpression||e.sqlExpression,d=e.valueExpression&&!(e.sqlExpression&&this.supportsSQLExpression),f=this._hasLocalSource||e.features||e.useFeaturesInView||d,y=this.supportsSQLExpression,F=!o||\"equal-interval\"===o,g=e.minValue,v=e.maxValue,x=null!=g&&null!=v,_=e.numBins||N;if(f)return this._histogramFromMemory(e);if(this.layer.capabilities?.operations?.supportsQueryBins&&e.useQueryAttributeBins)try{return await this._histogramFromQueryAttributeBins(e)}catch{return s(m),this._histogramFromQueryAttributeBinsFromMemory(e)}if((p||y)&&F){if(!y&&(p||\"natural-log\"===r||\"square-root\"===r))throw new i(`${this.adapterName}:not-supported`,\"Layer does not support standardized SQL expression for queries\");return this._histogramForExpr(e)}if(h&&F)throw new i(`${this.adapterName}:not-supported`,\"Normalization and date field are not allowed when layer does not support standardized SQL expression for queries\");return r||!F?V(e,this).then((s=>{if(!x)return I(this,s,t,_,n,u,m);if(g>s.max||v<s.min)throw new i(`${this.adapterName}:insufficient-data`,\"Range defined by 'minValue' and 'maxValue' does not intersect available data range of the field\");if(F)return I(this,{min:g,max:v,sqlExpr:s.sqlExpr,excludeZerosExpr:s.excludeZerosExpr},t,_,n,u,m);{const i={field:t,normalizationType:r,normalizationField:a,normalizationTotal:s.normTotal,layer:this},o=M(i),l=S(o,g,v);return V(e,this,l).then((e=>I(this,e,t,_,n,u,m)))}})):this._histogramForField(e)}async classBreaks(e){const t=!1!==e.analyzeData,r=this._hasLocalSource||e.features||e.useFeaturesInView||e.valueExpression||e.filter;if(t&&r)return this._classBreaksFromMemory(e);return(t?this._classBreaksFromGenRend(e):this._classBreaksFromInterpolation(e)).catch((()=>(s(e.signal),this._classBreaksFromMemory(e))))}async queryFeatureCount(e){if(this._hasLocalSource)throw new i(`${this.adapterName}:not-supported`,\"Layer does not support count query\");const t=this.layer,r=t.createQuery();return r.where=y(r.where,e.whereClause),C(r,e.filter),t.queryFeatureCount(r,{signal:e.signal})}async generateRenderer(e,t){const r=this.layer;if(this._hasLocalSource||r.version<10.1)throw new i(`${this.adapterName}:not-supported`,\"Layer does not support generateRenderer operation (requires ArcGIS Server version 10.1+)\");const s=r.createQuery();return e.where=y(e.where,s.where),m(r.parsedUrl?.path??\"\",{source:r.dynamicDataSource??void 0,gdbVersion:r.gdbVersion??void 0},e,{signal:t})}async predominantCategories(e){if(!this._hasLocalSource&&!this.supportsSQLExpression)throw new i(`${this.adapterName}:not-supported`,\"Layer does not support advanced SQL expressions and standardized queries\");const{fields:t,view:r,signal:s,filter:a}=e,o=d(t),n=f(t),l=r&&this._hasLocalSource?await this._uvFromMemory({valueExpression:o,view:r,signal:s,filter:a}):await this._uvFromServiceQuery({sqlExpression:n.expression,valueExpression:o,signal:s,filter:a});return $(l.uniqueValueInfos,t)}async getSampleFeatures(e,i){const{view:a,requiredFields:o,returnGeometry:n,filter:l,signal:u}=e,m=e.sampleSize;if(null==m||0===m)return[];const c=this.layer.createQuery(),h=1,p=\"json\"===i;c.outSpatialReference=a?.spatialReference,c.returnGeometry=!!n,c.outFields=o,C(c,l);let d=[],f=!1;if(a)try{const s=await a.whenLayerView(this.layer);if(f=!O(this,o,s).length,f){if(m>=1&&!e.filter&&\"getSampleFeatures\"in s){await this._waitForLayerViewUpdate(s);const e=await s.getSampleFeatures({minFeatureCount:m,sampleSize:m});if(null!=e)return p?e:e.map((e=>t.fromJSON(e)))}if(d=await this._fetchFeaturesFromMemory(s,c,u,i),d.length>=m&&m>0)return r(d,m,h)}}catch(y){s(u)}try{if(this._hasLocalSource)return f?d:p?await this._fetchFeaturesJSONFromService(c,u):await this._fetchFeaturesFromService(c,u);const t=await this.queryFeatureCount({view:a,filter:l,signal:u}),i=this.layer.capabilities.query.maxRecordCount;let s=-1===m?t:m;if(s=i&&s>i?i:s,t<=d.length||d.length>=i)return d;if(c.maxAllowableOffset=e.resolution||(a?a.extent.width/a.width/a.scale:J(this.layer.spatialReference))*H,t<=s)return p?await this._fetchFeaturesJSONFromService(c,u):await this._fetchFeaturesFromService(c,u);if(t<=W){const e=this.layer.createQuery();C(e,l);const t=await this.layer.queryObjectIds();return c.objectIds=r(t,s,h),p?await this._fetchFeaturesJSONFromService(c,u):await this._fetchFeaturesFromService(c,u)}return this.layer.capabilities?.query?.supportsPagination&&(c.num=Math.min(s,W)),p?await this._fetchFeaturesJSONFromService(c,u):await this._fetchFeaturesFromService(c,u)}catch(y){return s(u),d}}load(e){const t=this.layer.load(e).then((async t=>{this.geometryType=t.geometryType,this.objectIdField=t.objectIdField,this.supportsSQLExpression=t.capabilities?.query?.supportsSqlExpression,this._hasLocalSource=!t.url&&!!t.source,this.hasQueryEngine=this._hasLocalSource,this.minScale=t.minScale,this.maxScale=t.maxScale,this.fullExtent=t.fullExtent,this.workerClient=g.getInstance(),await this.workerClient.open(e.signal)}));return this.addResolvingPromise(t),Promise.resolve(this)}};function K(e,t,r){const i=[],s=t.length;return t.forEach(((t,a)=>{const[o,n]=t;let l=null;l=0!==a||r?a!==s-1||r?y(`${e} >= ${o}`,`${e} ${a===s-1?\" <= \":\" < \"} ${n}`):`${e} >= ${o}`:`${e} < ${n}`,i.push(\"WHEN (\"+l+\") THEN \"+(a+1))})),[\"CASE\",i.join(\" \"),\"ELSE 0\",\"END\"].join(\" \")}e([a({readOnly:!0})],Z.prototype,\"adapterName\",void 0),e([a({constructOnly:!0})],Z.prototype,\"layer\",void 0),Z=e([o(\"esri.smartMapping.support.adapters.FeatureLayerAdapter\")],Z);const X=Z;export{X as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Error.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{createGenerateRendererClassBreaks as s,createGenerateRendererUniqueValues as o}from\"../../../rest/support/generateRendererUtils.js\";import{getDataValues as a,mergeWhereClauses as n}from\"../../statistics/support/utils.js\";import{WorkerClient as l}from\"../../statistics/support/WorkerClient.js\";import{getFieldsList as p}from\"../utils.js\";import c from\"./FeatureLayerAdapter.js\";import{ensureFeaturesJSON as u}from\"./support/utils.js\";let m=class extends c{constructor(){super(...arguments),this.adapterName=\"csv-layer-adapter\"}async _createGenerateRendererResult(e,r,i,n,l){const p=e?.features,c=p?.length;if(!c)throw new t(\"csv-layer-adapter:insufficient-data\",\"No features are available to calculate statistics\");const m=u(p);let d=null;if(\"percent-of-total\"===n){if(d=(await this.workerClient.summaryStatistics({field:r},m)).sum,null==d)throw new t(\"csv-layer-adapter:invalid\",\"invalid normalizationTotal\")}if(\"class-breaks-definition\"===l?.type){const e=(await a({field:r,normalizationType:n,normalizationField:i,normalizationTotal:d},m)).filter((e=>Number.isFinite(e)));return s({definition:l,values:e,normalizationTotal:d})}const f=(await a({field:r},m)).filter((e=>null!=e&&\"string\"==typeof e&&\"\"!==e.trim()));return o(f)}generateRenderer(e,t){const r=e.classificationDefinition;let i=null,s=null,o=null;\"class-breaks-definition\"===r?.type?(i=r.classificationField,s=r.normalizationField,o=r.normalizationType):i=r?.attributeField;const a=this.layer;return p({field:i,normalizationField:s}).then((l=>{const p=a.createQuery();return p.returnGeometry=!1,p.outFields=l,p.where=n(p.where,e.where),a.queryFeatures(p,{signal:t}).then((e=>this._createGenerateRendererResult(e,i,s,o,r)))}))}load(e){const t=this.layer.load(e).then((async t=>{this.geometryType=t.geometryType,this.objectIdField=t.objectIdField,this.supportsSQLExpression=!0,this._hasLocalSource=!1,this.hasQueryEngine=!0,this.workerClient=l.getInstance(),await this.workerClient.open(e.signal)}));return this.addResolvingPromise(t),Promise.resolve(this)}};e([r({readOnly:!0})],m.prototype,\"adapterName\",void 0),m=e([i(\"esri.smartMapping.support.adapters.CSVLayerAdapter\")],m);const d=m;export{d as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{pickRandom as t}from\"../../../core/arrayUtils.js\";import a from\"../../../core/Error.js\";import{throwIfAborted as r}from\"../../../core/promiseUtils.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import{kebabDict as o}from\"../../../layers/support/fieldType.js\";import{isTimeOnlyField as n}from\"../../../layers/support/fieldUtils.js\";import{getArcadeForPredominantCategory as l}from\"../../statistics/support/predominanceUtils.js\";import{summaryStatistics as u,uniqueValues as m,histogram as p,classBreaks as g}from\"../../statistics/support/statsWorker.js\";import{mergeWhereClauses as d}from\"../../statistics/support/utils.js\";import{WorkerClient as y}from\"../../statistics/support/WorkerClient.js\";import{getFieldsList as c,fieldDelimiter as f,isAnyDateField as h}from\"../utils.js\";import w from\"./FeatureLayerAdapter.js\";import{getMissingFieldsForBinning as F,updateQueryWithFeatureFilter as S,getFeatureReductionFields as v,getViewInfoParams as q,getDomainsForFields as V,getPredominantCategoriesFromUVInfos as z}from\"./support/utils.js\";let N=class extends w{constructor(){super(...arguments),this.adapterName=\"feature-layer-binning-adapter\"}async _getNormalizationTotalFromMemory(e,t,r){const{featuresJSON:i,graphics:s,layerView:o,query:n}=t,l={include:[\"sum\"]},m=(!i&&!s&&o&&\"queryAggregateSummaryStatistics\"in o?await o.queryAggregateSummaryStatistics(n,{field:e,outStatisticTypes:l},{signal:r}):i?await this.workerClient.summaryStatistics({field:e},i):await u({attribute:{field:e,outStatisticTypes:l},features:s})).sum;if(null==m)throw new a(`${this.adapterName}:invalid`,\"invalid normalizationTotal\");return m}async _processStatsFromMemoryParams(e){const{features:t,filter:r}=e;if(t?.length)return this._getFilteredFeatures(t,r);const{view:i,field:s,field2:o,field3:n,normalizationField:l,valueExpression:u,returnGeometry:m,layerViewFunc:p,signal:g}=e;let d=null,y=null,f=null,h=null,w=null;if(i)try{if(d=await i.whenLayerView(this.layer),y=null!=p&&p in d&&\"function\"==typeof d[p],y){await this._waitForLayerViewUpdate(d);const e=await c({field:s,field2:o,field3:n,normalizationField:l,valueExpression:u});F(this,e).length?y=!1:(f=\"createAggregateQuery\"in d?d.createAggregateQuery():null,f?(f.outFields=e,f.returnGeometry=!1,S(f,r)):y=!1),d.suspended&&(y=!1)}}catch{y=!1}if(!y&&(w=v(this.layer).map((e=>e.toJSON())),h=await this._fetchFeaturesForStats({field:s,field2:o,field3:n,valueExpression:u,normalizationField:l,returnGeometry:m,filter:r,view:i,signal:g},\"json\"),!h?.length))throw new a(`${this.adapterName}:insufficient-data`,\"No features are available to calculate statistics\");return{layerView:d,query:f,featuresJSON:h,fieldInfos:w}}async _summaryStatsFromMemory(e,t){const{view:a,field:r,valueExpression:i,normalizationType:s,signal:n}=e,l={field:r,valueExpression:i,normalizationType:s,normalizationField:e.normalizationField,normalizationTotal:e.normalizationTotal,minValue:e.minValue,maxValue:e.maxValue,outStatisticTypes:e.outStatisticTypes},{featuresJSON:m,graphics:p,layerView:g,query:d,fieldInfos:y}=await this._processStatsFromMemoryParams({...e,layerViewFunc:\"queryAggregateSummaryStatistics\"});return i&&a&&(m||p)&&(l.fieldType=t?.type?o.toJSON(t.type):null,l.viewInfoParams=q(a),l.timeZone=a.timeZone,l.fieldInfos=y),\"percent-of-total\"===s&&null==e.normalizationTotal&&(l.normalizationTotal=await this._getNormalizationTotalFromMemory(r,{featuresJSON:m,graphics:p,layerView:g,query:d},n)),!m&&!p&&g&&\"queryAggregateSummaryStatistics\"in g?g.queryAggregateSummaryStatistics(d,l,{signal:n}):m?this.workerClient.summaryStatistics(l,m):u({attribute:l,features:p})}async _uvFromMemory(e,t){const{view:a,field:r,valueExpression:i,returnAllCodedValues:s,signal:o}=e,{featuresJSON:n,graphics:l,layerView:u,query:p,fieldInfos:g}=await this._processStatsFromMemoryParams({...e,layerViewFunc:\"queryAggregateUniqueValues\"}),d={field:r,field2:e.field2,field3:e.field3,fieldDelimiter:f,valueExpression:i,domains:t,returnAllCodedValues:s};return i&&a&&(n||l)&&(d.viewInfoParams=q(a),d.timeZone=a.timeZone,d.fieldInfos=g),!n&&!l&&u&&\"queryAggregateUniqueValues\"in u?u.queryAggregateUniqueValues(p,d,{signal:o}):n?this.workerClient.uniqueValues(d,n):m({attribute:d,features:l})}async _histogramFromMemory(e){const{view:t,field:a,valueExpression:r,signal:i}=e,{featuresJSON:s,graphics:o,layerView:n,query:l,fieldInfos:u}=await this._processStatsFromMemoryParams({...e,layerViewFunc:\"queryAggregateHistogram\"}),m={field:a,valueExpression:r,normalizationType:e.normalizationType,normalizationField:e.normalizationField,normalizationTotal:e.normalizationTotal,minValue:e.minValue,maxValue:e.maxValue,standardDeviationInterval:e.standardDeviationInterval,classificationMethod:e.classificationMethod,numBins:e.numBins};return r&&t&&(s||o)&&(m.viewInfoParams=q(t),m.timeZone=t.timeZone,m.fieldInfos=u),\"percent-of-total\"===e.normalizationType&&null==e.normalizationTotal&&(m.normalizationTotal=await this._getNormalizationTotalFromMemory(a,{featuresJSON:s,graphics:o,layerView:n,query:l},i)),!s&&!o&&n&&\"queryAggregateHistogram\"in n?n.queryAggregateHistogram(l,m,{signal:i}):s?this.workerClient.histogram(m,s):p({attribute:m,features:o})}async _classBreaksFromMemory(e){const{view:t,field:a,valueExpression:r,signal:i}=e,{featuresJSON:s,graphics:o,layerView:n,query:l,fieldInfos:u}=await this._processStatsFromMemoryParams({...e,layerViewFunc:\"queryAggregateClassBreaks\"}),m={field:a,valueExpression:r,normalizationType:e.normalizationType,normalizationField:e.normalizationField,normalizationTotal:e.normalizationTotal,minValue:e.minValue,maxValue:e.maxValue,standardDeviationInterval:e.standardDeviationInterval,classificationMethod:e.classificationMethod,numClasses:e.numClasses};return r&&t&&(s||o)&&(m.viewInfoParams=q(t),m.timeZone=t.timeZone,m.fieldInfos=u),\"percent-of-total\"===e.normalizationType&&null==e.normalizationTotal&&(m.normalizationTotal=await this._getNormalizationTotalFromMemory(a,{featuresJSON:s,graphics:o,layerView:n,query:l},i)),!s&&!o&&n&&\"queryAggregateClassBreaks\"in n?n.queryAggregateClassBreaks(l,m,{signal:i}):s?this.workerClient.classBreaks(m,s):g({attribute:m,features:o})}getField(e=\"\"){const t=v(this.layer);return t?.find((t=>t.name.toLowerCase()===e?.toLowerCase()))}getFieldUsageInfo(e){return this.getField(e)?{supportsLabelingInfo:!0,supportsRenderer:!0,supportsPopupTemplate:!0,supportsLayerQuery:!1,supportsStatistics:!0}:null}getFieldDomain(e,t){return null}async summaryStatistics(e){const{field:t}=e,r=t?this.getField(t):null,i=h(r)||n(r),s=e.sqlExpression&&!e.valueExpression&&!t;if(i||s)throw new a(`${this.adapterName}:not-supported`,\"Date field and sqlExpression are not supported\");return this._summaryStatsFromMemory(e,r)}async uniqueValues(e){const t=await V(e,this);return this._uvFromMemory(e,t)}async histogram(e){const{field:t}=e,r=t?this.getField(t):null,i=h(r)||n(r),s=e.sqlExpression&&!e.valueExpression&&!t;if(i||s)throw new a(`${this.adapterName}:not-supported`,\"Date field and sqlExpression are not supported\");return this._histogramFromMemory(e)}async classBreaks(e){return(!1!==e.analyzeData?this._classBreaksFromMemory(e):this._classBreaksFromInterpolation(e)).catch((()=>(r(e.signal),this._classBreaksFromMemory(e))))}async queryFeatureCount(e){const t=await(e.view?.whenLayerView(this.layer));if(!t||!(\"queryAggregateCount\"in t)||!t.queryAggregateCount)throw new a(`${this.adapterName}:not-supported`,\"LayerView is not supported.\");await this._waitForLayerViewUpdate(t);const r=t.createAggregateQuery();return r.where=d(r.where,e.whereClause),S(r,e.filter),t.queryAggregateCount(r,{signal:e.signal})}generateRenderer(e,t){throw new a(`${this.adapterName}:not-supported`,\"'generateRenderer' is not supported.\")}heatmapStatistics(e){throw new a(`${this.adapterName}:not-supported`,\"'heatmapStatistics' is not supported.\")}async predominantCategories(e){const{fields:t,view:a,signal:r}=e,i=l(t),s=await this._uvFromMemory({valueExpression:i,view:a,signal:r});return z(s.uniqueValueInfos,t)}async getSampleFeatures(e,r){const{view:i,sampleSize:s,requiredFields:o,returnGeometry:n,filter:l,signal:u}=e;if(!i)throw new a(`${this.adapterName}:not-supported`,\"'view' is required to get sample features for binning.\");if(\"3d\"===i.type)throw new a(`${this.adapterName}:not-supported`,\"3d 'view' is not supported to get sample features for binning.\");const m=await i.whenLayerView(this.layer);if(!(\"queryAggregateJSON\"in m&&m.queryAggregateJSON&&\"queryAggregates\"in m&&m.queryAggregates))throw new a(`${this.adapterName}:not-supported`,\"LayerView is not supported.\");await this._waitForLayerViewUpdate(m);if(F(this,o).length)throw new a(`${this.adapterName}:insufficient-data`,\"Layer does not have required fields\");const p=1,g=\"json\"===r,d=m.createAggregateQuery();d.outSpatialReference=i?.spatialReference,d.returnGeometry=!!n,d.outFields=o,S(d,l);const{features:y}=g?await m.queryAggregateJSON(d,{signal:u}):await m.queryAggregates(d,{signal:u});return y.length&&null!=s&&s>0&&s<=y.length?t(y,s,p):y}load(e){const t=this.layer.load(e).then((async t=>{this.geometryType=\"polygon\",this.objectIdField=null,this.supportsSQLExpression=!1,this._hasLocalSource=!1,this.hasQueryEngine=!0,this.minScale=t.minScale,this.maxScale=t.maxScale,this.fullExtent=t.fullExtent;const r=\"featureReduction\"in t?t.featureReduction:null;if(\"binning\"!==r?.type&&\"cluster\"!==r?.type)throw new a(`${this.adapterName}:invalid-parameters`,`Feature reduction type ${r?.type} is not supported`);this.workerClient=y.getInstance(),await this.workerClient.open(e.signal)}));return this.addResolvingPromise(t),Promise.resolve(this)}};e([i({readOnly:!0})],N.prototype,\"adapterName\",void 0),N=e([s(\"esri.smartMapping.support.adapters.FeatureLayerBinningAdapter\")],N);const T=N;export{T as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../Graphic.js\";import{pickRandom as r}from\"../../../core/arrayUtils.js\";import a from\"../../../core/Error.js\";import{timeout as s,throwIfAborted as i}from\"../../../core/promiseUtils.js\";import{whenOnce as o}from\"../../../core/reactiveUtils.js\";import{property as n}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import{subclass as l}from\"../../../core/accessorSupport/decorators/subclass.js\";import{kebabDict as u}from\"../../../layers/support/fieldType.js\";import{isNumericField as p}from\"../../../layers/support/fieldUtils.js\";import m from\"../../../rest/support/FeatureSet.js\";import{summaryStatistics as c,uniqueValues as d,classBreaks as h,histogram as y}from\"../../statistics/support/statsWorker.js\";import{WorkerClient as f}from\"../../statistics/support/WorkerClient.js\";import{getFieldsList as g,isAnyDateField as w,fieldDelimiter as F}from\"../utils.js\";import _ from\"./FeatureLayerAdapter.js\";import S from\"./LayerAdapter.js\";import{getMissingFields as v,ensureFeaturesJSON as x,getViewInfoParams as L,getUniqueValuesFromFeatureSet as E,getHistogramFromFeatureSet as C,getDomainsForFields as T}from\"./support/utils.js\";import{createUVResult as z}from\"../../../statistics/utils.js\";let A=class extends S{constructor(e){super(e),this._featureLayerAdapter=null,this.workerClient=null,this.adapterName=\"scene-layer-adapter\"}destroy(){this.workerClient?.destroy()}_hasCachedStatistics(e){return this.layer.hasCachedStatistics(e)}_updateQuery(e,t=[],r=[]){if(!e||!r.length)return e;const a=this.layer.objectIdField,s=e.clone(),i=t.filter((e=>{const t=this.layer.getField(e);return!r.includes(t.name)})),o=i.some((e=>this.layer.getField(e).name===a));return s.outFields=o?i:[...i,a],s}async _fetchFeaturesFromMemory(e,t,r){if(!e)throw new a(\"scene-layer-adapter:insufficient-data\",\"view is required to fetch the features from layerView\");const n=await e.whenLayerView(this.layer),l=new AbortController,u=l.signal,p=o((()=>!n.updating),u);await s(p,5e3,l);const m=v(this,r,n);i(u);const c=this._updateQuery(t,r??[],m),d=await n.queryFeatures(c,{signal:u});i(u);const h=d.features;return m.length?n.whenGraphicAttributes(h,m):h}async _fetchFeaturesJSONFromMemory(e,t,r){return this._fetchFeaturesFromMemory(e,t,r).then(x)}_fetchFeaturesForStats(e,t){return g({field:e.field,normalizationField:e.normalizationField,valueExpression:e.valueExpression}).then((r=>this.getSampleFeatures({sampleSize:-1,view:e.view,returnGeometry:e.returnGeometry,requiredFields:r,signal:e.signal},t)))}async _processStatsFromMemoryParams(e){const t=e.features;if(t?.length){return t.length&&\"declaredClass\"in t[0]&&\"esri.Graphic\"===t[0].declaredClass?{graphics:t}:{featuresJSON:t}}const{view:r,field:s,normalizationField:i,valueExpression:o,signal:n}=e,l=await this._fetchFeaturesForStats({field:s,valueExpression:o,normalizationField:i,view:r,signal:n},null);if(!l?.length)throw new a(\"scene-layer-adapter:insufficient-data\",\"No features are available to calculate statistics\");return{graphics:l}}_getCachedStatistics(e,t){const r=this.layer;return e.valueExpression||e.sqlExpression||e.sqlWhere||e.minValue||e.maxValue?Promise.reject(new a(\"scene-layer-adapter:not-supported\",\"This Layer does not support calculating statistics when 'valueExpression', 'sqlExpression', 'sqlWhere', 'minValue' or 'maxValue' is specified\")):r.queryCachedStatistics(t?.name,{signal:e.signal}).then((e=>{const t=e.stats,{min:r,max:a,totalValuesCount:s}=t;let{avg:i,stddev:o,sum:n,variance:l,count:u}=t;return 0===r&&0===a||(i=0===i?null:i,n=0===n?null:n,o=0===o?null:o,l=0===l?null:l,u=0===u?null:u),null==u&&(null!=n&&null!=i?u=Math.round(n/i):null!=s&&(u=s)),{avg:i,count:u,max:a,min:r,stddev:o,sum:n,variance:l}}))}async _getNormalizationTotal(e,t,r){const s={include:[\"sum\"]},i=(t?await this.workerClient.summaryStatistics({field:e,outStatisticTypes:s},t):await c({attribute:{field:e,outStatisticTypes:s},features:r})).sum;if(null==i)throw new a(\"scene-layer-adapter:invalid\",\"invalid normalizationTotal\");return i}async _getSummaryStatisticsFromMemory(e,t){const{view:r,field:a,normalizationField:s,valueExpression:i}=e,{featuresJSON:o,graphics:n}=await this._processStatsFromMemoryParams(e),l={field:a,valueExpression:i,normalizationType:e.normalizationType,normalizationField:s,normalizationTotal:e.normalizationTotal,minValue:e.minValue,maxValue:e.maxValue,outStatisticTypes:e.outStatisticTypes};return e.valueExpression&&r&&o&&(l.fieldType=t?.type?u.toJSON(t.type):null,l.viewInfoParams=L(r),l.timeZone=r.timeZone),\"percent-of-total\"===e.normalizationType&&null==e.normalizationTotal&&(l.normalizationTotal=await this._getNormalizationTotal(a,o,n)),o?this.workerClient.summaryStatistics(l,o):c({attribute:l,features:n})}_getCachedStatisticsForUniqueValues(e,r){const s=this.layer,i=r?.name,o=r&&e.field?this.getFieldDomain(e.field):null;return e.valueExpression||e.sqlExpression||e.sqlWhere?Promise.reject(new a(\"scene-layer-adapter:not-supported\",\"This Layer does not support calculating statistics when 'valueExpression', 'sqlExpression' or 'sqlWhere' is specified\")):s.queryCachedStatistics(i,{signal:e.signal}).then((a=>{const o=a.stats;if(!o.mostFrequentValues)throw new Error;const n=a.labels?.labels,l={},u=[],c=\"countOF\"+i;o.mostFrequentValues.forEach((e=>{const a=new t({attributes:{}});a.attributes[i]=r&&r.name!==s.objectIdField&&(p(r)||w(r))?Number(e.value):e.value,a.attributes[c]=e.count,u.push(a)})),n&&n.forEach((e=>{l[e.value]=e.label}));const d=new m({features:u});return E(d,{layer:this,field:e.field,labels:l,view:e.view,signal:e.signal})})).then((t=>z(t,[o],e.returnAllCodedValues)))}async _getUniqueValuesFromMemory(e,t){const{view:r,field:a,field2:s,field3:i,valueExpression:o,returnAllCodedValues:n}=e,l={field:a,field2:s,field3:i,fieldDelimiter:F,valueExpression:o,domains:t,returnAllCodedValues:n},{featuresJSON:u,graphics:p}=await this._processStatsFromMemoryParams(e);return e.valueExpression&&r&&u&&(l.viewInfoParams=L(r),l.timeZone=r.timeZone),u?this.workerClient.uniqueValues(l,u):d({attribute:l,features:p})}_getCachedStatisticsForHistogram(e,t){const r=this.layer;return e.valueExpression||e.sqlExpression||e.sqlWhere||e.normalizationType?Promise.reject(new a(\"scene-layer-adapter:not-supported\",\"This Layer does not support calculating statistics when 'valueExpression' or 'sqlExpression' or 'sqlWhere' or 'normalizationType' is specified\")):r.queryCachedStatistics(t&&t.name,{signal:e.signal}).then((t=>{const r=t.stats,{minValue:a,maxValue:s}=e,i=null!=a?a:r.min,o=null!=s?s:r.max,n=e.numBins||10,l=j(r.histogram,i,o,n);return C(l,i,o,n)}))}async _getClassBreaksFromMemory(e){const{view:t,field:r,normalizationField:a,valueExpression:s}=e,{featuresJSON:i,graphics:o}=await this._processStatsFromMemoryParams(e),n={field:r,valueExpression:s,normalizationType:e.normalizationType,normalizationField:a,normalizationTotal:e.normalizationTotal,minValue:e.minValue,maxValue:e.maxValue,standardDeviationInterval:e.standardDeviationInterval,classificationMethod:e.classificationMethod,numClasses:e.numClasses};return e.valueExpression&&t&&i&&(n.viewInfoParams=L(t),n.timeZone=t.timeZone),\"percent-of-total\"===e.normalizationType&&null==e.normalizationTotal&&(n.normalizationTotal=await this._getNormalizationTotal(r,i,o)),i?this.workerClient.classBreaks(n,i):h({attribute:n,features:o})}async _getHistogramFromMemory(e){const{view:t,field:r}=e,{featuresJSON:a,graphics:s}=await this._processStatsFromMemoryParams(e),i={field:r,valueExpression:e.valueExpression,normalizationType:e.normalizationType,normalizationField:e.normalizationField,normalizationTotal:e.normalizationTotal,minValue:e.minValue,maxValue:e.maxValue,standardDeviationInterval:e.standardDeviationInterval,classificationMethod:e.classificationMethod,numBins:e.numBins};return e.valueExpression&&t&&a&&(i.viewInfoParams=L(t),i.timeZone=t.timeZone),\"percent-of-total\"===e.normalizationType&&null==e.normalizationTotal&&(i.normalizationTotal=await this._getNormalizationTotal(r,a,s)),a?this.workerClient.histogram(i,a):y({attribute:i,features:s})}getField(e){return this.layer.getField(e??\"\")}getFieldUsageInfo(e){const t=this.getField(e);if(!t)return null;const r=this.layer.getFieldUsageInfo(t.name);return{supportsLabelingInfo:r.supportsLabelingInfo,supportsPopupTemplate:r.supportsPopupTemplate,supportsRenderer:r.supportsRenderer,supportsLayerQuery:r.supportsLayerQuery,supportsStatistics:!0}}getFieldDomain(e,t){return this._featureLayerAdapter?this._featureLayerAdapter.getFieldDomain(e,t):null}createQuery(){return this.layer.createQuery()}summaryStatistics(e){const t=this.getField(e.field);if(this._featureLayerAdapter)return this._featureLayerAdapter.summaryStatistics(e);if(e.filter)throw new a(\"scene-layer-adapter:not-supported\",\"filter is not supported\");return this._hasCachedStatistics(t?.name)?this._getCachedStatistics(e,t).catch((()=>(i(e.signal),this._getSummaryStatisticsFromMemory(e,t)))):this._getSummaryStatisticsFromMemory(e,t)}async uniqueValues(e){if(this._featureLayerAdapter)return this._featureLayerAdapter.uniqueValues(e);if(e.filter)throw new a(\"scene-layer-adapter:not-supported\",\"filter is not supported\");const t=await T(e,this),{field:r,field2:s}=e,o=r&&s,n=this.getField(r);return!o&&n&&this._hasCachedStatistics(n.name)?this._getCachedStatisticsForUniqueValues(e,n).catch((()=>(i(e.signal),this._getUniqueValuesFromMemory(e,t)))):this._getUniqueValuesFromMemory(e,t)}histogram(e){const t=this.getField(e.field);if(this._featureLayerAdapter)return this._featureLayerAdapter.histogram(e);if(e.filter)throw new a(\"scene-layer-adapter:not-supported\",\"filter is not supported\");return t&&this._hasCachedStatistics(t.name)?this._getCachedStatisticsForHistogram(e,t).catch((()=>(i(e.signal),this._getHistogramFromMemory(e)))):this._getHistogramFromMemory(e)}classBreaks(e){const t=this.getField(e.field);if(this._featureLayerAdapter)return this._featureLayerAdapter.classBreaks(e);if(e.filter)throw new a(\"scene-layer-adapter:not-supported\",\"filter is not supported\");return this._hasCachedStatistics(t?.name)?Promise.reject(new a(\"scene-layer-adapter:not-supported\",\"Cached stats not supported\")):this._getClassBreaksFromMemory(e)}queryFeatureCount(e){return this._featureLayerAdapter?this._featureLayerAdapter.queryFeatureCount(e):Promise.reject(new a(\"scene-layer-adapter:not-supported\",\"SceneLayer without associated FeatureLayer does not support count query\"))}generateRenderer(e,t){return this._featureLayerAdapter?this._featureLayerAdapter.generateRenderer(e,t):Promise.reject(new a(\"scene-layer-adapter:not-supported\",\"SceneLayer without associated FeatureLayer does not support generateRenderer operation\"))}heatmapStatistics(e){return this._featureLayerAdapter?this._featureLayerAdapter.heatmapStatistics(e):Promise.reject(new a(\"scene-layer-adapter:not-supported\",\"SceneLayer without associated FeatureLayer does not support heatmapStatistics operation\"))}async predominantCategories(e){if(this._featureLayerAdapter)return this._featureLayerAdapter.predominantCategories(e);throw new a(\"scene-layer-adapter:not-supported\",\"SceneLayer without associated FeatureLayer does not support predominantCategories\")}async getSampleFeatures(e,t){if(e.filter)throw new a(\"scene-layer-adapter:not-supported\",\"filter is not supported\");const{view:s,sampleSize:o,requiredFields:n,returnGeometry:l,signal:u}=e,p=1,m=\"json\"===t,c=this.createQuery();c.outFields=n,c.returnGeometry=!!l,c.where=null,c.num=o;let d=[];try{if(d=m?await this._fetchFeaturesJSONFromMemory(s,c,n):await this._fetchFeaturesFromMemory(s,c,n),d.length&&null!=o&&o>0&&o<=d.length)return r(d,o,p)}catch(y){i(u)}let h=null;if(this._featureLayerAdapter){const r={...e};delete r.view,h=await this._featureLayerAdapter.getSampleFeatures(r,t)}return h?.length?h:r(d,d.length,p)}load(e){const t=this.layer.load(e).then((async t=>{this.workerClient=f.getInstance(),await this.workerClient.open(e.signal);const r=t.associatedLayer;if(this.geometryType=t.geometryType,null!=r){this._featureLayerAdapter=new _({layer:r});return this._featureLayerAdapter.load(e).then((()=>{this.objectIdField=this._featureLayerAdapter.objectIdField,this.supportsSQLExpression=this._featureLayerAdapter.supportsSQLExpression,this.minScale=this._featureLayerAdapter.minScale,this.maxScale=this._featureLayerAdapter.maxScale,this.fullExtent=this._featureLayerAdapter.fullExtent}))}this.objectIdField=t.objectIdField,this.supportsSQLExpression=!1,this.hasQueryEngine=!1,this.fullExtent=t.fullExtent}));return this.addResolvingPromise(t),Promise.resolve(this)}};function j(e,r=e.minimum,a=e.maximum,s){const i=[];for(let t=0;t<s;t++)i[t]=0;const o=e.counts.length,n=e.minimum,l=e.maximum;for(let t=0;t<o;t++){const u=(t+.5)/o,p=((1-u)*n+u*l-r)/(a-r)*s;p>=0&&p<=s&&(i[p===s?s-1:Math.floor(p)]+=e.counts[t])}const u=[];return i.forEach(((e,r)=>{const a=new t({attributes:{}});a.attributes.EXPR_1=r+1,a.attributes.countOFExpr=e,u.push(a)})),new m({features:u})}e([n({readOnly:!0})],A.prototype,\"adapterName\",void 0),e([n({constructOnly:!0})],A.prototype,\"layer\",void 0),A=e([l(\"esri.smartMapping.support.adapters.SceneLayerAdapter\")],A);const V=A;export{V as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as t}from\"../../../core/accessorSupport/decorators/subclass.js\";import s from\"./SceneLayerAdapter.js\";let o=class extends s{constructor(e){super(e),this.adapterName=\"point-cloud-layer-adapter\"}getField(e){return this.layer.fieldsIndex.get(e??\"\")}getFieldUsageInfo(e){const r=this.getField(e);if(!r)return null;const t=this._hasCachedStatistics(r.name);return{supportsLabelingInfo:t,supportsPopupTemplate:t,supportsRenderer:t,supportsLayerQuery:!1,supportsStatistics:t}}getFieldDomain(){return null}load(e){const r=this.layer.load(e).then((()=>{this.geometryType=\"point\",this.objectIdField=null,this.supportsSQLExpression=!1,this.hasQueryEngine=!1}));return this.addResolvingPromise(r),Promise.resolve(this)}};e([r({readOnly:!0})],o.prototype,\"adapterName\",void 0),o=e([t(\"esri.smartMapping.support.adapters.PointCloudLayerAdapter\")],o);const p=o;export{p as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import{isTimeOnlyField as o}from\"../../../layers/support/fieldUtils.js\";import{isAnyDateField as e}from\"../utils.js\";import a from\"./InMemoryLayerAdapter.js\";import{getSummaryStatsQuery as i,getSummaryStatisticsFromFeatureSet as p}from\"./support/utils.js\";import{processSummaryStatisticsResult as m}from\"../../../statistics/utils.js\";let c=class extends a{constructor(){super(...arguments),this.adapterName=\"stream-layer-adapter\"}async _summaryStatsFromClientQuery(t,r){const{signal:s,view:a}=t,c=i(this,t,r);c.outStatistics=c.outStatistics?.filter((t=>\"totalcount_value\"!==t.outStatisticFieldName));const u=await this._fetchFeatureSetFromMemory(c,a,s),l=p(u,e(r)||o(r));return m(l,t.outStatisticTypes)}};t([r({readOnly:!0})],c.prototype,\"adapterName\",void 0),c=t([s(\"esri.smartMapping.support.adapters.StreamLayerAdapter\")],c);const u=c;export{u as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../CSVLayerAdapter.js\";import a from\"../FeatureLayerAdapter.js\";import r from\"../FeatureLayerBinningAdapter.js\";import t from\"../InMemoryLayerAdapter.js\";import y from\"../LayerAdapter.js\";import o from\"../PointCloudLayerAdapter.js\";import L from\"../SceneLayerAdapter.js\";import p from\"../StreamLayerAdapter.js\";var l;!function(e){e[e.CatalogLayer=0]=\"CatalogLayer\",e[e.CatalogFootprintLayer=1]=\"CatalogFootprintLayer\",e[e.CSVLayer=2]=\"CSVLayer\",e[e.FeatureLayer=3]=\"FeatureLayer\",e[e.GeoJSONLayer=4]=\"GeoJSONLayer\",e[e.KnowledgeGraphSublayer=5]=\"KnowledgeGraphSublayer\",e[e.OGCFeatureLayer=6]=\"OGCFeatureLayer\",e[e.OrientedImageryLayer=7]=\"OrientedImageryLayer\",e[e.ParquetLayer=8]=\"ParquetLayer\",e[e.PointCloudLayer=9]=\"PointCloudLayer\",e[e.SceneLayer=10]=\"SceneLayer\",e[e.StreamLayer=11]=\"StreamLayer\",e[e.SubtypeGroupLayer=12]=\"SubtypeGroupLayer\",e[e.SubtypeSublayer=13]=\"SubtypeSublayer\",e[e.WFSLayer=14]=\"WFSLayer\"}(l||(l={}));const u={[l.CatalogLayer]:{adapter:a,type:\"catalog\",label:\"CatalogLayer\"},[l.CatalogFootprintLayer]:{adapter:a,type:\"catalog-footprint\",label:\"CatalogFootprintLayer\"},[l.CSVLayer]:{adapter:e,type:\"csv\",label:\"CSVLayer\"},[l.FeatureLayer]:{adapter:a,type:\"feature\",label:\"FeatureLayer\"},[l.GeoJSONLayer]:{adapter:a,type:\"geojson\",label:\"GeoJSONLayer\"},[l.KnowledgeGraphSublayer]:{adapter:a,type:\"knowledge-graph-sublayer\",label:\"KnowledgeGraphSublayer\"},[l.OGCFeatureLayer]:{adapter:t,type:\"ogc-feature\",label:\"OGCFeatureLayer\"},[l.OrientedImageryLayer]:{adapter:a,type:\"oriented-imagery\",label:\"OrientedImageryLayer\"},[l.ParquetLayer]:{adapter:a,type:\"parquet\",label:\"ParquetLayer\"},[l.PointCloudLayer]:{adapter:o,type:\"point-cloud\",label:\"PointCloudLayer\"},[l.SceneLayer]:{adapter:L,type:\"scene\",label:\"SceneLayer\"},[l.StreamLayer]:{adapter:p,type:\"stream\",label:\"StreamLayer\"},[l.SubtypeGroupLayer]:{adapter:a,type:\"subtype-group\",label:\"SubtypeGroupLayer\"},[l.SubtypeSublayer]:{adapter:a,type:\"subtype-sublayer\",label:\"SubtypeSublayer\"},[l.WFSLayer]:{adapter:a,type:\"wfs\",label:\"WFSLayer\"}},n=[l.CatalogLayer,l.CatalogFootprintLayer,l.CSVLayer,l.FeatureLayer,l.GeoJSONLayer,l.KnowledgeGraphSublayer,l.OGCFeatureLayer,l.OrientedImageryLayer,l.ParquetLayer,l.PointCloudLayer,l.SceneLayer,l.StreamLayer,l.SubtypeGroupLayer,l.SubtypeSublayer,l.WFSLayer],S=[l.CatalogFootprintLayer,l.CSVLayer,l.FeatureLayer,l.GeoJSONLayer,l.KnowledgeGraphSublayer,l.OGCFeatureLayer,l.OrientedImageryLayer,l.ParquetLayer,l.SceneLayer,l.StreamLayer,l.SubtypeGroupLayer,l.SubtypeSublayer,l.WFSLayer],d=[l.CSVLayer,l.FeatureLayer,l.GeoJSONLayer,l.OGCFeatureLayer,l.KnowledgeGraphSublayer,l.OrientedImageryLayer,l.ParquetLayer,l.StreamLayer,l.WFSLayer];function b(e){return e.map((e=>u[e].label))}function i(e){return e.map((e=>u[e].type))}function m(e,a=n,t){if(e instanceof y)return e;const o=g(e,a);return o?t?new r({layer:e}):new o({layer:e}):null}function g(e,a=n){let r=null;return a.some((a=>{const t=e.type===u[a].type;return t&&(r=u[a].adapter),t})),r}export{l as LayerType,d as binningCapableLayerTypes,m as createLayerAdapter,n as defaultSupportedLayerTypes,S as featureCapableLayerTypes,b as getLayerTypeLabels,i as getLayerTypes};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import{verifyBasicFieldValidity as i,verifyFilterValidity as s}from\"./support/utils.js\";import{verifyBinningParams as r}from\"../support/binningUtils.js\";import{getFieldsList as a}from\"../support/utils.js\";import{binningCapableLayerTypes as n,defaultSupportedLayerTypes as t,createLayerAdapter as l,getLayerTypeLabels as o}from\"../support/adapters/support/layerUtils.js\";async function u(u){if(!u?.layer||!u.field&&!u.valueExpression)throw new e(\"unique-values:missing-parameters\",\"'layer' and 'field' or 'valueExpression' parameters are required\");const p=u.valueExpression||u.sqlExpression,f=p&&!u.sqlExpression;if(p)if(f){if(!u.view)throw new e(\"unique-values:missing-parameters\",\"View is required when 'valueExpression' is specified\")}else if(!u.valueExpression)throw new e(\"unique-values:missing-parameters\",\"'valueExpression' parameters are required\");u.forBinning&&r(u,\"unique-values\");const{layer:m,...d}=u,v=u.forBinning?n:t,w=l(m,v,u.forBinning);if(!w)throw new e(\"unique-values:invalid-parameters\",\"'layer' must be one of these types: \"+o(v).join(\", \"));const c={layerAdapter:w,...d},q=null!=c.signal?{signal:c.signal}:null;await w.load(q);const x=await a({field:c.field,field2:c.field2,field3:c.field3,valueExpression:c.valueExpression}),y=i(w,x,\"unique-values:invalid-parameters\");if(y)throw y;c.filter&&!c.filter.spatialRelationship&&(c.filter.spatialRelationship=\"intersects\");const E=s(c.filter,\"summary-statistics:invalid-parameters\");if(E)throw E;return c}async function p(e){const{layerAdapter:i,...s}=await u(e);return i.uniqueValues(s)}export{p as default};\n"],
  "mappings": "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",
  "names": ["i", "e", "n", "t", "p", "e", "f", "t", "o", "r", "e", "m", "c", "n", "i", "p", "u", "d", "a", "l", "s", "b", "y", "l", "t", "i", "a", "s", "f", "r", "u", "c", "m", "e", "p", "y", "d", "o", "n", "b", "t", "r", "i", "s", "t", "r", "u", "u", "n", "r", "e", "l", "t", "i", "o", "a", "s", "i", "n", "o", "a", "e", "l", "s", "p", "m", "o", "s", "F", "w", "S", "T", "e", "t", "n", "l", "i", "o", "a", "_a", "r", "z", "$", "C", "j", "q", "b", "s", "u", "c", "m", "f", "p", "d", "R", "N", "U", "M", "P", "k", "y", "g", "h", "E", "V", "G", "V", "j", "q", "I", "i", "e", "t", "a", "r", "o", "l", "s", "u", "m", "F", "M", "n", "S", "U", "C", "g", "d", "p", "f", "c", "z", "v", "T", "h", "B", "E", "b", "y", "w", "D", "P", "$", "G", "R", "s", "e", "t", "i", "a", "o", "T", "r", "n", "k", "l", "u", "d", "m", "y", "c", "p", "f", "h", "z", "S", "b", "P", "U", "D", "P", "W", "H", "Z", "D", "e", "t", "T", "r", "i", "s", "a", "k", "$", "u", "I", "E", "o", "S", "n", "j", "l", "m", "U", "b", "F", "c", "h", "p", "d", "f", "y", "g", "v", "_", "M", "z", "m", "e", "r", "i", "n", "l", "p", "c", "T", "d", "a", "f", "t", "s", "o", "U", "N", "e", "t", "r", "i", "s", "o", "n", "l", "m", "d", "u", "p", "g", "y", "f", "h", "w", "P", "a", "c", "U", "T", "A", "s", "e", "t", "r", "a", "i", "o", "n", "l", "u", "p", "m", "z", "c", "d", "h", "T", "b", "$", "j", "y", "V", "o", "V", "e", "r", "t", "p", "c", "D", "t", "r", "s", "a", "k", "u", "l", "$", "l", "e", "u", "d", "D", "p", "V", "n", "S", "b", "m", "e", "a", "n", "t", "s", "o", "g", "T", "r", "u", "u", "p", "f", "i", "m", "d", "v", "n", "w", "b", "c", "q", "y", "T", "E", "M", "e", "s"]
}
