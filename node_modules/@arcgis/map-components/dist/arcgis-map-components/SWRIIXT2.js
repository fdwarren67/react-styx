/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.32/esri/copyright.txt for details.
v4.32.14 */
import{b as l}from"./TEI55RMQ.js";import{b as t}from"./2KUB34A2.js";import{j as n,o as m}from"./NZT7K2ZT.js";var _=(c,e)=>(s,o)=>d(s,c,o),i=class extends l{hostConnected(){this.component.manager.loadedCalled&&t(this.component)}async hostLoad(){await super.hostLoad(),!this.component.manager.destroyed&&this._watchMetaProperties()}hostLoaded(){let{el:e}=this.component,s=e.shadowRoot?.firstElementChild??e.firstElementChild??void 0;e.childElem=s??e.childElem;let o=!1,h=this.component.el.view;Object.defineProperty(this.component.el,"view",{get:()=>this._instance.view,set:r=>{let p=this.component.el.view,a=r;this._instance.view=a,this._instance.map=a?.map,this._watchViewDestroy(),this.component.requestUpdate("view",p),r&&!o&&(o=!0,this.component.arcgisReady.emit())},configurable:!0,enumerable:!0}),h&&(this._instance.view=h),this.component.el.isConnected&&(t(this.component),this._watchViewDestroy())}hostDisconnected(){typeof this.component.el.childElem=="object"&&this.component.el.view?.ui?.remove(this.component.el.childElem)}hostDestroy(){super.hostDestroy(),this._watchViewDestroyHandle?.remove()}_watchMetaProperties(){n(this.component,"position",e=>{this.component.el.childElem!=null&&typeof e=="string"&&t(this.component)}),n(this.component,"referenceElement",()=>t(this.component))}_watchViewDestroy(){this._watchViewDestroyHandle?.remove(),this._watchViewDestroyHandle=this.reactiveUtils.when(()=>this.component.el.view?.destroyed===!0,()=>void this.component.destroy().catch(console.error),{sync:!0})}},d=m(i);export{_ as a};
