/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.32/esri/copyright.txt for details.
v4.32.14 */
import{a as p}from"./3KSYR3NG.js";import{b as g}from"./5UAPBOWE.js";import{a as d,b as o,c,i as n}from"./2KUB34A2.js";import{A as t,B as h,G as l,g as a,s as r}from"./NZT7K2ZT.js";var[{watch:w},b]=await $arcgis.l(["core/reactiveUtils","widgets/UtilityNetworkTrace"]);var i=class extends h{constructor(){super(...arguments),this._watchHandles=[],this.defaultGraphicColor={color:[255,255,0,.6],haloOpacity:.9,fillOpacity:.2,hex:"#FFFF00"},this.disabled=!1,this.enableResultArea=!1,this.flags=[],this.gdbVersion="sde.DEFAULT",this.inputSettings=[],this.position="bottom-left",this.selectOnCompleteDisabled=!1,this.selectedTraces=[],this.showGraphicsOnCompleteDisabled=!1,this.showSelectionAttributesDisabled=!1,this.arcgisAddFlag=t(),this.arcgisAddFlagComplete=t(),this.arcgisAddFlagError=t(),this.arcgisAddResultArea=t(),this.arcgisReady=t(),this.arcgisRemoveResultArea=t()}static{this.properties={defaultGraphicColor:0,disabled:7,enableResultArea:5,flags:0,gdbVersion:1,inputSettings:0,position:1,referenceElement:1,resultAreaProperties:0,selectOnCompleteDisabled:5,selectedTraces:0,showGraphicsOnCompleteDisabled:5,showSelectionAttributesDisabled:5,view:0,widget:0}}static{this.shadowRootOptions=a}async checkCanTrace(){await this.widget?.checkCanTrace()}async confirmReset(){this.widget?.confirmReset()}willUpdate(e){e.has("referenceElement")&&this.referenceElementWatcher(this.referenceElement),e.has("enableResultArea")&&this.enableResultAreaWatcher(this.enableResultArea),e.has("defaultGraphicColor")&&this.defaultGraphicColorWatcher(this.defaultGraphicColor),e.has("disabled")&&this.disabledWatcher(this.disabled,e.get("disabled")),e.has("flags")&&this.flagsWatcher(this.flags),e.has("gdbVersion")&&this.gdbVersionWatcher(this.gdbVersion),e.has("inputSettings")&&this.inputSettingsWatcher(this.inputSettings),e.has("resultAreaProperties")&&this.resultAreaProperties&&this.resultAreaPropertiesWatcher(this.resultAreaProperties),e.has("selectedTraces")&&this.selectedTracesWatcher(this.selectedTraces),e.has("selectOnCompleteDisabled")&&this.selectOnCompleteDisabledWatcher(this.selectOnCompleteDisabled),e.has("showGraphicsOnCompleteDisabled")&&this.showGraphicsOnCompleteDisabledWatcher(this.showGraphicsOnCompleteDisabled),e.has("showSelectionAttributesDisabled")&&this.showSelectionAttributesDisabledWatcher(this.showSelectionAttributesDisabled),e.has("position")&&this.positionWatcher(this.position),e.has("view")&&this.viewWatcher(this.view)}async loaded(){let e=this._createParams(),s=new b(e);this.widget=s,await this._addWatchers(),this._proxyEvents(),this._addContainer(),c(this),o(this)}disconnectedCallback(){super.disconnectedCallback(),p(this)}referenceElementWatcher(e){n(this,e)}enableResultAreaWatcher(e){this.widget&&(this.widget.enableResultArea=e)}defaultGraphicColorWatcher(e){this.widget&&(this.widget.defaultGraphicColor=e)}disabledWatcher(e,s){this.widget&&e!==s&&(this.widget.disabled=e)}flagsWatcher(e){this.widget&&(this.widget.flags=e)}gdbVersionWatcher(e){this.widget&&(this.widget.gdbVersion=e)}inputSettingsWatcher(e){this.widget&&(this.widget.inputSettings=e)}resultAreaPropertiesWatcher(e){this.widget&&(this.widget.resultAreaProperties=e)}selectedTracesWatcher(e){this.widget&&(this.widget.selectedTraces=e)}selectOnCompleteDisabledWatcher(e){e!==void 0&&this.widget&&(this.widget.selectOnComplete=!e)}showGraphicsOnCompleteDisabledWatcher(e){e!==void 0&&this.widget&&(this.widget.showGraphicsOnComplete=!e)}showSelectionAttributesDisabledWatcher(e){e!==void 0&&this.widget&&(this.widget.showSelectionAttributes=!e)}positionWatcher(e){e!==void 0&&this.widget&&this.el.childElem&&this.view.ui?.move(this.el.childElem,e)}viewWatcher(e){e!==void 0&&this.widget&&(this.widget.view=e)}_addContainer(){this.widget.container=this.el.childElem}async _addWatchers(){d(this,w(()=>this.widget.disabled,e=>this.disabled=e))}_createParams(){let e={};return this.defaultGraphicColor&&(e.defaultGraphicColor=this.defaultGraphicColor),this.enableResultArea!==void 0&&(e.enableResultArea=this.enableResultArea),this.flags&&(e.flags=this.flags),this.gdbVersion&&(e.gdbVersion=this.gdbVersion),this.inputSettings&&(e.inputSettings=this.inputSettings),this.resultAreaProperties&&(e.resultAreaProperties=this.resultAreaProperties),this.selectedTraces&&(e.selectedTraces=this.selectedTraces),this.selectOnCompleteDisabled!==void 0&&(e.selectOnComplete=!this.selectOnCompleteDisabled),this.showGraphicsOnCompleteDisabled!==void 0&&(e.showGraphicsOnComplete=!this.showGraphicsOnCompleteDisabled),this.showSelectionAttributesDisabled!==void 0&&(e.showSelectionAttributes=!this.showSelectionAttributesDisabled),this.view&&(e.view=this.view),e}_proxyEvents(){this.widget.on("add-flag",e=>this.arcgisAddFlag.emit(e)),this.widget.on("add-flag-complete",e=>this.arcgisAddFlagComplete.emit(e)),this.widget.on("add-flag-error",e=>this.arcgisAddFlagError.emit(e)),this.widget.on("add-result-area",e=>this.arcgisAddResultArea.emit(e)),this.widget.on("remove-result-area",e=>this.arcgisRemoveResultArea.emit(e))}_setChildElement(e){this.el.childElem=e}render(){return r`<div ${g(this._setChildElement)}></div>`}};l("arcgis-utility-network-trace",i);export{i as ArcgisUtilityNetworkTrace};
